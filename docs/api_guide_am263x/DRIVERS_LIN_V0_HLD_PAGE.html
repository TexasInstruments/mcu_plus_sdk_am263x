<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263x MCU+ SDK: LIN HLD</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263x MCU+ SDK
   &#160;<span id="projectnumber">11.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('DRIVERS_LIN_V0_HLD_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">LIN HLD </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md1096">Features Supported</a></li>
<li class="level1"><a href="#autotoc_md1097">SysConfig Features</a></li>
<li class="level1"><a href="#autotoc_md1098">Features not Supported</a></li>
<li class="level1"><a href="#autotoc_md1099">Usage Overview</a><ul><li class="level2"><a href="#autotoc_md1100">API Sequence</a></li>
<li class="level2"><a href="#autotoc_md1101">Initializing the LIN HLD Driver</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md1102">Example Usage</a></li>
<li class="level1"><a href="#autotoc_md1103">API</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_drivers_lin_v0_hld"></a></p>
<p>The General-Purpose LIN/SCI driver provides APIs to configure the available LIN modules in multiple modes.</p>
<h1><a class="anchor" id="autotoc_md1096"></a>
Features Supported</h1>
<ul>
<li>Compatibility with LIN 1.3 , 2.0, and 2.1 protocols.</li>
<li>Configurable baud rate up to 20 kbps.</li>
<li>Two external pins: LINRX and LINTX.</li>
<li>Multi-buffered receive and transmit units.</li>
<li>Identification masks for message filtering.</li>
<li>Automatic commander header generation<ul>
<li>Programmable synchronization break field.</li>
<li>Synchronization field.</li>
<li>Identifier field.</li>
</ul>
</li>
<li>Responder Automatic Synchronization<ul>
<li>Synchronization break detection.</li>
<li>Optional baud rate update.</li>
<li>Synchronization validation.</li>
</ul>
</li>
<li>231 programmable transmission rates with 7 fractional bits.</li>
<li>Wakeup on LINRX active level from transceiver.</li>
<li>Automatic idle bus detection</li>
<li>Error detection<ul>
<li>Bit error.</li>
<li>Bus error.</li>
<li>No-response error.</li>
<li>Checksum error.</li>
<li>Synchronization field error.</li>
<li>Parity error.</li>
</ul>
</li>
<li>Capability to use Direct Memory Access (DMA) to transmit and receive data.</li>
<li>2 interrupt lines (INT0 and INT1) with user-configurable interrupt sources<ul>
<li>Receive.</li>
<li>Transmit.</li>
<li>ID, error, and status.</li>
</ul>
</li>
<li>Support for LIN 2.0 checksum.</li>
<li>Enhanced synchronizer finite state machine (FSM) support for frame processing.</li>
<li>Enhanced handling of extended frames.</li>
<li>Enhanced baud rate generator.</li>
</ul>
<h1><a class="anchor" id="autotoc_md1097"></a>
SysConfig Features</h1>
<dl class="section note"><dt>Note</dt><dd>It is strongly recommend to use SysConfig where it is available instead of using direct SW API calls. This will help simplify the SW application and also catch common mistakes early in the development cycle.</dd></dl>
<p>SysConfig can be used to configure below parameters apart from common configurations like Clock,MPU,RAT and others.</p>
<ul>
<li>LIN module configuration parameters Such as Clock Source, Operating Mode, Transfer Mode, Baud Rate.</li>
<li>LIN instances and pin Configuration for each Instance.</li>
<li>LIN frame specific Configurations such as Parity, LIN Mode(Commander/Responder), Checksum Type, Sync Delimiter, Sync Break.</li>
<li>Based on above parameters, the SysConfig generated code does below as part of Drivers_open and Drivers_close functions.<ul>
<li>Set LIN instance parameter configuration.</li>
<li>ISR/DMA Configuration for Transactions.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md1098"></a>
Features not Supported</h1>
<ul>
<li>Extended Frames.</li>
<li>Wake-Up on LINRX active level from transceiver.</li>
<li>Automatic Wake-Up.</li>
</ul>
<h1><a class="anchor" id="autotoc_md1099"></a>
Usage Overview</h1>
<h2><a class="anchor" id="autotoc_md1100"></a>
API Sequence</h2>
<ul>
<li><a class="el" href="group__DRV__LIN__HLD__MODULE.html#gac602e11cb5e3dcf7ebd44a7d45fe9a10" title="API to initialize the LIN_OpenParams struct to its defaults.">LIN_Params_init()</a>: Fill Default Value in <a class="el" href="structLIN__OpenParams.html">LIN_OpenParams</a> Structure.</li>
<li><a class="el" href="group__DRV__LIN__HLD__MODULE.html#ga3ef5405fe115a697caa2961e9e423288" title="API to Open a given LIN Instance.">LIN_open()</a>: Open an LIN HLD Instance.</li>
<li><a class="el" href="group__DRV__LIN__HLD__MODULE.html#ga31e5d0d27e525b49358153457ac1a454" title="API to Close the LIN Instance specified by the handle.">LIN_close()</a>: Close an LIN HLD Instance.</li>
<li><a class="el" href="group__DRV__LIN__HLD__MODULE.html#ga903b37581491d68e58803593a798e6f7" title="API to set default values of LIN_SCI_Frame in frame.">LIN_SCI_Frame_init()</a>: Fill Default Value in <a class="el" href="structLIN__SCI__Frame.html" title="LIN Frame Structure.">LIN_SCI_Frame</a> Structure.</li>
<li><a class="el" href="group__DRV__LIN__HLD__MODULE.html#ga7b7ee26200bc35058069788a2de93199" title="API to initiate a LIN/SCI frame transfer.">LIN_SCI_transferFrame()</a>: Initiate a LIN Transaction.</li>
<li><a class="el" href="group__DRV__LIN__HLD__MODULE.html#ga06bdedee1ba51e133886c75068349a13" title="API to get the handle of an open LIN instance from the instance index.">LIN_getHandle()</a>: Get LIN Handle from index.</li>
</ul>
<h2><a class="anchor" id="autotoc_md1101"></a>
Initializing the LIN HLD Driver</h2>
<p><a class="el" href="group__DRV__LIN__HLD__MODULE.html#gacfcf77a9e16f937b34f9961a9a148bdf" title="Initialize each driver instance object and create driver lock.">LIN_init()</a> must be called before any other LIN Open is called.</p>
<p><a class="el" href="group__DRV__LIN__HLD__MODULE.html#ga3ef5405fe115a697caa2961e9e423288" title="API to Open a given LIN Instance.">LIN_open()</a> must be called before calling any LIN APIs. This function takes index and params to initialize an instance and returns the handle to the LIN instance.</p>
<p>Calling <a class="el" href="group__DRV__LIN__HLD__MODULE.html#ga31e5d0d27e525b49358153457ac1a454" title="API to Close the LIN Instance specified by the handle.">LIN_close()</a> closes the instance passed.</p>
<p>Please note that the initialization of LIN HLD instances is taken care by the SysConfig generated code.</p>
<h1><a class="anchor" id="autotoc_md1102"></a>
Example Usage</h1>
<p>Include the below file to access the APIs </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="lin_8h.html">drivers/lin.h</a>&gt;</span></div>
</div><!-- fragment --><p> Instance Open Example </p><div class="fragment"><div class="line">    <span class="comment">/* Open Params Structure */</span></div>
<div class="line">    <a class="code" href="structLIN__OpenParams.html">LIN_OpenParams</a>      params;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize parameters */</span></div>
<div class="line">    <a class="code" href="group__DRV__LIN__HLD__MODULE.html#gac602e11cb5e3dcf7ebd44a7d45fe9a10">LIN_Params_init</a>(&amp;params);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Call LIN open */</span></div>
<div class="line">    gLinHandle = <a class="code" href="group__DRV__LIN__HLD__MODULE.html#ga3ef5405fe115a697caa2961e9e423288">LIN_open</a>(CONFIG_LIN0, &amp;params);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(gLinHandle != NULL);</div>
</div><!-- fragment --><p> Instance Close Example </p><div class="fragment"><div class="line">    <a class="code" href="group__DRV__LIN__HLD__MODULE.html#ga31e5d0d27e525b49358153457ac1a454">LIN_close</a>(gLinHandle);</div>
</div><!-- fragment --><p> LIN Commander Write </p><div class="fragment"><div class="line">    uint8_t     i = 0;</div>
<div class="line">    int32_t     status = <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>;</div>
<div class="line">    uint8_t     txData[8] <a class="code" href="group__lld__ethernet.html#ga8c1dfc1ccf00a08192611433ee7f17b4">__attribute__</a>((aligned(<a class="code" href="group__KERNEL__DPL__CACHE.html#ga00e1218cd411e9968bd2a6af570a786c">CacheP_CACHELINE_ALIGNMENT</a>)));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (uint8_t i = 0; i &lt; 8; i++)</div>
<div class="line">    {</div>
<div class="line">        txData[i] =  0xA1 + i;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structLIN__SCI__Frame.html">LIN_SCI_Frame</a> linFrame;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__DRV__LIN__HLD__MODULE.html#ga903b37581491d68e58803593a798e6f7">LIN_SCI_Frame_init</a>(&amp;linFrame);</div>
<div class="line"> </div>
<div class="line">    linFrame.<a class="code" href="structLIN__SCI__Frame.html#a68c2a5f3b10baf39914f61dda31d90a8">id</a> = 0x11 + i;</div>
<div class="line">    linFrame.<a class="code" href="structLIN__SCI__Frame.html#aca7591ff6722f33c332304ce46f08a10">frameLen</a> = i + 1U;</div>
<div class="line">    linFrame.<a class="code" href="structLIN__SCI__Frame.html#a4f515fd9eb9f75b1eae3ac9d4a0388f5">dataBuf</a> = txData;</div>
<div class="line"> </div>
<div class="line">    status = <a class="code" href="group__DRV__LIN__HLD__MODULE.html#ga7b7ee26200bc35058069788a2de93199">LIN_SCI_transferFrame</a>(gLinHandle, &amp;linFrame);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a> (<a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a> == status);</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md1103"></a>
API</h1>
<p><a class="el" href="group__DRV__LIN__HLD__MODULE.html">APIs for LIN HLD</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="astructLIN__SCI__Frame_html_aca7591ff6722f33c332304ce46f08a10"><div class="ttname"><a href="structLIN__SCI__Frame.html#aca7591ff6722f33c332304ce46f08a10">LIN_SCI_Frame::frameLen</a></div><div class="ttdeci">uint8_t frameLen</div><div class="ttdef"><b>Definition:</b> sci_lin.h:558</div></div>
<div class="ttc" id="astructLIN__OpenParams_html"><div class="ttname"><a href="structLIN__OpenParams.html">LIN_OpenParams</a></div><div class="ttdef"><b>Definition:</b> sci_lin.h:670</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__CACHE_html_ga00e1218cd411e9968bd2a6af570a786c"><div class="ttname"><a href="group__KERNEL__DPL__CACHE.html#ga00e1218cd411e9968bd2a6af570a786c">CacheP_CACHELINE_ALIGNMENT</a></div><div class="ttdeci">#define CacheP_CACHELINE_ALIGNMENT</div><div class="ttdoc">Cache line size for alignment of buffers. Actual CPU defined cache line can be smaller that this valu...</div><div class="ttdef"><b>Definition:</b> CacheP.h:60</div></div>
<div class="ttc" id="agroup__lld__ethernet_html_ga8c1dfc1ccf00a08192611433ee7f17b4"><div class="ttname"><a href="group__lld__ethernet.html#ga8c1dfc1ccf00a08192611433ee7f17b4">__attribute__</a></div><div class="ttdeci">struct lld_sockaddr __attribute__</div><div class="ttdoc">This is the SecureBoot Stream type which holds the data for a specific bootloader to HSM call....</div></div>
<div class="ttc" id="agroup__DRV__LIN__HLD__MODULE_html_ga7b7ee26200bc35058069788a2de93199"><div class="ttname"><a href="group__DRV__LIN__HLD__MODULE.html#ga7b7ee26200bc35058069788a2de93199">LIN_SCI_transferFrame</a></div><div class="ttdeci">int32_t LIN_SCI_transferFrame(LIN_Handle handle, LIN_SCI_Frame *frame)</div><div class="ttdoc">API to initiate a LIN/SCI frame transfer.</div></div>
<div class="ttc" id="agroup__DRV__LIN__HLD__MODULE_html_ga903b37581491d68e58803593a798e6f7"><div class="ttname"><a href="group__DRV__LIN__HLD__MODULE.html#ga903b37581491d68e58803593a798e6f7">LIN_SCI_Frame_init</a></div><div class="ttdeci">void LIN_SCI_Frame_init(LIN_SCI_Frame *frame)</div><div class="ttdoc">API to set default values of LIN_SCI_Frame in frame.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_ga47e638d7c694e6d42e57b96b071b8a6f"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a></div><div class="ttdeci">#define SystemP_SUCCESS</div><div class="ttdoc">Return status when the API execution was successful.</div><div class="ttdef"><b>Definition:</b> SystemP.h:56</div></div>
<div class="ttc" id="astructLIN__SCI__Frame_html"><div class="ttname"><a href="structLIN__SCI__Frame.html">LIN_SCI_Frame</a></div><div class="ttdoc">LIN Frame Structure.</div><div class="ttdef"><b>Definition:</b> sci_lin.h:552</div></div>
<div class="ttc" id="astructLIN__SCI__Frame_html_a68c2a5f3b10baf39914f61dda31d90a8"><div class="ttname"><a href="structLIN__SCI__Frame.html#a68c2a5f3b10baf39914f61dda31d90a8">LIN_SCI_Frame::id</a></div><div class="ttdeci">uint8_t id</div><div class="ttdef"><b>Definition:</b> sci_lin.h:556</div></div>
<div class="ttc" id="agroup__DRV__LIN__HLD__MODULE_html_ga31e5d0d27e525b49358153457ac1a454"><div class="ttname"><a href="group__DRV__LIN__HLD__MODULE.html#ga31e5d0d27e525b49358153457ac1a454">LIN_close</a></div><div class="ttdeci">void LIN_close(LIN_Handle handle)</div><div class="ttdoc">API to Close the LIN Instance specified by the handle.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_ga552e9055ca7eab5fe6c224c6cd5a9d4c"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a></div><div class="ttdeci">#define DebugP_assert(expression)</div><div class="ttdoc">Function to call for assert check.</div><div class="ttdef"><b>Definition:</b> DebugP.h:177</div></div>
<div class="ttc" id="agroup__DRV__LIN__HLD__MODULE_html_ga3ef5405fe115a697caa2961e9e423288"><div class="ttname"><a href="group__DRV__LIN__HLD__MODULE.html#ga3ef5405fe115a697caa2961e9e423288">LIN_open</a></div><div class="ttdeci">LIN_Handle LIN_open(uint32_t index, LIN_OpenParams *openParams)</div><div class="ttdoc">API to Open a given LIN Instance.</div></div>
<div class="ttc" id="alin_8h_html"><div class="ttname"><a href="lin_8h.html">lin.h</a></div></div>
<div class="ttc" id="astructLIN__SCI__Frame_html_a4f515fd9eb9f75b1eae3ac9d4a0388f5"><div class="ttname"><a href="structLIN__SCI__Frame.html#a4f515fd9eb9f75b1eae3ac9d4a0388f5">LIN_SCI_Frame::dataBuf</a></div><div class="ttdeci">void * dataBuf</div><div class="ttdef"><b>Definition:</b> sci_lin.h:560</div></div>
<div class="ttc" id="agroup__DRV__LIN__HLD__MODULE_html_gac602e11cb5e3dcf7ebd44a7d45fe9a10"><div class="ttname"><a href="group__DRV__LIN__HLD__MODULE.html#gac602e11cb5e3dcf7ebd44a7d45fe9a10">LIN_Params_init</a></div><div class="ttdeci">void LIN_Params_init(LIN_OpenParams *openParams)</div><div class="ttdoc">API to initialize the LIN_OpenParams struct to its defaults.</div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
