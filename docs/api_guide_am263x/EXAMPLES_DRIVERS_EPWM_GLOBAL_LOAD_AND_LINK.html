<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263x MCU+ SDK: EPWM Global Load and Link Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263x MCU+ SDK
   &#160;<span id="projectnumber">11.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('EXAMPLES_DRIVERS_EPWM_GLOBAL_LOAD_AND_LINK.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">EPWM Global Load and Link Example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md2394">Introduction</a><ul><li class="level2"><a href="#autotoc_md2395">Global Load Feature</a></li>
<li class="level2"><a href="#autotoc_md2396">Link Feature</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md2397">Example Description</a><ul><li class="level2"><a href="#autotoc_md2398">Configurations</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md2399">External Connections.</a><ul><li class="level2"><a href="#autotoc_md2400">AM263Px or AM263x or AM261x Control Card with HSEC 180 Pin out</a></li>
<li class="level2"><a href="#autotoc_md2401">AM263Px or AM263x Launch Pad</a></li>
<li class="level2"><a href="#autotoc_md2402">AM261x Launch Pad</a></li>
</ul>
</li>
<li class="level1"><a href="#EXAMPLES_DRIVERS_EPWM_GLOBAL_LOAD_AND_LINK_COMBOS">Supported Combinations</a></li>
<li class="level1"><a href="#autotoc_md2403">Steps to Run the Example</a></li>
<li class="level1"><a href="#autotoc_md2404">See Also</a></li>
<li class="level1"><a href="#autotoc_md2405">Sample Output</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_examples_drivers_epwm_global_load_and_link"></a></p>
<h1><a class="anchor" id="autotoc_md2394"></a>
Introduction</h1>
<h2><a class="anchor" id="autotoc_md2395"></a>
Global Load Feature</h2>
<p>Many Applications will have EPWMs with runtime updates to their CMP/TBPRD/Action Qualifier/ DeadBand Registers etc, that affect the EPWM Outputs. Care needs to be taken while updating these registers so that there wouldn't be any incorrect/unexpected/corrupted waveforms while these updates happen. To tackle with such issues, the EPWMs have been equipped with a Global Load feature. Along with the Shadow to Active load strobe for individual register sets, there is optional Global load strobe, if enabled, overwrites the local load strobe. The global load strobe can be used for activating all shadow to active transfers, this will result in retaining the older EPWM outputs untill all the shadow registers are updated, resulting in no currupted waveforms in between.</p>
<p> <style>div.image img[src="am263_epwm_global_load_and_link_without_global_load.png"]{width:50%}</style> </p><div class="image">
<img src="am263_epwm_global_load_and_link_without_global_load.png" alt=""/>
<div class="caption">
EPWM Without Global Load Feature</div></div>
<p> <style>div.image img[src="am263_epwm_global_load_and_link_with_global_load.pngout"]{width:50%}</style> </p><div class="image">
<img src="am263_epwm_global_load_and_link_with_global_load.png" alt=""/>
<div class="caption">
EPWM With Global Load Feature</div></div>
<h2><a class="anchor" id="autotoc_md2396"></a>
Link Feature</h2>
<p>Link Feature helps link the EPWMs to have simultaneous updates to the link enabled registers like TBPRD/CMP(A/B/C/D)/DBFED/DBRED/GLDCTL2, when these registers in the linked EPWMs are written to.</p>
<p> <style>div.image img[src="am263_epwm_global_load_and_link_link_feature.pngout"]{width:50%}</style> </p><div class="image">
<img src="am263_epwm_global_load_and_link_link_feature.png" alt=""/>
<div class="caption">
EPWMs With Link Feature</div></div>
<h1><a class="anchor" id="autotoc_md2397"></a>
Example Description</h1>
<p>This Example aims to showcase the Global Load and Link features usage. </p>
<h2><a class="anchor" id="autotoc_md2398"></a>
Configurations</h2>
<p>4 EPWMs..,</p><ul>
<li>CONFIG_EPWM_NO_GLD : no Global Load is configured</li>
<li>CONFIG_EPWM1_GLD : Global Load is configured.</li>
<li>CONFIG_EPWM2_GLD_LINK_SELF : Global Load is configured. CMP(A/B)/ GLD Controls Linked to self</li>
<li>CONFIG_EPWM3_GLD_LINK_EPWM2 : Global Load is configured. CMP(A/B)/ GLD Controls Linked to CONFIG_EPWM2_GLD_LINK_SELF.</li>
</ul>
<p>Apart from the Global load or Link configurations, all EPWMs are configured similarly. Check the Syscfg for the Global Load Configurations and differences.</p>
<dl class="section note"><dt>Note</dt><dd>Shadow registers are used for CMP, TBPRD regs, while global load is only used on the CMP regs and Link is used for CMP and GLD controls.</dd></dl>
<h1><a class="anchor" id="autotoc_md2399"></a>
External Connections.</h1>
<p>Probe the EPWM outputs for the above EPWMs and Status pin.</p>
<h2><a class="anchor" id="autotoc_md2400"></a>
AM263Px or AM263x or AM261x Control Card with HSEC 180 Pin out</h2>
<ul>
<li>CONFIG_EPWM_NO_GLD : EPWM 0A/0B on HSEC pins 49/51</li>
<li>CONFIG_EPWM1_GLD : EPWM 1A/1B on HSEC pins 53/55</li>
<li>CONFIG_EPWM2_GLD_LINK_SELF : EPWM 2A/2B on HSEC pins 57/59</li>
<li>CONFIG_EPWM3_GLD_LINK_EPWM2 : EPWM 3A/3B on HSEC pins 61/63</li>
<li>Status Pin : GPIO on HSEC pin 57</li>
</ul>
<h2><a class="anchor" id="autotoc_md2401"></a>
AM263Px or AM263x Launch Pad</h2>
<ul>
<li>CONFIG_EPWM_NO_GLD : EPWM 0A/0B on BoosterPack J4 11 / J8 59</li>
<li>CONFIG_EPWM1_GLD : EPWM 1A/1B on BoosterPack J2 37 / J2 38</li>
<li>CONFIG_EPWM2_GLD_LINK_SELF : EPWM 2A/2B on BoosterPack J2 39 / J2 40</li>
<li>CONFIG_EPWM3_GLD_LINK_EPWM2 : EPWM 3A/3B on BoosterPack J8 77 / J8 78</li>
<li>Status Pin : GPIO on J8 52</li>
</ul>
<h2><a class="anchor" id="autotoc_md2402"></a>
AM261x Launch Pad</h2>
<ul>
<li>CONFIG_EPWM_NO_GLD : EPWM 2A/2B on BoosterPack J4 40 / J4 39</li>
<li>CONFIG_EPWM1_GLD : EPWM 3A/3B on BoosterPack J4 38 / J4 37</li>
<li>CONFIG_EPWM2_GLD_LINK_SELF : EPWM 4A/4B on BoosterPack J4 36 / J4 35</li>
<li>CONFIG_EPWM3_GLD_LINK_EPWM2 : EPWM 5A/5B on BoosterPack J6 80 / J2 13</li>
<li>Status Pin : GPIO on J6 78</li>
</ul>
<h1><a class="anchor" id="EXAMPLES_DRIVERS_EPWM_GLOBAL_LOAD_AND_LINK_COMBOS"></a>
Supported Combinations</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter  </th><th class="markdownTableHeadNone">Value   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CPU + OS  </td><td class="markdownTableBodyNone">r5fss0-0 nortos   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Toolchain  </td><td class="markdownTableBodyNone">ti-arm-clang   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Board  </td><td class="markdownTableBodyNone">am263x-cc, am263x-lp   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Example folder  </td><td class="markdownTableBodyNone">examples/drivers/epwm/epwm_global_load_and_link/   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md2403"></a>
Steps to Run the Example</h1>
<ul>
<li><b>When using CCS projects to build</b>, import the CCS project for the required combination and build it using the CCS project menu (see <a class="el" href="CCS_PROJECTS_PAGE.html">Using SDK with CCS Projects</a>).</li>
<li><b>When using makefiles to build</b>, note the required combination and build using make command (see <a class="el" href="MAKEFILE_BUILD_PAGE.html">Using SDK with Makefiles</a>)</li>
<li>Establish connections as mentioned in External Connections section</li>
<li>Launch a CCS debug session and run the executable, see <a class="el" href="CCS_LAUNCH_PAGE.html">CCS Launch, Load and Run</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md2404"></a>
See Also</h1>
<p><a class="el" href="DRIVERS_EPWM_PAGE.html">EPWM</a></p>
<h1><a class="anchor" id="autotoc_md2405"></a>
Sample Output</h1>
<p>Shown below is a sample output when the application is run,</p>
<div class="fragment"><div class="line">EPWM Global Load and Link Test Started ...</div>
<div class="line">EPWM Global Load and Link Test Passed!!</div>
<div class="line">All Tests have Passed!</div>
</div><!-- fragment --><p> <style>div.image img[src="am263_epwm_global_load_and_link_sample_output.pngout"]{width:50%}</style> </p><div class="image">
<img src="am263_epwm_global_load_and_link_sample_output.png" alt=""/>
<div class="caption">
EPWM Global Load and Link Example Sample Output</div></div>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
