<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263x MCU+ SDK: CMPSS Asynchronous trip</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263x MCU+ SDK
   &#160;<span id="projectnumber">11.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('EXAMPLES_DRIVERS_CMPSS_ASYNCHRONOUS_TRIP.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">CMPSS Asynchronous trip </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md2185">Introduction</a></li>
<li class="level1"><a href="#autotoc_md2186">External Connections</a><ul><li class="level2"><a href="#autotoc_md2187">AM263PX-CC E2 or AM263X-CC E2 or AM261X-SOM</a></li>
<li class="level2"><a href="#autotoc_md2188">AM263PX-LP or AM263X-LP</a></li>
<li class="level2"><a href="#autotoc_md2189">AM261x-LP</a></li>
</ul>
</li>
<li class="level1"><a href="#EXAMPLES_DRIVERS_CMPSS_ASYNCHRONOUS_TRIP_COMBOS">Supported Combinations</a></li>
<li class="level1"><a href="#autotoc_md2190">Steps to Run the Example</a></li>
<li class="level1"><a href="#autotoc_md2191">See Also</a></li>
<li class="level1"><a href="#autotoc_md2192">Sample Output</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_examples_drivers_cmpss_asynchronous_trip"></a></p>
<h1><a class="anchor" id="autotoc_md2185"></a>
Introduction</h1>
<p>A CMPSS example that enables the CMPSS High comparator and feeds the asynchronous output to GPIO and EPWM</p>
<p>This example enables the CMPSSA1 COMPH comparator and feeds the asynchronous CTRIPOUTH signal to the XBAROUT0 (XBAROUT8 in case of AM263PX) pin and CTRIPH to EPWM0B (EPWM2B in case of AM261x-LP).</p>
<p> <style>div.image img[src="am263_cmpss_asynchronous_trip.png"]{width:50%}</style> </p><div class="image">
<img src="am263_cmpss_asynchronous_trip.png" alt=""/>
<div class="caption">
Block diagram</div></div>
<p>CMPSS is configured to generate trip signals to trip the EPWM signals. CMPIN1P is used to give positive input and internal DAC is configured to provide the negative input. Internal DAC is configured to provide a signal at VDD/2. An EPWM signal is generated at EPWM0B (EPWM2B in case of AM261x-LP) and is configured to be tripped by CTRIPOUTH.</p>
<p>When a low input(VSS) is provided to CMPIN1P,</p><ul>
<li>Trip signal(XBAROUTx) output is low</li>
<li>EPWM0B (EPWM2B in case of AM261x-LP) gives a PWM signal</li>
</ul>
<p>When a high input(higher than VDD/2) is provided to CMPIN1P,</p><ul>
<li>Trip signal(XBAROUTx) output turns high</li>
<li>EPWM0B (EPWM2B in case of AM261x-LP) gets tripped and outputs as high</li>
</ul>
<h1><a class="anchor" id="autotoc_md2186"></a>
External Connections</h1>
<ul>
<li>Give input on CMPIN1P</li>
<li>Outputs can be observed on XBAROUT0(XBAROUT8 in case of AM263PX) and EPWM0B (EPWM2B in case of AM261x-LP) using an oscilloscope</li>
</ul>
<h2><a class="anchor" id="autotoc_md2187"></a>
AM263PX-CC E2 or AM263X-CC E2 or AM261X-SOM</h2>
<p>When using AM263x-CC or AM263Px-CC or AM261x-SOM with TMDSHSECDOCK (HSEC180 controlCARD Baseboard Docking Station)</p><ul>
<li>Feed analog input on HSEC Pin 15</li>
<li>Capture and analyze waveforms on USER_LED1 and HSEC pin 51</li>
</ul>
<h2><a class="anchor" id="autotoc_md2188"></a>
AM263PX-LP or AM263X-LP</h2>
<p>When using AM263x-LP or AM263PX-LP</p><ul>
<li>Feed analog input on J5/J6 Pin 66</li>
<li>Capture and analyze waveforms on DS2 LED and boosterpack header J6/J8 pin 59</li>
</ul>
<h2><a class="anchor" id="autotoc_md2189"></a>
AM261x-LP</h2>
<p>When using AM261x-LP</p><ul>
<li>Feed the Analog input on J7 Pin 63</li>
<li>Capture the Trip out on OUTXBAR OUT 0 ON GPIO1 or J8 Pin 51</li>
<li>Capture the EPWM output on J7 Pin 39</li>
</ul>
<h1><a class="anchor" id="EXAMPLES_DRIVERS_CMPSS_ASYNCHRONOUS_TRIP_COMBOS"></a>
Supported Combinations</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter  </th><th class="markdownTableHeadNone">Value   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CPU + OS  </td><td class="markdownTableBodyNone">r5fss0-0 nortos   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Toolchain  </td><td class="markdownTableBodyNone">ti-arm-clang   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Boards  </td><td class="markdownTableBodyNone">am263x-cc, am263x-lp   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Example folder  </td><td class="markdownTableBodyNone">examples/drivers/cmpss/cmpss_asynchronous_trip/   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md2190"></a>
Steps to Run the Example</h1>
<ul>
<li><b>When using CCS projects to build</b>, import the CCS project for the required combination and build it using the CCS project menu (see <a class="el" href="CCS_PROJECTS_PAGE.html">Using SDK with CCS Projects</a>).</li>
<li><b>When using makefiles to build</b>, note the required combination and build using make command (see <a class="el" href="MAKEFILE_BUILD_PAGE.html">Using SDK with Makefiles</a>)</li>
<li>Establish connections as mentioned in External Connections section</li>
<li>Launch a CCS debug session and run the executable, see <a class="el" href="CCS_LAUNCH_PAGE.html">CCS Launch, Load and Run</a></li>
<li>When a low input is provided, Trip signal output is low and EPWM gives a PWM waveform</li>
<li>When a high input(higher than VDD/2) is provided, Trip signal output turns high and EPWM gets tripped</li>
</ul>
<h1><a class="anchor" id="autotoc_md2191"></a>
See Also</h1>
<p><a class="el" href="DRIVERS_CMPSS_PAGE.html">CMPSS</a></p>
<h1><a class="anchor" id="autotoc_md2192"></a>
Sample Output</h1>
<p>Shown below is a sample output when the application is run,</p>
<div class="fragment"><div class="line">[Cortex_R5_0] CMPSS asynchronous trip Test Started ...</div>
<div class="line">CMPSS asynchronous trip Test Passed!!!All tests have Passed!!!CMPSS asynchronous trip Test Started ...</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CTRIP signal is asserted</div>
<div class="line">CMPSS asynchronous trip Test Passed!!!All tests have Passed!!!</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
