<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263x MCU+ SDK: CANFD (HLD)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263x MCU+ SDK
   &#160;<span id="projectnumber">11.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('DRIVERS_CANFD_HLD_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">CANFD (HLD) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md1136">Features Supported</a></li>
<li class="level1"><a href="#autotoc_md1137">SysConfig Features</a></li>
<li class="level1"><a href="#autotoc_md1138">Features NOT Supported</a></li>
<li class="level1"><a href="#autotoc_md1139">Usage</a><ul><li class="level2"><a href="#autotoc_md1140">Message Ram Initialization</a></li>
<li class="level2"><a href="#autotoc_md1141">Acceptance filtering</a></li>
<li class="level2"><a href="#autotoc_md1142">Filter Types</a><ul><li class="level3"><a href="#autotoc_md1143">Range Filter</a></li>
<li class="level3"><a href="#autotoc_md1144">Filter for specific IDs</a></li>
<li class="level3"><a href="#autotoc_md1145">Classic Bit Mask Filter</a></li>
</ul>
</li>
<li class="level2"><a href="#autotoc_md1146">Filter Element Configuration</a></li>
<li class="level2"><a href="#autotoc_md1147">Tx Buffer/FIFO Configuration</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md1148">Important Usage Guidelines</a><ul><li class="level2"><a href="#autotoc_md1149">Bit Rate Calculation</a></li>
<li class="level2"><a href="#autotoc_md1150">CAN bus termination</a></li>
<li class="level2"><a href="#autotoc_md1151">Transceiver Delay Compensation Value(TDCV)</a></li>
<li class="level2"><a href="#autotoc_md1152">Things to consider/check before sending a message over CAN bus</a></li>
<li class="level2"><a href="#autotoc_md1153">Debug CAN communication failure</a></li>
<li class="level2"><a href="#autotoc_md1154">BusOff Recovery Sequence</a></li>
</ul>
</li>
<li class="level1"><a href="#MCAN_CANFD_EXAMPLE_USAGE">Example Usage</a></li>
<li class="level1"><a href="#autotoc_md1155">API</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_drivers_canfd_hld"></a></p>
<p>The Controller Area Network (CAN) is a serial communication protocol which efficiently supports distributed real-time control. The MCAN module supports both classic CAN and CAN FD (CAN with Flexible Data-Rate) specifications. CAN FD feature allows high throughput and increased payload per data frame. The driver provides API's to configure the MCAN module. Below are the high level features supported by the MCAN driver.</p>
<h1><a class="anchor" id="autotoc_md1136"></a>
Features Supported</h1>
<ul>
<li>MCAN module conforms with CAN Protocol 2.0 A, B and ISO 11898-1:2015</li>
<li>Configure CAN FD mode to support Full CAN FD (up to 64 data bytes)</li>
<li>Transmit and Receive classic CAN and and CAN FD message formats</li>
<li>Configure Up to 32 dedicated Transmit Buffers</li>
<li>Configure Transmit FIFO, up to 32 elements(Buffer + FIFO combined up to 32)</li>
<li>Configure Transmit Event FIFO, up to 32 elements</li>
<li>Configure Up to 64 dedicated Receive Buffers</li>
<li>Configure Two configurable Receive FIFOs, up to 64 elements each</li>
<li>Configure Up to 128 Standard Id filter elements</li>
<li>Configure Up to 64 Extended Id filter elements</li>
<li>Configure Bit timing parameters</li>
<li>Configure Global filter to receive non-matching messages</li>
<li>Configure Maskable interrupts and two interrupt lines</li>
<li>Api's to read protocol status register(useful in case of communication failures)</li>
<li>DMA mode of operation</li>
</ul>
<h1><a class="anchor" id="autotoc_md1137"></a>
SysConfig Features</h1>
<dl class="section note"><dt>Note</dt><dd>It is strongly recommend to use SysConfig where it is available instead of using direct SW API calls. This will help simplify the SW application and also catch common mistakes early in the development cycle.</dd></dl>
<p>SysConfig can be used to configure below parameters apart from common configuration like Clock, MPU, RAT and others.</p><ul>
<li>MCAN instances and pin configurations.</li>
<li>Bit time parameter</li>
<li>Message RAM configuration</li>
<li>Transmitter Delay compensation</li>
<li>ECC configuration</li>
<li>Additional core configuration</li>
</ul>
<h1><a class="anchor" id="autotoc_md1138"></a>
Features NOT Supported</h1>
<h1><a class="anchor" id="autotoc_md1139"></a>
Usage</h1>
<h2><a class="anchor" id="autotoc_md1140"></a>
Message Ram Initialization</h2>
<p>The MCAN module has implemented Message RAM. The main purpose of the Message RAM is to store:</p>
<ul>
<li>Receive Messages</li>
<li>Transmit Messages</li>
<li>Tx Event Elements</li>
<li>Message ID Filter Elements</li>
</ul>
<p>User just needs to configure the number of elements required based on their usecase.</p>
<h2><a class="anchor" id="autotoc_md1141"></a>
Acceptance filtering</h2>
<p>The MCAN module is capable to configure two sets of acceptance filters - one set for standard and one set for extended identifiers. These filters can be assigned to an Rx Buffer or to one of the two Rx FIFOs. The main features of the filter elements are:</p>
<ul>
<li>Each filter element can be configured as:<ul>
<li>Range Filter (from - to)</li>
<li>Filter for specific IDs (for one or two dedicated IDs)</li>
<li>Classic Bit Mask Filter</li>
</ul>
</li>
<li>Each filter element can be enabled/disabled individually</li>
<li>Each filter element can be configured for acceptance or rejection filtering</li>
<li>Filters are checked sequentially and execution (acceptance filtering procedure) stops at the first matching filter element or when the end of the filter list is reached</li>
</ul>
<p>Depending on the configuration of the filter element if filter matches, one of the following actions is performed:</p><ul>
<li>Received frame is stored in FIFO 0 or FIFO 1</li>
<li>Received frame is stored in Rx Buffer</li>
</ul>
<p>To receive all the messages without acceptance filtering, you need to configure <b>anfe</b> and <b>anfs</b> fields of Global filter register. Please refer section "Acceptance Filtering" in technical reference manual for more details.</p>
<h2><a class="anchor" id="autotoc_md1142"></a>
Filter Types</h2>
<p>Basically there are 3 types of filter which MCAN module supports.</p>
<h3><a class="anchor" id="autotoc_md1143"></a>
Range Filter</h3>
<p>Each filter element can be configured to operate as Range Filter (Standard Filter Type SFT = 00/Extended Filter Type EFT = 00). The filter matches for all received message frames with IDs in the range from SFID1 to SFID2 (SFID2 &gt;= SFID1) and respectively in the range from EFID1 to EFID2 (EFID2 &gt;= EFID1).</p>
<p>There are two options for range filtering of extended frames:</p><ul>
<li>Extended Filter Type EFT = 00: The Extended ID AND Mask is used for Range Filtering. The Message ID of received frames is ANDed with the Extended ID AND Mask before the range filter is applied.</li>
<li>Extended Filter Type EFT = 11: The Extended ID AND Mask (MCAN_XIDAM) is not used for Range Filtering.</li>
</ul>
<h3><a class="anchor" id="autotoc_md1144"></a>
Filter for specific IDs</h3>
<p>Each filter element can be configured to filter one or two dedicated Message IDs (Standard Filter Type SFT =01/ Extended Filter Type EFT =01). To filter only one specific Message ID, the filter element has to be configured with SFID1 = SFID2 respectively EFID1 = EFID2.</p>
<h3><a class="anchor" id="autotoc_md1145"></a>
Classic Bit Mask Filter</h3>
<p>Classic bit mask filtering can filter groups of Message IDs (Standard Filter Type SFT =10/Extended Filter Type EFT =10). This is done by masking single bits of a received Message ID. In this case SFID1/EFID1 element is used as Message ID filter, while SFID2/EFID2 element is used as filter mask. A 0 bit at the filter mask (SFID2/EFID2) will mask out the corresponding bit position of the configured Message ID filter (SFID1/EFID1) and the value of the received Message ID at that bit position is not relevant for acceptance filtering. Only those bits of the received Message ID where the corresponding mask bits are 1 are relevant for acceptance filtering. There are two interesting cases:</p>
<ul>
<li>All mask bits are 1: a match occurs only when the received Message ID and the configured Message ID filter are identical.</li>
<li>All mask bits are 0: all Message IDs match.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>For example: if sfid1(message id) is 0xC0 and sfid2(mask) is 0xF then all the messages ranged from 0xC0 to 0xCF will be received. In case you want to receive all messages, sfid2(mask) need to be set to 0x0.</dd></dl>
<h2><a class="anchor" id="autotoc_md1146"></a>
Filter Element Configuration</h2>
<p>Up to 128 filter elements can be configured for 11-bit standard IDs and 64 filter elements can be configured for 29-bit extended IDs. Each filter element have 4 following parameters to be configured.</p>
<ul>
<li>sfid1/efid1 : Defines the ID of the message to be stored</li>
<li>sfid2/efid2 : Defines the second ID.This field has a different meaning depending on sfec/efec. In case buffer is configured then sfid2/efid2 filters to Rx buffer number[0-63]</li>
<li>sfec/efec : Place to store message(Buffer/FIFO0/FIFO1)</li>
<li>sft/eft : Filter Types</li>
</ul>
<h2><a class="anchor" id="autotoc_md1147"></a>
Tx Buffer/FIFO Configuration</h2>
<p>The MCAN module supports up to 32 Tx Buffers. These Tx Buffers can be configured as dedicated Tx Buffers, Tx FIFO and as combination of dedicated Tx Buffers/Tx FIFO. In the message RAM, FIFO is allocated only after the number of buffers allocated. i.e.</p>
<div class="fragment"><div class="line">txFifoStartAddr = txBufStartAddr + txBufCnt;</div>
</div><!-- fragment --><p>Dedicated Tx Buffers are intended for message transmission under complete control of the Host CPU. There are two options:</p><ul>
<li>Each dedicated Tx Buffer is configured with a specific Message ID.</li>
<li>Two or more dedicated Tx Buffers are configured with the same Message ID. In this case the Tx Buffer with the lowest buffer number is transmitted first.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Please refer <a class="el" href="group__DRV__CANFD__MODULE.html">APIs for CANFD</a> for more details and <a class="el" href="DRIVERS_MCAN_LLD_PAGE.html#MCAN_EXAMPLE_USAGE">Example Usage</a> for code snippets.</dd></dl>
<h1><a class="anchor" id="autotoc_md1148"></a>
Important Usage Guidelines</h1>
<h2><a class="anchor" id="autotoc_md1149"></a>
Bit Rate Calculation</h2>
<p> <style>div.image img[src="drivers/mcan_bit_timing.PNG"]{width:50%}</style> </p><div class="image">
<img src="mcan_bit_timing.PNG" alt=""/>
<div class="caption">
MCAN Bit Timing</div></div>
<p>Formula for bit-rate is:</p>
<div class="fragment"><div class="line">bit rate(bits per second) = (CAN clock in Hz) / BRP / (1 + TSEG1 + TSEG2)</div>
<div class="line">Sampling Point(%) = (1 + TSEG1) / (1 + TSEG1 + TSEG2)</div>
<div class="line"> </div>
<div class="line">CAN clock is functional clock of CAN module (80MHz)</div>
<div class="line">BRP: Bit rate pre-scalar value</div>
<div class="line">TSEG1, TSEG2: Time Segments expressed in terms of number of Tq(Time Quantum)</div>
<div class="line">Prop_Seg: Prop Segement value</div>
<div class="line">Phase_Seg1: Phase Segment 1</div>
<div class="line">Phase_Seg2: Phase Segment 2</div>
<div class="line">TSEG1: Time before the sampling point = Prop_Seg + Phase_Seg1</div>
<div class="line">TSEG2: Time after the sampling point = Phase_Seg2.`,</div>
<div class="line"> </div>
<div class="line">Tq: the period of the CAN module functional clock.</div>
</div><!-- fragment --><ul>
<li>Sampling point is the point of time at which the bus level is read and interpreted as the value at that respective time. Typical value of sampling point is between 75-90%.</li>
<li>Bit timing can be configured by calling the <a class="el" href="group__DRV__CANFD__MODULE.html#ga695cb7316ec76d5493eea8df274cb01c" title="Function configures the bit time parameters for the CANFD module.">CANFD_configBitTime</a> function passing the <a class="el" href="structCANFD__MCANBitTimingParams.html">CANFD_MCANBitTimingParams</a> structure.</li>
<li>Sysconfig provides an interface to program the bit timing parameters.</li>
<li>The default parameter corresponds to 1Mbps of NOM bit rate and 5Mbps of DATA bit rate.</li>
<li>If the application needs different bit timing for any instance of MCAN it should appropriately update the <a class="el" href="structCANFD__MCANBitTimingParams.html">CANFD_MCANBitTimingParams</a> structure passed to <a class="el" href="group__DRV__CANFD__MODULE.html#ga695cb7316ec76d5493eea8df274cb01c" title="Function configures the bit time parameters for the CANFD module.">CANFD_configBitTime</a> API.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Values selected in Sysconfig / the values set in structure are directly programmed in MCAN register bit fields. The actual interpretation by the hardware of this value is such that one more than the value programmed.</dd></dl>
<div class="fragment"><div class="line">Default values used for NOM bit rate (1Mbps) are</div>
<div class="line">CANFD_MCANBitTimingParams::nomBrp = 4</div>
<div class="line">CANFD_MCANBitTimingParams::Prop_Seg = 8 </div>
<div class="line">CANFD_MCANBitTimingParams::Phase_Seg1 = 6 </div>
<div class="line">CANFD_MCANBitTimingParams::Phase_Seg2 = 5</div>
<div class="line">TSEG1 = (Prop_Seg + Phase_Seg1) = (8 + 6) = 14</div>
<div class="line">TSEG2 = (Phase_Seg2) = 5</div>
<div class="line"> </div>
<div class="line">bit rate(bits per second) = (CAN clock in Hz) / BRP / (1 + TSEG1 + TSEG2)</div>
<div class="line">Sampling Point(%) = (1 + TSEG1) / (1 + TSEG1 + TSEG2)</div>
<div class="line"> </div>
<div class="line">bit rate = 80MHz / 4 / (1 + 14 + 5) = 1Mbps</div>
<div class="line">Sampling Point(%) = ((1 + 14) / (1 + 14 + 5)) * 100 = 75</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md1150"></a>
CAN bus termination</h2>
<p>CAN bus termination is needed to minimize the reflection, to reduce the noise. The transmission lines must be terminated to make sure noise does not cause communication failure.</p>
<p>There are two types of CAN termination:</p>
<ul>
<li>Standard termination: The traditional 120 Ohm resistor(RL) is used on each end of the bus.</li>
<li>Split Termination Two 60 Ohm(RL/2) resistors along with capacitor(CL) is used to suppress the noise at both ends of the bus. Typical value of CL for 1.1 Mbps is 4.7 nF.</li>
</ul>
<p>Please note RL and CL values are dependent on a signaling rate.</p>
<h2><a class="anchor" id="autotoc_md1151"></a>
Transceiver Delay Compensation Value(TDCV)</h2>
<p>CAN is a broadcast protocol, every node on the bus sees the message on the bus even if it is Tx node. Tx node uses this data on Rx line for integrity and error checks locally. Overview of a bit flow through different stages in communication is:</p>
<div class="fragment"><div class="line">CAN module core -&gt; CAN module Tx line -&gt; SoC Tx Pin/PAD -&gt; Transceiver Out -&gt; CAN Bus -&gt; Transceiver In -&gt; SoC Rx Pin/PAD -&gt; CAN module Rx line -&gt; CAN module core</div>
</div><!-- fragment --><p>In the above path flow, introduces latency between data going out from Tx line to data coming in on Rx line. Major part of this latency comes from Transceiver. Hence it is called Transceiver Delay Compensation Value. This needs to programmed as controller has to adjust it's Secondary Sampling Point(SSP) for sampling Rx line at the correct time.</p>
<ul>
<li>MCAN provides functionality to measure delay between transition on Tx line and same transition for Rx line. User need not to measure transceiver loop-back delay or refer transceiver documentation for the same. User just needs to program SSP position which could be same as Sampling Point(SP).</li>
</ul>
<h2><a class="anchor" id="autotoc_md1152"></a>
Things to consider/check before sending a message over CAN bus</h2>
<p>Make sure following is done/checked before attempting communication on bus:</p>
<ul>
<li>ISO-11898 compatible transceivers have to be connected to a CAN bus.</li>
<li>CAN bus should have proper termination.</li>
<li>CAN_L lines from nodes shall be connected together and same goes for CAN_H and GND lines as well.</li>
<li>Make sure all connections are firm and all pins properly connected.</li>
<li>All node on the bus are configured for same bit rate.</li>
<li>In case of CAN FD, make sure Transceiver Delay Compensation value is correctly programmed.</li>
<li>CAN module is powered up and configured properly.</li>
<li>SoC pins/PADs for CAN are configured properly.</li>
</ul>
<h2><a class="anchor" id="autotoc_md1153"></a>
Debug CAN communication failure</h2>
<p>When any CAN message transmission/reception fails, controller updates LEC (Last Error Code) and DLEC (Data Phase Last Error Code) fields in status register('MCAN_PSR')</p>
<p><b>LEC</b>: this field is updated when error happened in arbitration phase in case of CAN FD message or during full message for classic CAN message.</p>
<p><b>DLEC</b>: this field is updated when error happened in data phase in case of CAN FD message.</p>
<p>LEC/DLEC fields have following errors:</p>
<ul>
<li><b>Stuff Error</b><ul>
<li>Node type: Rx</li>
<li>Description: More than 5 equal bits in a sequence have occurred in a part of a received message where this is not allowed.</li>
<li>Check if all the nodes on the bus have same bit-rate.</li>
</ul>
</li>
<li><b>Form Error</b><ul>
<li>Node type: Rx</li>
<li>Description: A fixed format part of a received frame has the wrong format.</li>
<li>This could happen if receiver node have drift in CAN functional clock momentarily or bus have interference.</li>
</ul>
</li>
<li><b>Ack Error</b><ul>
<li>Node Type: Tx</li>
<li>Description: The message transmitted by the MCAN module was not acknowledged by another node.</li>
<li>CAN bus should have more than one nodes(apart for transmitting node) up and running(not in sleep or power down state).</li>
</ul>
</li>
<li><b>Bit1 Error and Bit0 Error</b><ul>
<li>Node Type: Tx</li>
<li>Description:<ul>
<li><b>Bit1 Error</b>: During the transmission of a message (with the exception of the arbitration field), the device wanted to send a recessive level (bit of logical value 1), but the monitored bus value was dominant.</li>
<li><b>Bit0 Error</b>: During the transmission of a message (acknowledge bit, active error flag, or overload flag), the device wanted to send a dominant level (data or identifier bit logical value 0), but the monitored bus value was recessive.</li>
</ul>
</li>
<li>Tx and Rx lines are sampled at Sampling Point (SP) and Secondary Sampling Point (SSP) respectively have different values. Position of SSP is configurable.</li>
<li>This can happen in following cases:<ul>
<li>Check if tx and rx pins are configured properly. These pins should be pulled high by default i.e. when bus is idle(no communication is going on).</li>
<li>Check if CAN transceiver is enabled.</li>
<li>For LEC:<ul>
<li>If configured SP is too large for given node.</li>
<li>Segment after SP(TSEG2) should be large enough to compensate for Transceiver Delay.</li>
</ul>
</li>
<li>For DLEC:<ul>
<li>Configured Transceiver Delay Compensation value is less/more than required.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><b>CRC Error</b><ul>
<li>Node type: Rx</li>
<li>Description: The CRC check sum of a received message was incorrect. The CRC of an incoming message does not match with the CRC calculated from the received data.</li>
<li>This could happen if receiver node have drift in CAN functional clock momentarily or bus have interference.</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md1154"></a>
BusOff Recovery Sequence</h2>
<p>Below is directly adopted from the Bosch app note.</p>
<p>The MCAN enters Busoff state according to CAN protocol conditions. The Busoff state is reported by setting PSR.BO. Additionally, the MCAN sets CCCR.INIT to stop all CAN operation. To restart CAN operation, the application software needs to clear CCCR.INIT. After CCCR.INIT is cleared, the MCAN’s CAN state machine waits for the completion of the Busoff Recovery Sequence according to CAN protocol (at least 128 occurrences of Bus Idle Condition, which is the detection of 11 consecutive recessive bits). In the MCAN User’s Manual the description of Bus_Off recovery states that “Once CCCR.INIT has been cleared by the CPU, the device will then wait for 129 occurrences of Bus Idle (129 * 11 consecutive recessive bits) before resuming normal operation. At the end of the Bus_Off recovery sequence, the Error Management Counters will be reset”.</p>
<h1><a class="anchor" id="MCAN_CANFD_EXAMPLE_USAGE"></a>
Example Usage</h1>
<p>Include the below file to access the APIs </p><div class="fragment"><div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="SemaphoreP_8h.html">kernel/dpl/SemaphoreP.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="canfd_8h.html">drivers/mcan/v0/canfd.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="mcan_8h.html">drivers/mcan/v0/mcan.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;drivers/mcan.h&gt;</span></div>
</div><!-- fragment --><p> MCAN_CANFD Open CANFD instances </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> open(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* Open CANFD instances */</span>  </div>
<div class="line">    gCanfdHandle = <a class="code" href="group__DRV__CANFD__MODULE.html#ga719a7379a5f6a6bc66f131252cee8ecf">CANFD_open</a>(CONFIG_MCAN0, &amp;openParams[CONFIG_MCAN0]);</div>
<div class="line">    <span class="keywordflow">if</span>(NULL == gCanfdHandle)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga8e7ba11b5db9c1a2743435f3c1bf04fe">DebugP_logError</a>(<span class="stringliteral">&quot;CANFD open failed!!\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p> MCAN_CANFD Configure and transmit and receive </p><div class="fragment"><div class="line">    <a class="code" href="structCANFD__MessageObject.html">CANFD_MessageObject</a>         txMsgObject;</div>
<div class="line">    <a class="code" href="structCANFD__MessageObject.html">CANFD_MessageObject</a>         rxMsgObject;</div>
<div class="line">    <a class="code" href="structCANFD__MessageObject.html">CANFD_MsgObjHandle</a>          txMsgObjHandle;</div>
<div class="line">    <a class="code" href="structCANFD__MessageObject.html">CANFD_MsgObjHandle</a>          rxMsgObjHandle;</div>
<div class="line">    uint32_t                    iterationCount = 0U;</div>
<div class="line">    int32_t                     retVal = <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Setup the transmit message object */</span></div>
<div class="line">    txMsgObject.<a class="code" href="structCANFD__MessageObject.html#a6994f1c8a22dc3faddc973391b9ed6ea">direction</a> = <a class="code" href="group__DRV__CANFD__MODULE.html#ggaf3d66632d365a7ce9c601db7ddd6ba2fadc98f3e04410364b3d9f9b887bd3a101">CANFD_Direction_TX</a>;</div>
<div class="line">    txMsgObject.<a class="code" href="structCANFD__MessageObject.html#aeaee9ab3bc49493512df3fb135b90b5a">msgIdType</a> = <a class="code" href="group__DRV__CANFD__MODULE.html#ggaa4423a50d1057b8f80ffff564bfdfa53a5d5fb03278859bf8771d243aa3b62fab">CANFD_MCANXidType_29_BIT</a>;</div>
<div class="line">    txMsgObject.<a class="code" href="structCANFD__MessageObject.html#a2e9cb35c6c759b60e252b3b72d2da029">startMsgId</a> = 0x29E;</div>
<div class="line">    txMsgObject.<a class="code" href="structCANFD__MessageObject.html#a584158725aa21f94c4b731c4abcbfad9">endMsgId</a>   = 0x29E;</div>
<div class="line">    txMsgObject.<a class="code" href="structCANFD__MessageObject.html#a9fb58906ce57f1547594ba7feacb8bc8">txMemType</a>  = <a class="code" href="group__DRV__MCAN__MODULE.html#ga403b88d0e7331b00221ca4ec3d702166">MCAN_MEM_TYPE_BUF</a>;</div>
<div class="line">    txMsgObject.<a class="code" href="structCANFD__MessageObject.html#a4c8a119763792d013b21e7c533f82897">dataLength</a> = MCAN_APP_TEST_DATA_SIZE;</div>
<div class="line">    txMsgObject.<a class="code" href="structCANFD__MessageObject.html#ad90c68c0c340a94cd00a11f0223b44d8">args</a>       = NULL;</div>
<div class="line">    retVal = <a class="code" href="group__DRV__CANFD__MODULE.html#ga0bf30f8c28fd5ad2b2af37e79e9445b6">CANFD_createMsgObject</a> (gCanfdHandle, &amp;txMsgObject);</div>
<div class="line">    <span class="keywordflow">if</span> (retVal != <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a> (<span class="stringliteral">&quot;Error: CANFD create Tx message object failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    txMsgObjHandle = &amp;txMsgObject;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Setup the receive message object */</span></div>
<div class="line">    rxMsgObject.<a class="code" href="structCANFD__MessageObject.html#a6994f1c8a22dc3faddc973391b9ed6ea">direction</a> = <a class="code" href="group__DRV__CANFD__MODULE.html#ggaf3d66632d365a7ce9c601db7ddd6ba2fa901ff71981836611cfd79d858cb1cc4a">CANFD_Direction_RX</a>;</div>
<div class="line">    rxMsgObject.<a class="code" href="structCANFD__MessageObject.html#aeaee9ab3bc49493512df3fb135b90b5a">msgIdType</a> = <a class="code" href="group__DRV__CANFD__MODULE.html#ggaa4423a50d1057b8f80ffff564bfdfa53a5d5fb03278859bf8771d243aa3b62fab">CANFD_MCANXidType_29_BIT</a>;</div>
<div class="line">    rxMsgObject.<a class="code" href="structCANFD__MessageObject.html#a2e9cb35c6c759b60e252b3b72d2da029">startMsgId</a> = 0x29E;</div>
<div class="line">    rxMsgObject.<a class="code" href="structCANFD__MessageObject.html#a584158725aa21f94c4b731c4abcbfad9">endMsgId</a>   = 0x29E;</div>
<div class="line">    rxMsgObject.<a class="code" href="structCANFD__MessageObject.html#ad90c68c0c340a94cd00a11f0223b44d8">args</a>       = (uint8_t*) rxData;</div>
<div class="line">    rxMsgObject.<a class="code" href="structCANFD__MessageObject.html#ae78862765789e24fe56849e699b93945">rxMemType</a>  = <a class="code" href="group__DRV__MCAN__MODULE.html#ga403b88d0e7331b00221ca4ec3d702166">MCAN_MEM_TYPE_BUF</a>;</div>
<div class="line">    rxMsgObject.<a class="code" href="structCANFD__MessageObject.html#a4c8a119763792d013b21e7c533f82897">dataLength</a> = MCAN_APP_TEST_DATA_SIZE;</div>
<div class="line">    retVal = <a class="code" href="group__DRV__CANFD__MODULE.html#ga0bf30f8c28fd5ad2b2af37e79e9445b6">CANFD_createMsgObject</a> (gCanfdHandle, &amp;rxMsgObject);</div>
<div class="line">    <span class="keywordflow">if</span> (retVal != <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a> (<span class="stringliteral">&quot;Error: CANFD create Rx message object failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">    rxMsgObjHandle = &amp;rxMsgObject;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">while</span> (iterationCount != MCAN_APP_TEST_MESSAGE_COUNT)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">/* Send data over Tx message object */</span></div>
<div class="line">        retVal += <a class="code" href="group__DRV__CANFD__MODULE.html#ga65801b2727f2a7607b52b10519f7790a">CANFD_write</a> (txMsgObjHandle,</div>
<div class="line">                               txMsgObject.<a class="code" href="structCANFD__MessageObject.html#a2e9cb35c6c759b60e252b3b72d2da029">startMsgId</a>,</div>
<div class="line">                               <a class="code" href="group__DRV__CANFD__MODULE.html#gga64b1f1a75103a01e60a4705da0860d31af5a1ad342c6766bd1c4be7dc7f320b91">CANFD_MCANFrameType_FD</a>,</div>
<div class="line">                               0,</div>
<div class="line">                               &amp;txData[0]);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">/* Compare data */</span></div>
<div class="line">        <span class="keywordflow">for</span>(int32_t i = 0U; i &lt; MCAN_APP_TEST_DATA_SIZE; i++)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span>(txData[i] != rxData[i])</div>
<div class="line">            {</div>
<div class="line">                retVal = <a class="code" href="group__KERNEL__DPL__SYSTEM.html#gac64497676d49ad4e51a1d9513e3570d9">SystemP_FAILURE</a>;   <span class="comment">/* Data mismatch */</span></div>
<div class="line">                <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;Data Mismatch at offset %d\r\n&quot;</span>, i);</div>
<div class="line">                <span class="keywordflow">break</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="keywordflow">if</span> (retVal != <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>)</div>
<div class="line">        {</div>
<div class="line">            <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a> (<span class="stringliteral">&quot;Error: CANFD transmit data for iteration %d failed\n&quot;</span>, iterationCount);</div>
<div class="line">            <span class="keywordflow">return</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        iterationCount++;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Delete Message Object</span></div>
<div class="line">    retVal = <a class="code" href="group__DRV__CANFD__MODULE.html#gabfa5222622ddcb2fcce366c5e98bd12c">CANFD_deleteMsgObject</a>(txMsgObjHandle);</div>
<div class="line">    <span class="keywordflow">if</span> (retVal != <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a> (<span class="stringliteral">&quot;Error: CANFD delete Tx message object failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    retVal = <a class="code" href="group__DRV__CANFD__MODULE.html#gabfa5222622ddcb2fcce366c5e98bd12c">CANFD_deleteMsgObject</a>(rxMsgObjHandle);</div>
<div class="line">    <span class="keywordflow">if</span> (retVal != <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a> (<span class="stringliteral">&quot;Error: CANFD delete Rx message object failed\n&quot;</span>);</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (retVal == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;[MCAN] Internal loopback testing for %d iterations Passed\n&quot;</span>, iterationCount);</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;All tests have passed\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;[MCAN] Internal loopback testing for %d iterations Failed\n&quot;</span>, iterationCount);</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;Some tests have Failed\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
</div><!-- fragment --><p> MCAN_CANFD Close CANFD instances </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> close(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* Close CANFD instances that is open */</span></div>
<div class="line">    <span class="keywordflow">if</span>(gCanfdHandle != NULL)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__DRV__CANFD__MODULE.html#ga09ff60bc690257e08d7a1bff773e2061">CANFD_close</a>(gCanfdHandle);</div>
<div class="line">        gCanfdHandle = NULL;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md1155"></a>
API</h1>
<p><a class="el" href="group__DRV__CANFD__MODULE.html">APIs for CANFD</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="acanfd_8h_html"><div class="ttname"><a href="canfd_8h.html">canfd.h</a></div><div class="ttdoc">This is the header file for the CANFD driver which exposes the data structures and exported API which...</div></div>
<div class="ttc" id="astructCANFD__MessageObject_html_aeaee9ab3bc49493512df3fb135b90b5a"><div class="ttname"><a href="structCANFD__MessageObject.html#aeaee9ab3bc49493512df3fb135b90b5a">CANFD_MessageObject::msgIdType</a></div><div class="ttdeci">CANFD_MCANXidType msgIdType</div><div class="ttdoc">Message object type.</div><div class="ttdef"><b>Definition:</b> canfd.h:1555</div></div>
<div class="ttc" id="astructCANFD__MessageObject_html_a4c8a119763792d013b21e7c533f82897"><div class="ttname"><a href="structCANFD__MessageObject.html#a4c8a119763792d013b21e7c533f82897">CANFD_MessageObject::dataLength</a></div><div class="ttdeci">uint32_t dataLength</div><div class="ttdoc">Data Length used by application for transmission and reception. Valid values: 1 to 64 bytes.</div><div class="ttdef"><b>Definition:</b> canfd.h:1566</div></div>
<div class="ttc" id="aSemaphoreP_8h_html"><div class="ttname"><a href="SemaphoreP_8h.html">SemaphoreP.h</a></div></div>
<div class="ttc" id="astructCANFD__MessageObject_html_a584158725aa21f94c4b731c4abcbfad9"><div class="ttname"><a href="structCANFD__MessageObject.html#a584158725aa21f94c4b731c4abcbfad9">CANFD_MessageObject::endMsgId</a></div><div class="ttdeci">uint32_t endMsgId</div><div class="ttdoc">Ending range of the Message Id to which the configuration belongs For Tx and single Message Id object...</div><div class="ttdef"><b>Definition:</b> canfd.h:1540</div></div>
<div class="ttc" id="agroup__DRV__MCAN__MODULE_html_ga403b88d0e7331b00221ca4ec3d702166"><div class="ttname"><a href="group__DRV__MCAN__MODULE.html#ga403b88d0e7331b00221ca4ec3d702166">MCAN_MEM_TYPE_BUF</a></div><div class="ttdeci">#define MCAN_MEM_TYPE_BUF</div><div class="ttdef"><b>Definition:</b> mcan.h:453</div></div>
<div class="ttc" id="agroup__DRV__CANFD__MODULE_html_ggaa4423a50d1057b8f80ffff564bfdfa53a5d5fb03278859bf8771d243aa3b62fab"><div class="ttname"><a href="group__DRV__CANFD__MODULE.html#ggaa4423a50d1057b8f80ffff564bfdfa53a5d5fb03278859bf8771d243aa3b62fab">CANFD_MCANXidType_29_BIT</a></div><div class="ttdeci">@ CANFD_MCANXidType_29_BIT</div><div class="ttdef"><b>Definition:</b> canfd.h:339</div></div>
<div class="ttc" id="agroup__DRV__CANFD__MODULE_html_ggaf3d66632d365a7ce9c601db7ddd6ba2fadc98f3e04410364b3d9f9b887bd3a101"><div class="ttname"><a href="group__DRV__CANFD__MODULE.html#ggaf3d66632d365a7ce9c601db7ddd6ba2fadc98f3e04410364b3d9f9b887bd3a101">CANFD_Direction_TX</a></div><div class="ttdeci">@ CANFD_Direction_TX</div><div class="ttdef"><b>Definition:</b> canfd.h:323</div></div>
<div class="ttc" id="astructCANFD__MessageObject_html_a2e9cb35c6c759b60e252b3b72d2da029"><div class="ttname"><a href="structCANFD__MessageObject.html#a2e9cb35c6c759b60e252b3b72d2da029">CANFD_MessageObject::startMsgId</a></div><div class="ttdeci">uint32_t startMsgId</div><div class="ttdoc">Starting range of the Message Id to which the configuration belongs. For Tx and single Message Id obj...</div><div class="ttdef"><b>Definition:</b> canfd.h:1534</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_gafe348ab5badd2c15118f95e21bb192c6"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a></div><div class="ttdeci">#define DebugP_log(format,...)</div><div class="ttdoc">Function to log a string to the enabled console.</div><div class="ttdef"><b>Definition:</b> DebugP.h:225</div></div>
<div class="ttc" id="agroup__DRV__CANFD__MODULE_html_ga09ff60bc690257e08d7a1bff773e2061"><div class="ttname"><a href="group__DRV__CANFD__MODULE.html#ga09ff60bc690257e08d7a1bff773e2061">CANFD_close</a></div><div class="ttdeci">void CANFD_close(CANFD_Handle handle)</div><div class="ttdoc">Function to close a CANFD peripheral specified by the CANFD handle.</div></div>
<div class="ttc" id="astructCANFD__MessageObject_html"><div class="ttname"><a href="structCANFD__MessageObject.html">CANFD_MessageObject</a></div><div class="ttdef"><b>Definition:</b> canfd.h:1529</div></div>
<div class="ttc" id="agroup__DRV__CANFD__MODULE_html_gga64b1f1a75103a01e60a4705da0860d31af5a1ad342c6766bd1c4be7dc7f320b91"><div class="ttname"><a href="group__DRV__CANFD__MODULE.html#gga64b1f1a75103a01e60a4705da0860d31af5a1ad342c6766bd1c4be7dc7f320b91">CANFD_MCANFrameType_FD</a></div><div class="ttdeci">@ CANFD_MCANFrameType_FD</div><div class="ttdef"><b>Definition:</b> canfd.h:354</div></div>
<div class="ttc" id="agroup__DRV__CANFD__MODULE_html_ga0bf30f8c28fd5ad2b2af37e79e9445b6"><div class="ttname"><a href="group__DRV__CANFD__MODULE.html#ga0bf30f8c28fd5ad2b2af37e79e9445b6">CANFD_createMsgObject</a></div><div class="ttdeci">int32_t CANFD_createMsgObject(CANFD_Handle handle, CANFD_MessageObject *ptrCanMsgObj)</div><div class="ttdoc">Function configures the receive or transmit message object. It also enables Tx completion and Tx canc...</div></div>
<div class="ttc" id="agroup__DRV__CANFD__MODULE_html_ga719a7379a5f6a6bc66f131252cee8ecf"><div class="ttname"><a href="group__DRV__CANFD__MODULE.html#ga719a7379a5f6a6bc66f131252cee8ecf">CANFD_open</a></div><div class="ttdeci">CANFD_Handle CANFD_open(uint32_t index, CANFD_OpenParams *openPrms)</div><div class="ttdoc">This function opens a given CANFD peripheral.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_ga8e7ba11b5db9c1a2743435f3c1bf04fe"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#ga8e7ba11b5db9c1a2743435f3c1bf04fe">DebugP_logError</a></div><div class="ttdeci">#define DebugP_logError(format,...)</div><div class="ttdoc">Function to log a string to the enabled console, for error zone.</div><div class="ttdef"><b>Definition:</b> DebugP.h:234</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_ga47e638d7c694e6d42e57b96b071b8a6f"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a></div><div class="ttdeci">#define SystemP_SUCCESS</div><div class="ttdoc">Return status when the API execution was successful.</div><div class="ttdef"><b>Definition:</b> SystemP.h:56</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_gac64497676d49ad4e51a1d9513e3570d9"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#gac64497676d49ad4e51a1d9513e3570d9">SystemP_FAILURE</a></div><div class="ttdeci">#define SystemP_FAILURE</div><div class="ttdoc">Return status when the API execution was not successful due to a failure.</div><div class="ttdef"><b>Definition:</b> SystemP.h:61</div></div>
<div class="ttc" id="astructCANFD__MessageObject_html_ae78862765789e24fe56849e699b93945"><div class="ttname"><a href="structCANFD__MessageObject.html#ae78862765789e24fe56849e699b93945">CANFD_MessageObject::rxMemType</a></div><div class="ttdeci">MCAN_MemType rxMemType</div><div class="ttdoc">Part of message ram to accessed by this message object. Refer enum MCAN_MemType.</div><div class="ttdef"><b>Definition:</b> canfd.h:1588</div></div>
<div class="ttc" id="agroup__DRV__CANFD__MODULE_html_gabfa5222622ddcb2fcce366c5e98bd12c"><div class="ttname"><a href="group__DRV__CANFD__MODULE.html#gabfa5222622ddcb2fcce366c5e98bd12c">CANFD_deleteMsgObject</a></div><div class="ttdeci">int32_t CANFD_deleteMsgObject(CANFD_MsgObjHandle handle)</div><div class="ttdoc">Function deletes a message object.</div></div>
<div class="ttc" id="agroup__DRV__CANFD__MODULE_html_ggaf3d66632d365a7ce9c601db7ddd6ba2fa901ff71981836611cfd79d858cb1cc4a"><div class="ttname"><a href="group__DRV__CANFD__MODULE.html#ggaf3d66632d365a7ce9c601db7ddd6ba2fa901ff71981836611cfd79d858cb1cc4a">CANFD_Direction_RX</a></div><div class="ttdeci">@ CANFD_Direction_RX</div><div class="ttdef"><b>Definition:</b> canfd.h:320</div></div>
<div class="ttc" id="astructCANFD__MessageObject_html_a6994f1c8a22dc3faddc973391b9ed6ea"><div class="ttname"><a href="structCANFD__MessageObject.html#a6994f1c8a22dc3faddc973391b9ed6ea">CANFD_MessageObject::direction</a></div><div class="ttdeci">CANFD_Direction direction</div><div class="ttdoc">Message object direction.</div><div class="ttdef"><b>Definition:</b> canfd.h:1550</div></div>
<div class="ttc" id="agroup__DRV__CANFD__MODULE_html_ga65801b2727f2a7607b52b10519f7790a"><div class="ttname"><a href="group__DRV__CANFD__MODULE.html#ga65801b2727f2a7607b52b10519f7790a">CANFD_write</a></div><div class="ttdeci">int32_t CANFD_write(CANFD_MsgObjHandle handle, uint32_t id, CANFD_MCANFrameType frameType, uint32_t numMsgs, const uint8_t *data)</div><div class="ttdoc">Function used by the application to transmit data.</div></div>
<div class="ttc" id="amcan_8h_html"><div class="ttname"><a href="mcan_8h.html">mcan.h</a></div><div class="ttdoc">This file contains the prototypes of the APIs present in the device abstraction layer file of MCAN....</div></div>
<div class="ttc" id="astructCANFD__MessageObject_html_ad90c68c0c340a94cd00a11f0223b44d8"><div class="ttname"><a href="structCANFD__MessageObject.html#ad90c68c0c340a94cd00a11f0223b44d8">CANFD_MessageObject::args</a></div><div class="ttdeci">void * args</div><div class="ttdoc">Pointer to be used by application to store rx buffer.</div><div class="ttdef"><b>Definition:</b> canfd.h:1617</div></div>
<div class="ttc" id="astructCANFD__MessageObject_html_a9fb58906ce57f1547594ba7feacb8bc8"><div class="ttname"><a href="structCANFD__MessageObject.html#a9fb58906ce57f1547594ba7feacb8bc8">CANFD_MessageObject::txMemType</a></div><div class="ttdeci">MCAN_MemType txMemType</div><div class="ttdoc">Part of message ram to accessed by this message object. Refer enum MCAN_MemType.</div><div class="ttdef"><b>Definition:</b> canfd.h:1582</div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
