<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263x MCU+ SDK: SIPC Notify</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263x MCU+ SDK
   &#160;<span id="projectnumber">11.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('DRIVERS_SIPC_NOTIFY_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">SIPC Notify </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md1090">Introduction</a></li>
<li class="level1"><a href="#autotoc_md1091">Secure IPC design description</a><ul><li class="level2"><a href="#Mailbox-mechanism-for-sipc">Mailbox mechanism for SIPC</a></li>
<li class="level2"><a href="#autotoc_md1092">SIPC initialization</a></li>
<li class="level2"><a href="#autotoc_md1093">Message format.</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md1094">Example usage.</a></li>
<li class="level1"><a href="#autotoc_md1095">API</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_drivers_sipc_notify"></a></p>
<dl class="section note"><dt>Note</dt><dd>Secure IPC Notify driver enables IPC communication between R5F cores and HSM M4 core. This driver cannot be used without encrypted HSMRt binary for HS-FS devices (will be available in 8.4) and TIFS-MCU for HS-SE devices (available on mySecureSW).</dd></dl>
<h1><a class="anchor" id="autotoc_md1090"></a>
Introduction</h1>
<ul>
<li>The <b>secure IPC notify(SIPC Notify)</b> driver enables IPC communication between R5FSSx-x cores and HSM M4 core for <b>HS-SE</b> devices.</li>
<li>SIPC provides a means of secure communication between R5FSSx and HSM M4 for using HSM services. The underlying implementation uses <b>mailbox HW interrupts and HSM MBOX shared memory</b>(refer <a class="el" href="DRIVERS_SIPC_NOTIFY_PAGE.html#Mailbox-mechanism-for-sipc">Mailbox mechanism for SIPC</a>) to pass messages from R5FSSx-x to HSM M4 and vice versa.</li>
<li>The trusted R5FSSx-x which can post a request for services from HSM are termed as <b>secure hosts</b>. A non-secure host cannot communicate with HSM, moreover, the shared memory used in SIPC communication is not accessible to non-secure hosts. The cores that are going to be secure hosts are defined via <b>sysconfig</b> and this will be a static configuration at compile time. At a time there can only be atmost two secure hosts which can talk to HSM via SIPC, thus the name <b>secure IPC</b>.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Sysconfig initialization has to be handled by <b>HSM client</b>. For Secure IPC, Sysconfig is not supported in this release. It will be available with upcoming SDK releases along with <b>HSM client</b> </dd></dl>
<h1><a class="anchor" id="autotoc_md1091"></a>
Secure IPC design description</h1>
<ul>
<li>SIPC supports RTOS-based implementation on the R5F side. The concept of <b>CLIENT IDs</b> is borrowed from <a class="el" href="DRIVERS_IPC_NOTIFY_PAGE.html">IPC Notify</a>, where in the RTOS scenario each task has a callback registered of type <a class="el" href="group__DRV__SIPC__NOTIFY__MODULE.html#gaff91d2f85a004ae8509bff4429426e39">SIPC_FxnCallback</a>. This function will be called when a message is received for a respective CLIENT ID. Refer to <a class="el" href="IPC_GUIDE.html">Understanding inter-processor communication (IPC)</a> to know more about CLIENT IDs.</li>
<li>HSM client is a wrapper on top of SIPC which asks for specific services from <b>TIFS-MCU</b>. User can install TIFS package from <b>MySecureSw</b> portal.</li>
</ul>
<p> <style>div.image img[src="sipc_communication_model.png"]{width:35%}</style> </p><div class="image">
<img src="sipc_communication_model.png" alt=""/>
<div class="caption">
SIPC communication model</div></div>
<ul>
<li>The maximum number of client Ids available on R5F is <a class="el" href="sipc__notify__cfg_8h.html#a1c37c2ce40ff99470b4a1b91487f0271">SIPC_CLIENT_ID_MAX</a> = 5. On the HSM M4 side the <a class="el" href="sipc__notify__cfg_8h.html#a1c37c2ce40ff99470b4a1b91487f0271">SIPC_CLIENT_ID_MAX</a> = 2 as it doesn't run RTOS applications.</li>
</ul>
<h2><a class="anchor" id="Mailbox-mechanism-for-sipc"></a>
Mailbox mechanism for SIPC</h2>
<ul>
<li>SIPC uses <b>HSM_MBOX</b> (2KB) memory for secure communication with HSM. It uses <b>MBOX_READ_DONE_ACK</b> interrupt to notify target core to read from the dedicated message queue residing in <b>HSM_MBOX</b> memory. <a class="el" href="DRIVERS_IPC_NOTIFY_PAGE.html">IPC Notify</a> uses <b>MSS_MBOX</b>(16KB) memory for R5&lt;--&gt;R5 communication.</li>
</ul>
<p> <style>div.image img[src="sipc_mailbox.png"]{width:30%}</style> </p><div class="image">
<img src="sipc_mailbox.png" alt=""/>
<div class="caption">
SIPC shared memory configuration</div></div>
<ul>
<li>The swQx is a struct holding pointer to actual queue location in HSM MBOX. There can be atmost 2 secure hosts at a time, so the total number of queues will be 4. If R5F wants to send a message to HSM then R5F writes into R5F -&gt; HSM queue and sends an interrupt to HSM M4, once acknowledged HSM will read the message from the same queue. Similarly, If HSM wants to send a message then HSM will write into HSM --&gt; R5 queues and sends an interrupt to R5F.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The entire HSM MBOX memory must be read and write protected for non-secure hosts. setting up this firewall configuration is the responsibility of the HSM server running on M4.</dd></dl>
<h2><a class="anchor" id="autotoc_md1092"></a>
SIPC initialization</h2>
<ul>
<li>Following parameters are user-configurable.<ol type="1">
<li><b>Queue Depth.</b> -: Number of elements per queue.</li>
<li><b>Number of secure hosts</b> -: Could be 1 or 2.</li>
<li><b>Secure hosts core Ids</b> -: which R5F cores will be secure hosts.</li>
</ol>
</li>
</ul>
<p>These parameters will be initialized via sysconfig.</p>
<div class="fragment"><div class="line"><span class="comment">/* Sysconfig generated parameter QUEUE LENGTH */</span></div>
<div class="line"><span class="preprocessor">#define SIPC_QUEUE_LENGTH                 (32u)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Sysconfig generated parameter TOTAL R5 CORES [1,2] */</span></div>
<div class="line"><span class="preprocessor">#define SIPC_NUM_R5_CORES                  (2u)</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Memory assigned for each R5x &lt;-&gt; HSM channel */</span></div>
<div class="line">uint8_t gQueue_R5ToHsm[SIPC_NUM_R5_CORES][SIPC_QUEUE_LENGTH*<a class="code" href="sipc__notify__cfg_8h.html#ac2fdfb0ed32bb14a82ca144071714220">SIPC_MSG_SIZE</a>] <a class="code" href="group__lld__ethernet.html#ga8c1dfc1ccf00a08192611433ee7f17b4">__attribute__</a>((aligned(8),section(<span class="stringliteral">&quot;.bss.sipc_hsm_queue_mem&quot;</span>)));</div>
<div class="line">uint8_t gQueue_HsmToR5[SIPC_NUM_R5_CORES][SIPC_QUEUE_LENGTH*<a class="code" href="sipc__notify__cfg_8h.html#ac2fdfb0ed32bb14a82ca144071714220">SIPC_MSG_SIZE</a>] <a class="code" href="group__lld__ethernet.html#ga8c1dfc1ccf00a08192611433ee7f17b4">__attribute__</a>((aligned(8),section(<span class="stringliteral">&quot;.bss.sipc_r5f_queue_mem&quot;</span>)));</div>
</div><!-- fragment --><ul>
<li>sysconfig will also generate code to allocate memory for the queues in HSM MBOX based on Queue depth and number of secure hosts. The pointer to this queue will be passed to <a class="el" href="group__DRV__SIPC__NOTIFY__MODULE.html#ga41b553325afa726d6add36b361d7bdbc">SIPC_init</a> at init time. For the initialization on R5F side, the <a class="el" href="structSIPC__Params.html#a187a5d40b35a335a03619580b9eecb58">SIPC_Params::tx_SipcQueues</a> will point to <b>gQueue_R5ToHsm</b> where R5F will write to HSM. Similarly, <a class="el" href="structSIPC__Params.html#acc0e3df1965dc7364dfec784fa90bcdf">SIPC_Params::rx_SipcQueues</a> will point to <b>gQueueHsmToR5</b> from where R5F will read the message sent by HSM M4.</li>
<li>As the size of HSM MBOX is 2KB the max Queue Depth is limited.<ol type="1">
<li>if <b>SIPC_NUM_R5_CORES</b> is 2 then the total number of queues will be 4 and the max queue depth will be 492/ <a class="el" href="sipc__notify__cfg_8h.html#ac2fdfb0ed32bb14a82ca144071714220">SIPC_MSG_SIZE</a> .</li>
<li>if <b>SIPC_NUM_R5_CORES</b> is 1 then the total number of queues will be 1 and the max queue depth will be 984/ <a class="el" href="sipc__notify__cfg_8h.html#ac2fdfb0ed32bb14a82ca144071714220">SIPC_MSG_SIZE</a> .</li>
</ol>
</li>
<li><b>SIPC Initialization from R5F secure host</b></li>
</ul>
<div class="fragment"><div class="line"><span class="comment">/* Following SIPC init will be done by HSM client running on R5*/</span></div>
<div class="line"><span class="keywordtype">void</span> SIPC_R5F_secure_host_config()</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structSIPC__Params.html">SIPC_Params</a> notifyParams;</div>
<div class="line">    int32_t status;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize parameters to default */</span></div>
<div class="line">    <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gafdb4148be02e87da0c0e51ed59d99f51">SIPC_Params_init</a>(&amp;notifyParams);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* List the cores that will do IPC Notify with this core</span></div>
<div class="line"><span class="comment">    * Make sure to NOT list &#39;self&#39; core in the list below</span></div>
<div class="line"><span class="comment">    */</span></div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a38ea5e6c8f8dba16b482f0a24f94874a">numCores</a> = 1;</div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a14cab21bb80a790014c6ac12b4a904b0">coreIdList</a>[0] = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2a7d22d9c30e99359f1c7e59fea1e48ea5">CORE_INDEX_HSM</a>;</div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a1bfa9db788f35bdecf497a1a98edd4bc">ipcQueue_eleSize_inBytes</a> = <a class="code" href="sipc__notify__cfg_8h.html#ac2fdfb0ed32bb14a82ca144071714220">SIPC_MSG_SIZE</a>;</div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a3e3afbcab9e012de292475141f55cf90">ipcQueue_length</a> = SIPC_QUEUE_LENGTH ;</div>
<div class="line">    <span class="comment">/* R5 -&gt; HSM Queue</span></div>
<div class="line"><span class="comment">     * HSM -&gt; R5 queue will be configured by HSM core */</span></div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a187a5d40b35a335a03619580b9eecb58">tx_SipcQueues</a>[<a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2a7d22d9c30e99359f1c7e59fea1e48ea5">CORE_INDEX_HSM</a>] = (uintptr_t)gQueue_R5ToHsm[0] ;</div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#acc0e3df1965dc7364dfec784fa90bcdf">rx_SipcQueues</a>[<a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2a7d22d9c30e99359f1c7e59fea1e48ea5">CORE_INDEX_HSM</a>] = (uintptr_t)gQueue_HsmToR5[0] ;</div>
<div class="line"> </div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a2c25f5d7c4028f22038dda53a58686ed">secHostCoreId</a>[<a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2aec8bd284ef7986d731a488732fbdf2a8">CORE_INDEX_SEC_MASTER_0</a>] = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#ggad5da1faa1249071c597b9dac202f2ae4aa782ed37b1959ba8b9bcc5a9a375802a">CORE_ID_R5FSS0_0</a> ;</div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a2c25f5d7c4028f22038dda53a58686ed">secHostCoreId</a>[<a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2ae268e8479dd36ced622187e6118ac5e9">CORE_INDEX_SEC_MASTER_1</a>] = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#ggad5da1faa1249071c597b9dac202f2ae4a9eb93bd5b751c8bc5e646ae5b3bdc9e7">CORE_ID_R5FSS0_1</a> ;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize the IPC Notify module */</span></div>
<div class="line">    status = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#ga41b553325afa726d6add36b361d7bdbc">SIPC_init</a>(&amp;notifyParams);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status==<a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li><b>SIPC Initialization from HSM</b></li>
</ul>
<div class="fragment"><div class="line"><span class="comment">/* Following SIPC init will be done by HSM server */</span></div>
<div class="line"><span class="keywordtype">void</span> SIPC_HSM_config(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="structSIPC__Params.html">SIPC_Params</a> notifyParams;</div>
<div class="line">    int32_t status;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize parameters to default */</span></div>
<div class="line">    <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gafdb4148be02e87da0c0e51ed59d99f51">SIPC_Params_init</a>(&amp;notifyParams);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* List the cores that will do IPC Notify with this core</span></div>
<div class="line"><span class="comment">    * Make sure to NOT list &#39;self&#39; core in the list below</span></div>
<div class="line"><span class="comment">    */</span></div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a38ea5e6c8f8dba16b482f0a24f94874a">numCores</a> = 2;</div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a14cab21bb80a790014c6ac12b4a904b0">coreIdList</a>[0] = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2aec8bd284ef7986d731a488732fbdf2a8">CORE_INDEX_SEC_MASTER_0</a> ;</div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a14cab21bb80a790014c6ac12b4a904b0">coreIdList</a>[1] = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2ae268e8479dd36ced622187e6118ac5e9">CORE_INDEX_SEC_MASTER_1</a> ;</div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a1bfa9db788f35bdecf497a1a98edd4bc">ipcQueue_eleSize_inBytes</a> = <a class="code" href="sipc__notify__cfg_8h.html#ac2fdfb0ed32bb14a82ca144071714220">SIPC_MSG_SIZE</a>;</div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a3e3afbcab9e012de292475141f55cf90">ipcQueue_length</a> = SIPC_QUEUE_LENGTH ;</div>
<div class="line">    <span class="comment">/* This is HSM -&gt; R50 queue */</span></div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a187a5d40b35a335a03619580b9eecb58">tx_SipcQueues</a>[<a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2aec8bd284ef7986d731a488732fbdf2a8">CORE_INDEX_SEC_MASTER_0</a>] = (uintptr_t)gQueue_HsmToR5[0] ;</div>
<div class="line">    <span class="comment">/* This is HSM -&gt; R51 queue */</span></div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a187a5d40b35a335a03619580b9eecb58">tx_SipcQueues</a>[<a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2ae268e8479dd36ced622187e6118ac5e9">CORE_INDEX_SEC_MASTER_1</a>] = (uintptr_t)gQueue_HsmToR5[1] ;</div>
<div class="line"> </div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#acc0e3df1965dc7364dfec784fa90bcdf">rx_SipcQueues</a>[<a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2aec8bd284ef7986d731a488732fbdf2a8">CORE_INDEX_SEC_MASTER_0</a>] = (uintptr_t)gQueue_R5ToHsm[0] ;</div>
<div class="line">    <span class="comment">/* This is R5 -&gt; HSM queue */</span></div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#acc0e3df1965dc7364dfec784fa90bcdf">rx_SipcQueues</a>[<a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2ae268e8479dd36ced622187e6118ac5e9">CORE_INDEX_SEC_MASTER_1</a>] = (uintptr_t)gQueue_R5ToHsm[1] ;</div>
<div class="line"> </div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a2c25f5d7c4028f22038dda53a58686ed">secHostCoreId</a>[<a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2aec8bd284ef7986d731a488732fbdf2a8">CORE_INDEX_SEC_MASTER_0</a>] = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#ggad5da1faa1249071c597b9dac202f2ae4aa782ed37b1959ba8b9bcc5a9a375802a">CORE_ID_R5FSS0_0</a> ;</div>
<div class="line">    notifyParams.<a class="code" href="structSIPC__Params.html#a2c25f5d7c4028f22038dda53a58686ed">secHostCoreId</a>[<a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2ae268e8479dd36ced622187e6118ac5e9">CORE_INDEX_SEC_MASTER_1</a>] = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#ggad5da1faa1249071c597b9dac202f2ae4a9eb93bd5b751c8bc5e646ae5b3bdc9e7">CORE_ID_R5FSS0_1</a> ;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize the SIPC Notify module */</span></div>
<div class="line">    status = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#ga41b553325afa726d6add36b361d7bdbc">SIPC_init</a>(&amp;notifyParams);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status==<a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li><b>linker command file</b></li>
<li>Following sections need to be defined as described below. The SIPC queues will be initialized in then mentioned memory sections. <div class="fragment"><div class="line"> </div>
<div class="line">SECTIONS</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/*memory sections configurations*/</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* this is used only when Secure IPC is enabled */</span></div>
<div class="line">    .bss.sipc_hsm_queue_mem   (NOLOAD) : {} &gt; MAILBOX_HSM</div>
<div class="line">    .bss.sipc_r5f_queue_mem   (NOLOAD) : {} &gt; MAILBOX_R5F</div>
<div class="line">}</div>
<div class="line">MEMORY</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* definitions of memory sections */</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* MSS mailbox memory is used as shared memory, we dont use bottom 32*12 bytes, since its used as SW queue by ipc_notify */</span></div>
<div class="line">    RTOS_NORTOS_IPC_SHM_MEM : ORIGIN = 0x72000000, LENGTH = 0x3E80</div>
<div class="line">    MAILBOX_HSM:    ORIGIN = &lt;HSM MBOX START ADDR&gt; , LENGTH = 0x000003CE</div>
<div class="line">    MAILBOX_R5F:    ORIGIN = &lt;HSM MBOX START ADDR + 0x000003CE&gt; , LENGTH = 0x000003CE</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>In order to inherit the HSM services, the application must comply the uses of IPC via shared memory i.e. a memory region should be designated to both the CPUs. Make sure to mark this section as non-cached in the R5F MPU. However if the cache is enabled, for the shared region its application responsibility to bypass cache or invalidate the cache.</li>
</ul>
<h2><a class="anchor" id="autotoc_md1093"></a>
Message format.</h2>
<p>Unlike <a class="el" href="DRIVERS_IPC_NOTIFY_PAGE.html">IPC Notify</a> the message size of SIPC can be in the range of 3 to 100 bytes.</p><ul>
<li>The minimum message size is 3 bytes i.e [ <b>Dest ClientId</b> ][ <b>Src ClientId</b> ][<b>data</b>]. Users can change <a class="el" href="sipc__notify__cfg_8h.html#ac2fdfb0ed32bb14a82ca144071714220">SIPC_MSG_SIZE</a> based on a protocol that is implemented on top of SIPC.</li>
<li>Following is an example of a message structure used by <b>HSM client</b> to communicate with HSM via SIPC. The size of a message is <b>13 bytes</b> refer to <b>HSM_CLIENT</b>.</li>
</ul>
<p> <style>div.image img[src="sipc_message_ex.png"]{width:50%}</style> </p><div class="image">
<img src="sipc_message_ex.png" alt=""/>
<div class="caption">
message format used by HSM client</div></div>
<dl class="section note"><dt>Note</dt><dd>It is recommended to use 13 bytes message format as mentioned above for optimal latency.</dd></dl>
<h1><a class="anchor" id="autotoc_md1094"></a>
Example usage.</h1>
<ul>
<li>Consider a use case where R5F sends a message to HSM and HSM echoes back the same message.<ol type="1">
<li>Do <a class="el" href="group__DRV__SIPC__NOTIFY__MODULE.html#ga41b553325afa726d6add36b361d7bdbc">SIPC_init</a>.</li>
<li>Register a callback to handle the message from HSM <a class="el" href="group__DRV__SIPC__NOTIFY__MODULE.html#ga6824ed8d43c1424eccae8773b5d74a12">SIPC_registerClient</a>.</li>
<li>Sends a message using <a class="el" href="group__DRV__SIPC__NOTIFY__MODULE.html#gaf0c62c59f382b1cad7b460f7a016b7a1">SIPC_sendMsg</a> and pend on a semaphore to Wait for a message.</li>
<li>Once the message is received post the semaphore <a class="el" href="group__KERNEL__DPL__SEMAPHORE.html#ga23075425da4d8a65a53209b5fdd3fafe">SemaphoreP_post</a> and exit.</li>
</ol>
</li>
</ul>
<div class="fragment"><div class="line"> </div>
<div class="line"><span class="comment">/* client ID that is used to send and receive messages */</span></div>
<div class="line">uint32_t gSrcClientId0 = 3u;</div>
<div class="line">uint32_t gSrcClientId1 = 4u;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* R5 cores will send a message to HSM and it supports only 2 client IDs i.e</span></div>
<div class="line"><span class="comment"> * ClientId = 0 for BootNotify message.</span></div>
<div class="line"><span class="comment"> * ClientId = 1 for general message passing */</span></div>
<div class="line">uint32_t gDestClientId = 1u;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Sec Host core that starts the message exchange */</span></div>
<div class="line">uint32_t gSecMasterId0 = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2aec8bd284ef7986d731a488732fbdf2a8">CORE_INDEX_SEC_MASTER_0</a> ;</div>
<div class="line">uint32_t gSecMasterId1 = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2ae268e8479dd36ced622187e6118ac5e9">CORE_INDEX_SEC_MASTER_1</a> ;</div>
<div class="line"><span class="comment">/* Remote cores that echo messages from main core,</span></div>
<div class="line"><span class="comment"> * Make sure to NOT list main core in this list */</span></div>
<div class="line">uint32_t gRemoteCoreId = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2a7d22d9c30e99359f1c7e59fea1e48ea5">CORE_INDEX_HSM</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Semaphore&#39;s used to indicate a main core has finished all message exchanges */</span></div>
<div class="line">SemaphoreP_Object gMainDoneSem;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> sipc_sec_host_msg_handler(uint8_t remoteCoreId, uint8_t localClientId, uint8_t remoteClientId, uint8_t* msgValue, <span class="keywordtype">void</span> *<a class="code" href="hsmclient__msg_8h.html#add0eb34e0cef9e763462cf9080f9be0a">args</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* Handle the received message */</span></div>
<div class="line"> </div>
<div class="line">     <span class="comment">/* post the semaphore */</span></div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga23075425da4d8a65a53209b5fdd3fafe">SemaphoreP_post</a>(@gMainDoneSem);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> sipc_sec_host_start(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    int32_t status;</div>
<div class="line">    <span class="comment">/* Create completion semaphore for this core */</span></div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga2de8d925b9ae035fd8a749927463aef5">SemaphoreP_constructBinary</a>(&amp;gMainDoneSem, 0);</div>
<div class="line">    <span class="comment">/* Register a handler to receive messages */</span></div>
<div class="line">    status = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#ga6824ed8d43c1424eccae8773b5d74a12">SIPC_registerClient</a>(gSrcClientId1, sipc_sec_host_msg_handler, NULL);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status==<a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
<div class="line"> </div>
<div class="line">    uint8_t msgValue[<a class="code" href="sipc__notify__cfg_8h.html#ac2fdfb0ed32bb14a82ca144071714220">SIPC_MSG_SIZE</a>] = { 0x00 , 0x00 ,0x02,0x03,0x04,0x05,0x06,0x07};</div>
<div class="line"> </div>
<div class="line">    status = <a class="code" href="group__DRV__SIPC__NOTIFY__MODULE.html#gaf0c62c59f382b1cad7b460f7a016b7a1">SIPC_sendMsg</a>(gRemoteCoreId, gDestClientId, gSrcClientId1 ,msgValue, 1);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a>(status==<a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Wait for message to be echoed back by HSM  */</span></div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga8733f9edac3a2d559b97dc0d115c3ba8">SemaphoreP_pend</a>(&amp;gMainDoneSem, <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga376db5d2fbbc54611736778be8e15431">SystemP_WAIT_FOREVER</a>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> main()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">/* sipc initialization which will be done via sysconfig. */</span></div>
<div class="line">    SIPC_R5F_secure_host_config();</div>
<div class="line">    sipc_sec_host_start();</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li>Refer <b>Secure IPC example</b> for more info.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>The secure IPC example project is a part of <b>TIFS</b> package for <b>HS-SE</b> devices. To use this example user needs to sign an NDA(non disclosure agreement). <b>TIFS</b> package can installed via mysecure software. </dd></dl>
<h1><a class="anchor" id="autotoc_md1095"></a>
API</h1>
<p><a class="el" href="group__DRV__SIPC__NOTIFY__MODULE.html">APIs for Secure IPC Notify</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="astructSIPC__Params_html"><div class="ttname"><a href="structSIPC__Params.html">SIPC_Params</a></div><div class="ttdoc">Parameters used by SIPC_init.</div><div class="ttdef"><b>Definition:</b> sipc_notify.h:84</div></div>
<div class="ttc" id="ahsmclient__msg_8h_html_add0eb34e0cef9e763462cf9080f9be0a"><div class="ttname"><a href="hsmclient__msg_8h.html#add0eb34e0cef9e763462cf9080f9be0a">args</a></div><div class="ttdeci">void * args</div><div class="ttdef"><b>Definition:</b> hsmclient_msg.h:4</div></div>
<div class="ttc" id="astructSIPC__Params_html_a187a5d40b35a335a03619580b9eecb58"><div class="ttname"><a href="structSIPC__Params.html#a187a5d40b35a335a03619580b9eecb58">SIPC_Params::tx_SipcQueues</a></div><div class="ttdeci">uintptr_t tx_SipcQueues[MAX_SEC_CORES_WITH_HSM]</div><div class="ttdef"><b>Definition:</b> sipc_notify.h:98</div></div>
<div class="ttc" id="agroup__DRV__SIPC__NOTIFY__MODULE_html_gga8602ce075b94d70bcde46634dd6ab8d2ae268e8479dd36ced622187e6118ac5e9"><div class="ttname"><a href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2ae268e8479dd36ced622187e6118ac5e9">CORE_INDEX_SEC_MASTER_1</a></div><div class="ttdeci">@ CORE_INDEX_SEC_MASTER_1</div><div class="ttdef"><b>Definition:</b> sipc_notify_cfg.h:127</div></div>
<div class="ttc" id="agroup__DRV__SIPC__NOTIFY__MODULE_html_gga8602ce075b94d70bcde46634dd6ab8d2a7d22d9c30e99359f1c7e59fea1e48ea5"><div class="ttname"><a href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2a7d22d9c30e99359f1c7e59fea1e48ea5">CORE_INDEX_HSM</a></div><div class="ttdeci">@ CORE_INDEX_HSM</div><div class="ttdef"><b>Definition:</b> sipc_notify_cfg.h:128</div></div>
<div class="ttc" id="astructSIPC__Params_html_a2c25f5d7c4028f22038dda53a58686ed"><div class="ttname"><a href="structSIPC__Params.html#a2c25f5d7c4028f22038dda53a58686ed">SIPC_Params::secHostCoreId</a></div><div class="ttdeci">uint32_t secHostCoreId[MAX_SEC_CORES_WITH_HSM - 1]</div><div class="ttdef"><b>Definition:</b> sipc_notify.h:104</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_ga376db5d2fbbc54611736778be8e15431"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#ga376db5d2fbbc54611736778be8e15431">SystemP_WAIT_FOREVER</a></div><div class="ttdeci">#define SystemP_WAIT_FOREVER</div><div class="ttdoc">Value to use when needing a timeout of infinity or wait forver until resource is available.</div><div class="ttdef"><b>Definition:</b> SystemP.h:83</div></div>
<div class="ttc" id="astructSIPC__Params_html_a38ea5e6c8f8dba16b482f0a24f94874a"><div class="ttname"><a href="structSIPC__Params.html#a38ea5e6c8f8dba16b482f0a24f94874a">SIPC_Params::numCores</a></div><div class="ttdeci">uint32_t numCores</div><div class="ttdef"><b>Definition:</b> sipc_notify.h:86</div></div>
<div class="ttc" id="agroup__lld__ethernet_html_ga8c1dfc1ccf00a08192611433ee7f17b4"><div class="ttname"><a href="group__lld__ethernet.html#ga8c1dfc1ccf00a08192611433ee7f17b4">__attribute__</a></div><div class="ttdeci">struct lld_sockaddr __attribute__</div><div class="ttdoc">This is the SecureBoot Stream type which holds the data for a specific bootloader to HSM call....</div></div>
<div class="ttc" id="agroup__DRV__SIPC__NOTIFY__MODULE_html_gafdb4148be02e87da0c0e51ed59d99f51"><div class="ttname"><a href="group__DRV__SIPC__NOTIFY__MODULE.html#gafdb4148be02e87da0c0e51ed59d99f51">SIPC_Params_init</a></div><div class="ttdeci">void SIPC_Params_init(SIPC_Params *params)</div><div class="ttdoc">Set default value to SIPC_Params.</div></div>
<div class="ttc" id="asipc__notify__cfg_8h_html_ac2fdfb0ed32bb14a82ca144071714220"><div class="ttname"><a href="sipc__notify__cfg_8h.html#ac2fdfb0ed32bb14a82ca144071714220">SIPC_MSG_SIZE</a></div><div class="ttdeci">#define SIPC_MSG_SIZE</div><div class="ttdoc">SIPC message size in bytes each element of queue will be of this size.</div><div class="ttdef"><b>Definition:</b> sipc_notify_cfg.h:47</div></div>
<div class="ttc" id="agroup__DRV__SIPC__NOTIFY__MODULE_html_ggad5da1faa1249071c597b9dac202f2ae4aa782ed37b1959ba8b9bcc5a9a375802a"><div class="ttname"><a href="group__DRV__SIPC__NOTIFY__MODULE.html#ggad5da1faa1249071c597b9dac202f2ae4aa782ed37b1959ba8b9bcc5a9a375802a">CORE_ID_R5FSS0_0</a></div><div class="ttdeci">@ CORE_ID_R5FSS0_0</div><div class="ttdef"><b>Definition:</b> sipc_notify_cfg.h:110</div></div>
<div class="ttc" id="astructSIPC__Params_html_a14cab21bb80a790014c6ac12b4a904b0"><div class="ttname"><a href="structSIPC__Params.html#a14cab21bb80a790014c6ac12b4a904b0">SIPC_Params::coreIdList</a></div><div class="ttdeci">uint32_t coreIdList[MAX_SEC_CORES_WITH_HSM]</div><div class="ttdef"><b>Definition:</b> sipc_notify.h:89</div></div>
<div class="ttc" id="astructSIPC__Params_html_a1bfa9db788f35bdecf497a1a98edd4bc"><div class="ttname"><a href="structSIPC__Params.html#a1bfa9db788f35bdecf497a1a98edd4bc">SIPC_Params::ipcQueue_eleSize_inBytes</a></div><div class="ttdeci">uint16_t ipcQueue_eleSize_inBytes</div><div class="ttdef"><b>Definition:</b> sipc_notify.h:95</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_ga47e638d7c694e6d42e57b96b071b8a6f"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a></div><div class="ttdeci">#define SystemP_SUCCESS</div><div class="ttdoc">Return status when the API execution was successful.</div><div class="ttdef"><b>Definition:</b> SystemP.h:56</div></div>
<div class="ttc" id="agroup__DRV__SIPC__NOTIFY__MODULE_html_ga41b553325afa726d6add36b361d7bdbc"><div class="ttname"><a href="group__DRV__SIPC__NOTIFY__MODULE.html#ga41b553325afa726d6add36b361d7bdbc">SIPC_init</a></div><div class="ttdeci">int32_t SIPC_init(SIPC_Params *params)</div><div class="ttdoc">Initialize Secure IPC notify module.</div></div>
<div class="ttc" id="agroup__DRV__SIPC__NOTIFY__MODULE_html_ga6824ed8d43c1424eccae8773b5d74a12"><div class="ttname"><a href="group__DRV__SIPC__NOTIFY__MODULE.html#ga6824ed8d43c1424eccae8773b5d74a12">SIPC_registerClient</a></div><div class="ttdeci">int32_t SIPC_registerClient(uint8_t localClientId, SIPC_FxnCallback msgCallback, void *args)</div><div class="ttdoc">Register a callback to handle messages received from a specific remote core and for a specific local ...</div></div>
<div class="ttc" id="agroup__DRV__SIPC__NOTIFY__MODULE_html_gga8602ce075b94d70bcde46634dd6ab8d2aec8bd284ef7986d731a488732fbdf2a8"><div class="ttname"><a href="group__DRV__SIPC__NOTIFY__MODULE.html#gga8602ce075b94d70bcde46634dd6ab8d2aec8bd284ef7986d731a488732fbdf2a8">CORE_INDEX_SEC_MASTER_0</a></div><div class="ttdeci">@ CORE_INDEX_SEC_MASTER_0</div><div class="ttdef"><b>Definition:</b> sipc_notify_cfg.h:126</div></div>
<div class="ttc" id="agroup__DRV__SIPC__NOTIFY__MODULE_html_gaf0c62c59f382b1cad7b460f7a016b7a1"><div class="ttname"><a href="group__DRV__SIPC__NOTIFY__MODULE.html#gaf0c62c59f382b1cad7b460f7a016b7a1">SIPC_sendMsg</a></div><div class="ttdeci">int32_t SIPC_sendMsg(uint8_t remoteSecCoreId, uint8_t remoteClientId, uint8_t localClientId, uint8_t *msgValue, SIPC_fifoFlags waitForFifoNotFull)</div><div class="ttdoc">Send message to a specific remote core and specific client ID on that remote core.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SEMAPHORE_html_ga23075425da4d8a65a53209b5fdd3fafe"><div class="ttname"><a href="group__KERNEL__DPL__SEMAPHORE.html#ga23075425da4d8a65a53209b5fdd3fafe">SemaphoreP_post</a></div><div class="ttdeci">void SemaphoreP_post(SemaphoreP_Object *obj)</div><div class="ttdoc">Post a semaphore object or unlock a mutex.</div></div>
<div class="ttc" id="astructSIPC__Params_html_acc0e3df1965dc7364dfec784fa90bcdf"><div class="ttname"><a href="structSIPC__Params.html#acc0e3df1965dc7364dfec784fa90bcdf">SIPC_Params::rx_SipcQueues</a></div><div class="ttdeci">uintptr_t rx_SipcQueues[MAX_SEC_CORES_WITH_HSM]</div><div class="ttdef"><b>Definition:</b> sipc_notify.h:100</div></div>
<div class="ttc" id="agroup__DRV__SIPC__NOTIFY__MODULE_html_ggad5da1faa1249071c597b9dac202f2ae4a9eb93bd5b751c8bc5e646ae5b3bdc9e7"><div class="ttname"><a href="group__DRV__SIPC__NOTIFY__MODULE.html#ggad5da1faa1249071c597b9dac202f2ae4a9eb93bd5b751c8bc5e646ae5b3bdc9e7">CORE_ID_R5FSS0_1</a></div><div class="ttdeci">@ CORE_ID_R5FSS0_1</div><div class="ttdef"><b>Definition:</b> sipc_notify_cfg.h:111</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SEMAPHORE_html_ga2de8d925b9ae035fd8a749927463aef5"><div class="ttname"><a href="group__KERNEL__DPL__SEMAPHORE.html#ga2de8d925b9ae035fd8a749927463aef5">SemaphoreP_constructBinary</a></div><div class="ttdeci">int32_t SemaphoreP_constructBinary(SemaphoreP_Object *obj, uint32_t initValue)</div><div class="ttdoc">Create a binary semaphore object.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_ga552e9055ca7eab5fe6c224c6cd5a9d4c"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#ga552e9055ca7eab5fe6c224c6cd5a9d4c">DebugP_assert</a></div><div class="ttdeci">#define DebugP_assert(expression)</div><div class="ttdoc">Function to call for assert check.</div><div class="ttdef"><b>Definition:</b> DebugP.h:177</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SEMAPHORE_html_ga8733f9edac3a2d559b97dc0d115c3ba8"><div class="ttname"><a href="group__KERNEL__DPL__SEMAPHORE.html#ga8733f9edac3a2d559b97dc0d115c3ba8">SemaphoreP_pend</a></div><div class="ttdeci">int32_t SemaphoreP_pend(SemaphoreP_Object *obj, uint32_t timeToWaitInTicks)</div><div class="ttdoc">Pend on a semaphore object or lock a mutex.</div></div>
<div class="ttc" id="astructSIPC__Params_html_a3e3afbcab9e012de292475141f55cf90"><div class="ttname"><a href="structSIPC__Params.html#a3e3afbcab9e012de292475141f55cf90">SIPC_Params::ipcQueue_length</a></div><div class="ttdeci">uint16_t ipcQueue_length</div><div class="ttdef"><b>Definition:</b> sipc_notify.h:94</div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
