<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263x MCU+ SDK: ECC : Error Correcting Code</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263x MCU+ SDK
   &#160;<span id="projectnumber">11.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('SDL_ECC_PAGE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">ECC : Error Correcting Code </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md1658">Features Supported</a></li>
<li class="level1"><a href="#autotoc_md1659">Error Injection for Various RAM ID types</a></li>
<li class="level1"><a href="#autotoc_md1660">SysConfig Features</a></li>
<li class="level1"><a href="#autotoc_md1661">Features NOT Supported</a></li>
<li class="level1"><a href="#autotoc_md1662">Important Usage Guidelines</a></li>
<li class="level1"><a href="#autotoc_md1663">Example Usage of R5F ATCM0</a></li>
<li class="level1"><a href="#autotoc_md1664">Example Usage of R5F BTCM</a></li>
<li class="level1"><a href="#autotoc_md1665">Example Usage of MSS L2</a></li>
<li class="level1"><a href="#autotoc_md1666">Example Usage of MSS TPTC</a></li>
<li class="level1"><a href="#autotoc_md1667">Example Usage of MCAN</a></li>
<li class="level1"><a href="#autotoc_md1668">Example Usage of ICSSM</a></li>
<li class="level1"><a href="#autotoc_md1669">Example Usage of TCM Parity</a></li>
<li class="level1"><a href="#autotoc_md1670">Example Usage of DMA Parity</a></li>
<li class="level1"><a href="#autotoc_md1671">API</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_sdl_ecc"></a></p>
<p>To increase functional and system reliability, the memories in many device modules and subsystems are protected by Error Correcting Code (ECC), which performs Single Error Correction (SEC) and Double Error Detection (DED). Detected errors are reported via ESM. Single bit errors are corrected, and double bit errors are detected. The ECC Aggregator is connected to these memory and interconnect components which have the ECC. The ECC aggregator provides access to control and monitor the ECC protected memories in a module or subsystem.</p>
<p>SDL provides support for ECC aggregator configuration. Each ECC aggregator instance can be independently configured through the same SDL API by passing a different instance. The safety manual also defines test-for-diagnostics for the various IPs with ECC/parity support. The SDL also provides the support for executing ECC aggregator self-tests, using the error injection feature of the ECC aggregator. The ECC aggregators should be configured at startup, after running BIST.</p>
<h1><a class="anchor" id="autotoc_md1658"></a>
Features Supported</h1>
<p>The SDL provides support for the ECC through:</p>
<ul>
<li>ECC Configuration API</li>
<li>ECC self-test API</li>
<li>ECC error injection API</li>
<li>ECC static register readback API</li>
<li><p class="startli">ECC error status APIs</p>
<p class="startli">The SDL ECC module requires a mapping of certain aggregator registers into the address space of the R5F Core. In these cases, the ECC module will use the DPL API <a class="el" href="group__SDL__DPL__MODULE.html#ga89610badd4ed9666ad5e79177fa53c83" title="DPL Address translation function.">SDL_DPL_addrTranslate()</a> to get the address. The application must provide the mapped address through this call. This mapping is required for any ECC aggregator that is used which has an address which is not in the 32-bit address space. The mapping is expected to always be valid because it may be needed at runtime to get information about ECC errors that may be encountered.</p>
</li>
</ul>
<pre class="fragment">There are over 13 ECC aggregators on the device each supporting multiple memories and interconnects.
</pre><h1><a class="anchor" id="autotoc_md1659"></a>
Error Injection for Various RAM ID types</h1>
<pre class="fragment">There are two types of ECC aggregator RAM IDs supported on the device (wrapper and interconnect). The wrapper types are used for memories where local computations are performed for particular processing cores in the device, and the interconnect types are utilized for interconnect bus signals between cores or to/from peripherals.
</pre><p> For wrapper RAM ID types, after injecting an error, the memory associated with that RAM ID needs to be accessed in order to trigger the error interrupt event. It is the application's responsibility to trigger the error event through memory access after injecting the error.</p>
<h1><a class="anchor" id="autotoc_md1660"></a>
SysConfig Features</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="autotoc_md1661"></a>
Features NOT Supported</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="autotoc_md1662"></a>
Important Usage Guidelines</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="autotoc_md1663"></a>
Example Usage of R5F ATCM0</h1>
<p>The following shows an example of SDL R5F ECC API usage by the application for Error Injection Tests and Exception handling.</p>
<p>Include the below file to access the APIs</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="sdl__ecc_8h.html">sdl/sdl_ecc.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="sdl__exception_8h.html">sdl/sdl_exception.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sdl/r5/v0/interrupt.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;ecc_main.h&quot;</span></div>
</div><!-- fragment --><p>Below are the macros specifies the RAM address, ECC aggregator and ECC aggregator RAMID for inject the ECC error </p><div class="fragment"><div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ADDR                    (0x00000510u) // R5F ATCM0 RAM address</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_AGGR                        SDL_R5FSS0_CORE0_ECC_AGGR</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ID                      SDL_R5FSS0_CORE0_ECC_AGGR_PULSAR_SL_ATCM0_BANK0_RAM_ID</span></div>
</div><!-- fragment --><p>ESM callback function</p>
<div class="fragment"><div class="line">int32_t SDL_ESM_applicationCallbackFunction(<a class="code" href="group__SDL__ESM__MODULE.html#gae5a25ad63d3b6fb92538167520983d51">SDL_ESM_Inst</a> esmInst,</div>
<div class="line">                                            SDL_ESM_IntType esmIntrType,</div>
<div class="line">                                            uint32_t grpChannel,</div>
<div class="line">                                            uint32_t index,</div>
<div class="line">                                            uint32_t intSrc,</div>
<div class="line">                                            uintptr_t *arg)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    int32_t retVal = 0;</div>
<div class="line">    uint32_t rd_data = 0;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nESM Call back function called : instType 0x%x, intType 0x%x, &quot;</span> \</div>
<div class="line">                <span class="stringliteral">&quot;grpChannel 0x%x, index 0x%x, intSrc 0x%x \r\n&quot;</span>,</div>
<div class="line">                esmInst, esmIntrType, grpChannel, index, intSrc);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nTake action \r\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span>(esmIntrType == 1u){</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nHigh Priority Interrupt Executed\r\n&quot;</span>);</div>
<div class="line">        <span class="comment">/* Clear DED MSS_CTRL register*/</span></div>
<div class="line">        <a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(0x50D18094u, 0x01);</div>
<div class="line">        rd_data = <a class="code" href="sdlr_8h.html#a153e7ea87f9009ed9ca9cb719e0fba9f">SDL_REG32_RD</a>(0x50D18094u);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nRead data of DED MSS_CTRL register is 0x%u\r\n&quot;</span>,rd_data);</div>
<div class="line">        <span class="comment">/* Clear DED RAW MSS_CTRL register*/</span></div>
<div class="line">        <a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(0x50D18098u, 0x01);</div>
<div class="line">        rd_data = <a class="code" href="sdlr_8h.html#a153e7ea87f9009ed9ca9cb719e0fba9f">SDL_REG32_RD</a>(0x50D18098u);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nRead data of DED RAW MSS_CTRL register is 0x%u\r\n&quot;</span>,rd_data);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span>{</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nLow Priority Interrupt Executed\r\n&quot;</span>);</div>
<div class="line">        <span class="comment">/* Clear SEC MSS_CTRL register*/</span></div>
<div class="line">        <a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(0x50D18088u, 0x01);</div>
<div class="line">        rd_data = <a class="code" href="sdlr_8h.html#a153e7ea87f9009ed9ca9cb719e0fba9f">SDL_REG32_RD</a>(0x50D18088u);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nRead data of SEC MSS_CTRL register is  0x%u\r\n&quot;</span>,rd_data);</div>
<div class="line">        <span class="comment">/* Clear SEC RAW MSS_CTRL register*/</span></div>
<div class="line">        <a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(0x50D18084u, 0x01);</div>
<div class="line">        rd_data = <a class="code" href="sdlr_8h.html#a153e7ea87f9009ed9ca9cb719e0fba9f">SDL_REG32_RD</a>(0x50D18084u);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nRead data of SEC RAW MSS_CTRL register is 0x%u\r\n&quot;</span>,rd_data);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    esmError = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>This is the list of exception handle and the parameters </p><div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="structSDL__R5ExptnHandlers.html">SDL_R5ExptnHandlers</a> ECC_Test_R5ExptnHandlers =</div>
<div class="line">{</div>
<div class="line">    .<a class="code" href="structSDL__R5ExptnHandlers.html#a35a6fa0fecea70dc59bdffd0de79627e">udefExptnHandler</a> = &amp;<a class="code" href="sdl__exception_8h.html#ac1f486826003a29a54446325237cc2f9">SDL_EXCEPTION_undefInstructionExptnHandler</a>,</div>
<div class="line">    .swiExptnHandler = &amp;<a class="code" href="sdl__exception_8h.html#ac0feb38174fbbc769552e21136034a22">SDL_EXCEPTION_swIntrExptnHandler</a>,</div>
<div class="line">    .pabtExptnHandler = &amp;<a class="code" href="sdl__exception_8h.html#a96a53f9f1e26ff6eb5c797417141712e">SDL_EXCEPTION_prefetchAbortExptnHandler</a>,</div>
<div class="line">    .dabtExptnHandler = &amp;<a class="code" href="sdl__exception_8h.html#a5e863d7e0c5ab4dd34759d146000916b">SDL_EXCEPTION_dataAbortExptnHandler</a>,</div>
<div class="line">    .irqExptnHandler = &amp;<a class="code" href="sdl__exception_8h.html#aeac91c2bb90e6a50cb68a4c9c006b417">SDL_EXCEPTION_irqExptnHandler</a>,</div>
<div class="line">    .fiqExptnHandler = &amp;<a class="code" href="sdl__exception_8h.html#a2eda4942955aaadbe541c4e4bfcda4b1">SDL_EXCEPTION_fiqExptnHandler</a>,</div>
<div class="line">    .udefExptnHandlerArgs = ((<span class="keywordtype">void</span> *)0u),</div>
<div class="line">    .swiExptnHandlerArgs = ((<span class="keywordtype">void</span> *)0u),</div>
<div class="line">    .pabtExptnHandlerArgs = ((<span class="keywordtype">void</span> *)0u),</div>
<div class="line">    .dabtExptnHandlerArgs = ((<span class="keywordtype">void</span> *)0u),</div>
<div class="line">    .irqExptnHandlerArgs = ((<span class="keywordtype">void</span> *)0u),</div>
<div class="line">};</div>
</div><!-- fragment --><p>Below are the functions used to print the which exception is occured </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> ECC_Test_undefInstructionExptnCallback(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nUndefined Instruction exception\r\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> ECC_Test_swIntrExptnCallback(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nSoftware interrupt exception\r\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> ECC_Test_prefetchAbortExptnCallback(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nPrefetch Abort exception\r\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ECC_Test_dataAbortExptnCallback(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nData Abort exception\r\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ECC_Test_irqExptnCallback(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nIrq exception\r\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> ECC_Test_fiqExptnCallback(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nFiq exception\r\n&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Initilize Exception handler </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> ECC_Test_exceptionInit(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__EXCEPTION__CallbackFunctions__t.html">SDL_EXCEPTION_CallbackFunctions_t</a> exceptionCallbackFunctions =</div>
<div class="line">            {</div>
<div class="line">             .<a class="code" href="structSDL__EXCEPTION__CallbackFunctions__t.html#a0400580bb0c1af9adbe053e334358c90">udefExptnCallback</a> = ECC_Test_undefInstructionExptnCallback,</div>
<div class="line">             .swiExptnCallback = ECC_Test_swIntrExptnCallback,</div>
<div class="line">             .pabtExptnCallback = ECC_Test_prefetchAbortExptnCallback,</div>
<div class="line">             .dabtExptnCallback = ECC_Test_dataAbortExptnCallback,</div>
<div class="line">             .irqExptnCallback = ECC_Test_irqExptnCallback,</div>
<div class="line">             .fiqExptnCallback = ECC_Test_fiqExptnCallback,</div>
<div class="line">            };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize SDL exception handler */</span></div>
<div class="line">    <a class="code" href="sdl__exception_8h.html#a75d94acba00aec7dd7bf753ccbae7c3f">SDL_EXCEPTION_init</a>(&amp;exceptionCallbackFunctions);</div>
<div class="line">    <span class="comment">/* Register SDL exception handler */</span></div>
<div class="line">    <a class="code" href="sdl__interrupt_8h.html#a831b815cd204c577353d67ac508e7c4b">Intc_RegisterExptnHandlers</a>(&amp;ECC_Test_R5ExptnHandlers);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>This structure defines the elements of ECC Init configuration </p><div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#ga0d731a39964dd93567cb3532002243b9">SDL_ECC_MemSubType</a> ECC_Test_R5FSS0_CORE0_subMemTypeList[SDL_R5FSS0_CORE0_MAX_MEM_SECTIONS] =</div>
<div class="line">{</div>
<div class="line">     SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="structSDL__ECC__InitConfig__t.html">SDL_ECC_InitConfig_t</a> ECC_Test_R5FSS0_CORE0_ECCInitConfig =</div>
<div class="line">{</div>
<div class="line">    .<a class="code" href="structSDL__ECC__InitConfig__t.html#a84b31ba9b78ce98075cb9bbff6515e42">numRams</a> = SDL_R5FSS0_CORE0_MAX_MEM_SECTIONS,</div>
<div class="line">    .pMemSubTypeList = &amp;(ECC_Test_R5FSS0_CORE0_subMemTypeList[0]),</div>
<div class="line">};</div>
</div><!-- fragment --><div class="fragment"><div class="line">SDL_ESM_config ECC_Test_esmInitConfig_MAIN =</div>
<div class="line">{</div>
<div class="line">     .esmErrorConfig = {1u, 8u}, <span class="comment">/* Self test error config */</span></div>
<div class="line">     .enableBitmap = {0x00000000u, 0x00018000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                      0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">       <span class="comment">/* CCM_1_SELFTEST_ERR and _R5FSS0COMPARE_ERR_PULSE_0 */</span></div>
<div class="line">     .priorityBitmap = {0x00000000u, 0x000010000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u },</div>
<div class="line">     .errorpinBitmap = {0x00000000u, 0x00018000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">};</div>
</div><!-- fragment --><p>Enabling the ECC module </p><div class="fragment"><div class="line"><a class="code" href="sdl__ecc__utils_8h.html#aaad90528122568c9f2abcec3b0769ea7">SDL_ECC_UTILS_enableECCATCM</a>();</div>
</div><!-- fragment --><p>Enabling the Event bus </p><div class="fragment"><div class="line"><a class="code" href="sdl__r5__utils_8h.html#a03a70cb73200fc6dc08e3b2539cdb700">SDL_UTILS_enable_event_bus</a>();</div>
</div><!-- fragment --><p>Initialize ECC memory for the ECC aggregator </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gab6846e8345f036e70e2e3643697a951f">SDL_ECC_initMemory</a>(SDL_EXAMPLE_ECC_AGGR, SDL_EXAMPLE_ECC_RAM_ID);</div>
</div><!-- fragment --><p>Initialize ESM module </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ESM__MODULE.html#ga9ce49362624d8bbb550a5a78198dff67">SDL_ESM_init</a>(<a class="code" href="group__SDL__ESM__MODULE.html#ggae5a25ad63d3b6fb92538167520983d51a825e49e84662d961a375f14f9c9afc9d">SDL_ESM_INST_MAIN_ESM0</a>, &amp;ECC_Test_esmInitConfig_MAIN, SDL_ESM_applicationCallbackFunction, ptr);</div>
</div><!-- fragment --><p>Initialize ECC parameters for single and double bit error injection </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga5a3e77d0089427bae4e0ce94cdf0b143">SDL_ECC_init</a>(SDL_EXAMPLE_ECC_AGGR, &amp;ECC_Test_R5FSS0_CORE0_ECCInitConfig);</div>
</div><!-- fragment --><p>Execute ECC R5F ATCM0 single bit inject test </p><div class="fragment"><div class="line">int32_t ECC_Test_run_R5FSS0_CORE0_ATCM0_BANK0_1BitInjectTest(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    SDL_ErrType_t result;</div>
<div class="line">    int32_t retVal=0;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__ECC__InjectErrorConfig__t.html">SDL_ECC_InjectErrorConfig_t</a> injectErrorConfig;</div>
<div class="line">    <span class="keyword">volatile</span> uint32_t testLocationValue;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nR5FSS0 CORE0 ATCM0 BANK0 Single bit error inject: starting \r\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Note the address is relative to start of ram */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a> = (uint32_t *)(SDL_EXAMPLE_ECC_RAM_ADDR);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Run one shot test for R5FSS0 CORE0 ATCM0 BANK0 1 bit error */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a446cb5fc4a2bec760141931cd5e2585a">flipBitMask</a> = 0x02;</div>
<div class="line">    result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gaf5979274875023a443b27b3b01168f27">SDL_ECC_injectError</a>(SDL_EXAMPLE_ECC_AGGR,</div>
<div class="line">                                 SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">                                 <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86a9367463f3e0a98d584989946cccf4dcf">SDL_INJECT_ECC_ERROR_FORCING_1BIT_ONCE</a>,</div>
<div class="line">                                 &amp;injectErrorConfig);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != SDL_PASS ) {</div>
<div class="line">        retVal = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Access the memory where injection is expected */</span></div>
<div class="line">        testLocationValue = injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>[0];</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nR5FSS0 CORE0 ATCM0 BANK0 Single bit error inject at pErrMem = 0x%p and the value of pErrMem is 0x%p :test complete\r\n&quot;</span>,</div>
<div class="line">                   injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>, testLocationValue);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Enabling the ECC module </p><div class="fragment"><div class="line"><a class="code" href="sdl__ecc__utils_8h.html#aaad90528122568c9f2abcec3b0769ea7">SDL_ECC_UTILS_enableECCATCM</a>();</div>
</div><!-- fragment --><p>Enabling the Event bus </p><div class="fragment"><div class="line"><a class="code" href="sdl__r5__utils_8h.html#a03a70cb73200fc6dc08e3b2539cdb700">SDL_UTILS_enable_event_bus</a>();</div>
</div><!-- fragment --><p>Execute ECC R5F ATCM0 double bit inject test </p><div class="fragment"><div class="line">int32_t ECC_Test_run_R5FSS0_CORE0_ATCM0_BANK0_2BitInjectTest(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    SDL_ErrType_t result;</div>
<div class="line">    int32_t retVal=0;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__ECC__InjectErrorConfig__t.html">SDL_ECC_InjectErrorConfig_t</a> injectErrorConfig;</div>
<div class="line">    <span class="keyword">volatile</span> uint32_t testLocationValue;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nR5FSS0 CORE0 ATCM0 BANK0 Double bit error inject: starting \r\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Run one shot test for R5FSS0 CORE0 ATCM0 BANK0 2 bit error */</span></div>
<div class="line">    <span class="comment">/* Note the address is relative to start of ram */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a> = (uint32_t *)(SDL_EXAMPLE_ECC_RAM_ADDR);</div>
<div class="line"> </div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a446cb5fc4a2bec760141931cd5e2585a">flipBitMask</a> = 0x30002;</div>
<div class="line">    result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gaf5979274875023a443b27b3b01168f27">SDL_ECC_injectError</a>(SDL_EXAMPLE_ECC_AGGR,</div>
<div class="line">                                 SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">                                 <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86ab0492b03992640143306de6861cc6de2">SDL_INJECT_ECC_ERROR_FORCING_2BIT_ONCE</a>,</div>
<div class="line">                                 &amp;injectErrorConfig);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != SDL_PASS ) {</div>
<div class="line">       retVal = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Access the memory where injection is expected */</span></div>
<div class="line">        testLocationValue = injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>[0];</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nR5FSS0 CORE0 ATCM0 BANK0 Double bit error inject: pErrMem fixed location = 0x%p once test complete: the value of pErrMem is 0x%p\r\n&quot;</span>,</div>
<div class="line">                   injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>, testLocationValue);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1664"></a>
Example Usage of R5F BTCM</h1>
<p>The following shows an example of SDL R5F ECC API usage by the application for Error Injection Tests and Exception handling.</p>
<p>Include the below file to access the APIs</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="sdl__ecc_8h.html">sdl/sdl_ecc.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="sdl__exception_8h.html">sdl/sdl_exception.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;sdl/r5/v0/interrupt.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;ecc_main.h&quot;</span></div>
</div><!-- fragment --><p>Below are the macros specifies the RAM address, ECC aggregator and ECC aggregator RAMID for inject the ECC error </p><div class="fragment"><div class="line"><span class="preprocessor">#if SDL_B0TCM0_BANK0</span></div>
<div class="line"><span class="preprocessor">#define SDL_R5FSS0_CORE0_MAX_MEM_SECTIONS           (1u)</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ADDR                    (0x00080010u) </span><span class="comment">/* R5F BTCM RAM address */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_AGGR                        SDL_R5FSS0_CORE0_ECC_AGGR</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ID                      SDL_R5FSS0_CORE0_ECC_AGGR_PULSAR_SL_B0TCM0_BANK0_RAM_ID</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if SDL_B0TCM0_BANK1</span></div>
<div class="line"><span class="preprocessor">#define SDL_R5FSS0_CORE0_MAX_MEM_SECTIONS           (1u)</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ADDR                    (0x00081510u) </span><span class="comment">/* R5F BTCM RAM address */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_AGGR                        SDL_R5FSS0_CORE0_ECC_AGGR</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ID                      SDL_R5FSS0_CORE0_ECC_AGGR_PULSAR_SL_B0TCM0_BANK1_RAM_ID</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if SDL_B1TCM0_BANK0</span></div>
<div class="line"><span class="preprocessor">#define SDL_R5FSS0_CORE0_MAX_MEM_SECTIONS           (1u)</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ADDR                    (0x00082510u) </span><span class="comment">/* R5F BTCM RAM address */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_AGGR                        SDL_R5FSS0_CORE0_ECC_AGGR</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ID                      SDL_R5FSS0_CORE0_ECC_AGGR_PULSAR_SL_B1TCM0_BANK0_RAM_ID</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if SDL_B1TCM0_BANK1</span></div>
<div class="line"><span class="preprocessor">#define SDL_R5FSS0_CORE0_MAX_MEM_SECTIONS           (1u)</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ADDR                    (0x00083510u) </span><span class="comment">/* R5F BTCM RAM address */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_AGGR                        SDL_R5FSS0_CORE0_ECC_AGGR</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ID                      SDL_R5FSS0_CORE0_ECC_AGGR_PULSAR_SL_B1TCM0_BANK1_RAM_ID</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --><p>ESM callback function</p>
<div class="fragment"><div class="line">int32_t SDL_ESM_applicationCallbackFunction(<a class="code" href="group__SDL__ESM__MODULE.html#gae5a25ad63d3b6fb92538167520983d51">SDL_ESM_Inst</a> esmInst,</div>
<div class="line">                                            SDL_ESM_IntType esmIntrType,</div>
<div class="line">                                            uint32_t grpChannel,</div>
<div class="line">                                            uint32_t index,</div>
<div class="line">                                            uint32_t intSrc,</div>
<div class="line">                                            uintptr_t *arg)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    int32_t retVal = 0;</div>
<div class="line">    uint32_t rd_data = 0;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nESM Call back function called : instType 0x%x, intType 0x%x, &quot;</span> \</div>
<div class="line">                <span class="stringliteral">&quot;grpChannel 0x%x, index 0x%x, intSrc 0x%x \r\n&quot;</span>,</div>
<div class="line">                esmInst, esmIntrType, grpChannel, index, intSrc);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nTake action \r\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span>(esmIntrType == 1u){</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nHigh Priority Interrupt Executed\r\n&quot;</span>);</div>
<div class="line">        <span class="comment">/* Clear DED MSS_CTRL register*/</span></div>
<div class="line">        <a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(0x50D18094u, 0x06);</div>
<div class="line">        rd_data = <a class="code" href="sdlr_8h.html#a153e7ea87f9009ed9ca9cb719e0fba9f">SDL_REG32_RD</a>(0x50D18094u);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nRead data of DED MSS_CTRL register is 0x%u\r\n&quot;</span>,rd_data);</div>
<div class="line">        <span class="comment">/* Clear DED RAW MSS_CTRL register*/</span></div>
<div class="line">        <a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(0x50D18098u, 0x06);</div>
<div class="line">        rd_data = <a class="code" href="sdlr_8h.html#a153e7ea87f9009ed9ca9cb719e0fba9f">SDL_REG32_RD</a>(0x50D18098u);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nRead data of DED RAW MSS_CTRL register is 0x%u\r\n&quot;</span>,rd_data);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span>{</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nLow Priority Interrupt Executed\r\n&quot;</span>);</div>
<div class="line">        <span class="comment">/* Clear SEC MSS_CTRL register*/</span></div>
<div class="line">        <a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(0x50D18088u, 0x6);</div>
<div class="line">        rd_data = <a class="code" href="sdlr_8h.html#a153e7ea87f9009ed9ca9cb719e0fba9f">SDL_REG32_RD</a>(0x50D18088u);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nRead data of SEC MSS_CTRL register is  0x%u\r\n&quot;</span>,rd_data);</div>
<div class="line">        <span class="comment">/* Clear SEC RAW MSS_CTRL register*/</span></div>
<div class="line">        <a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(0x50D18084u, 0x6);</div>
<div class="line">        rd_data = <a class="code" href="sdlr_8h.html#a153e7ea87f9009ed9ca9cb719e0fba9f">SDL_REG32_RD</a>(0x50D18084u);</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nRead data of SEC RAW MSS_CTRL register is 0x%u\r\n&quot;</span>,rd_data);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    esmError = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>This is the list of exception handle and the parameters </p><div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="structSDL__R5ExptnHandlers.html">SDL_R5ExptnHandlers</a> ECC_Test_R5ExptnHandlers =</div>
<div class="line">{</div>
<div class="line">    .<a class="code" href="structSDL__R5ExptnHandlers.html#a35a6fa0fecea70dc59bdffd0de79627e">udefExptnHandler</a> = &amp;<a class="code" href="sdl__exception_8h.html#ac1f486826003a29a54446325237cc2f9">SDL_EXCEPTION_undefInstructionExptnHandler</a>,</div>
<div class="line">    .swiExptnHandler = &amp;<a class="code" href="sdl__exception_8h.html#ac0feb38174fbbc769552e21136034a22">SDL_EXCEPTION_swIntrExptnHandler</a>,</div>
<div class="line">    .pabtExptnHandler = &amp;<a class="code" href="sdl__exception_8h.html#a96a53f9f1e26ff6eb5c797417141712e">SDL_EXCEPTION_prefetchAbortExptnHandler</a>,</div>
<div class="line">    .dabtExptnHandler = &amp;<a class="code" href="sdl__exception_8h.html#a5e863d7e0c5ab4dd34759d146000916b">SDL_EXCEPTION_dataAbortExptnHandler</a>,</div>
<div class="line">    .irqExptnHandler = &amp;<a class="code" href="sdl__exception_8h.html#aeac91c2bb90e6a50cb68a4c9c006b417">SDL_EXCEPTION_irqExptnHandler</a>,</div>
<div class="line">    .fiqExptnHandler = &amp;<a class="code" href="sdl__exception_8h.html#a2eda4942955aaadbe541c4e4bfcda4b1">SDL_EXCEPTION_fiqExptnHandler</a>,</div>
<div class="line">    .udefExptnHandlerArgs = ((<span class="keywordtype">void</span> *)0u),</div>
<div class="line">    .swiExptnHandlerArgs = ((<span class="keywordtype">void</span> *)0u),</div>
<div class="line">    .pabtExptnHandlerArgs = ((<span class="keywordtype">void</span> *)0u),</div>
<div class="line">    .dabtExptnHandlerArgs = ((<span class="keywordtype">void</span> *)0u),</div>
<div class="line">    .irqExptnHandlerArgs = ((<span class="keywordtype">void</span> *)0u),</div>
<div class="line">};</div>
</div><!-- fragment --><p>Below are the functions used to print the which exception is occured </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> ECC_Test_undefInstructionExptnCallback(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nUndefined Instruction exception\r\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> ECC_Test_swIntrExptnCallback(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nSoftware interrupt exception\r\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> ECC_Test_prefetchAbortExptnCallback(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nPrefetch Abort exception\r\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ECC_Test_dataAbortExptnCallback(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nData Abort exception\r\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"><span class="keywordtype">void</span> ECC_Test_irqExptnCallback(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nIrq exception\r\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> ECC_Test_fiqExptnCallback(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nFiq exception\r\n&quot;</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Initilize Exception handler </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> ECC_Test_exceptionInit(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__EXCEPTION__CallbackFunctions__t.html">SDL_EXCEPTION_CallbackFunctions_t</a> exceptionCallbackFunctions =</div>
<div class="line">            {</div>
<div class="line">             .<a class="code" href="structSDL__EXCEPTION__CallbackFunctions__t.html#a0400580bb0c1af9adbe053e334358c90">udefExptnCallback</a> = ECC_Test_undefInstructionExptnCallback,</div>
<div class="line">             .swiExptnCallback = ECC_Test_swIntrExptnCallback,</div>
<div class="line">             .pabtExptnCallback = ECC_Test_prefetchAbortExptnCallback,</div>
<div class="line">             .dabtExptnCallback = ECC_Test_dataAbortExptnCallback,</div>
<div class="line">             .irqExptnCallback = ECC_Test_irqExptnCallback,</div>
<div class="line">             .fiqExptnCallback = ECC_Test_fiqExptnCallback,</div>
<div class="line">            };</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Initialize SDL exception handler */</span></div>
<div class="line">    <a class="code" href="sdl__exception_8h.html#a75d94acba00aec7dd7bf753ccbae7c3f">SDL_EXCEPTION_init</a>(&amp;exceptionCallbackFunctions);</div>
<div class="line">    <span class="comment">/* Register SDL exception handler */</span></div>
<div class="line">    <a class="code" href="sdl__interrupt_8h.html#a831b815cd204c577353d67ac508e7c4b">Intc_RegisterExptnHandlers</a>(&amp;ECC_Test_R5ExptnHandlers);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
</div><!-- fragment --><p>This structure defines the elements of ECC Init configuration </p><div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#ga0d731a39964dd93567cb3532002243b9">SDL_ECC_MemSubType</a> ECC_Test_R5FSS0_CORE0_subMemTypeList[SDL_R5FSS0_CORE0_MAX_MEM_SECTIONS] =</div>
<div class="line">{</div>
<div class="line">     SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="structSDL__ECC__InitConfig__t.html">SDL_ECC_InitConfig_t</a> ECC_Test_R5FSS0_CORE0_ECCInitConfig =</div>
<div class="line">{</div>
<div class="line">    .<a class="code" href="structSDL__ECC__InitConfig__t.html#a84b31ba9b78ce98075cb9bbff6515e42">numRams</a> = SDL_R5FSS0_CORE0_MAX_MEM_SECTIONS,</div>
<div class="line">    .pMemSubTypeList = &amp;(ECC_Test_R5FSS0_CORE0_subMemTypeList[0]),</div>
<div class="line">};</div>
</div><!-- fragment --><div class="fragment"><div class="line">SDL_ESM_config ECC_Test_esmInitConfig_MAIN =</div>
<div class="line">{</div>
<div class="line">     .esmErrorConfig = {1u, 8u}, <span class="comment">/* Self test error config */</span></div>
<div class="line">     .enableBitmap = {0x00000000u, 0x00018000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                      0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">       <span class="comment">/* CCM_1_SELFTEST_ERR and _R5FSS0COMPARE_ERR_PULSE_0 */</span></div>
<div class="line">     .priorityBitmap = {0x00000000u, 0x00010000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u },</div>
<div class="line">     .errorpinBitmap = {0x00000000u, 0x00018000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">};</div>
</div><!-- fragment --><p>Enabling the ECC module </p><div class="fragment"><div class="line"><span class="preprocessor">#if (SDL_B0TCM0_BANK0) || (SDL_B0TCM0_BANK1)</span></div>
<div class="line">    <span class="comment">/*Enabling the B0TCM ECC module*/</span></div>
<div class="line">    <a class="code" href="sdl__ecc__utils_8h.html#acd0118796f2f19640f6e1273a19970f7">SDL_ECC_UTILS_enableECCB0TCM</a>();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"><span class="preprocessor">#if (SDL_B1TCM0_BANK0) || (SDL_B1TCM0_BANK1)</span></div>
<div class="line">        <span class="comment">/*Enabling the B0TCM ECC module*/</span></div>
<div class="line">    <a class="code" href="sdl__ecc__utils_8h.html#ad32aed5310bf2ff3dcf21b0965855c64">SDL_ECC_UTILS_enableECCB1TCM</a>();</div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --><p>Enabling the Event bus </p><div class="fragment"><div class="line"><a class="code" href="sdl__r5__utils_8h.html#a03a70cb73200fc6dc08e3b2539cdb700">SDL_UTILS_enable_event_bus</a>();</div>
</div><!-- fragment --><p>Initialize ECC memory for the ECC aggregator </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gab6846e8345f036e70e2e3643697a951f">SDL_ECC_initMemory</a>(SDL_EXAMPLE_ECC_AGGR, SDL_EXAMPLE_ECC_RAM_ID);</div>
</div><!-- fragment --><p>Initialize ESM module </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ESM__MODULE.html#ga9ce49362624d8bbb550a5a78198dff67">SDL_ESM_init</a>(<a class="code" href="group__SDL__ESM__MODULE.html#ggae5a25ad63d3b6fb92538167520983d51a825e49e84662d961a375f14f9c9afc9d">SDL_ESM_INST_MAIN_ESM0</a>, &amp;ECC_Test_esmInitConfig_MAIN, SDL_ESM_applicationCallbackFunction, ptr);</div>
</div><!-- fragment --><p>Initialize ECC parameters for single and double bit error injection </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga5a3e77d0089427bae4e0ce94cdf0b143">SDL_ECC_init</a>(SDL_EXAMPLE_ECC_AGGR, &amp;ECC_Test_R5FSS0_CORE0_ECCInitConfig);</div>
</div><!-- fragment --><p>Execute ECC R5F BTCM single bit inject test </p><div class="fragment"><div class="line">int32_t ECC_Test_run_R5FSS0_CORE0_BTCM_1BitInjectTest(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    SDL_ErrType_t result;</div>
<div class="line">    int32_t retVal=0;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__ECC__InjectErrorConfig__t.html">SDL_ECC_InjectErrorConfig_t</a> injectErrorConfig;</div>
<div class="line">    <span class="keyword">volatile</span> uint32_t testLocationValue;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nR5FSS0 CORE0 BTCM Single bit error inject: starting \r\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Note the address is relative to start of ram */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a> = (uint32_t *)(SDL_EXAMPLE_ECC_RAM_ADDR);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Run one shot test for R5FSS0 CORE0 BTCM 1 bit error */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a446cb5fc4a2bec760141931cd5e2585a">flipBitMask</a> = 0x02;</div>
<div class="line">    result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gaf5979274875023a443b27b3b01168f27">SDL_ECC_injectError</a>(SDL_EXAMPLE_ECC_AGGR,</div>
<div class="line">                                 SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">                                 <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86a9367463f3e0a98d584989946cccf4dcf">SDL_INJECT_ECC_ERROR_FORCING_1BIT_ONCE</a>,</div>
<div class="line">                                 &amp;injectErrorConfig);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != SDL_PASS ) {</div>
<div class="line">        retVal = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Access the memory where injection is expected */</span></div>
<div class="line">        testLocationValue = injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>[0];</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nR5FSS0 CORE0 BTCM Single bit error inject at pErrMem = 0x%p and the value of pErrMem is 0x%p :test complete\r\n&quot;</span>,</div>
<div class="line">                   injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>, testLocationValue);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Execute ECC R5F BTCM double bit inject test </p><div class="fragment"><div class="line">int32_t ECC_Test_run_R5FSS0_CORE0_BTCM_2BitInjectTest(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    SDL_ErrType_t result;</div>
<div class="line">    int32_t retVal=0;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__ECC__InjectErrorConfig__t.html">SDL_ECC_InjectErrorConfig_t</a> injectErrorConfig;</div>
<div class="line">    <span class="keyword">volatile</span> uint32_t testLocationValue;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nR5FSS0 CORE0 BTCM Double bit error inject: starting \r\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Run one shot test for R5FSS0 CORE0 BTCM 2 bit error */</span></div>
<div class="line">    <span class="comment">/* Note the address is relative to start of ram */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a> = (uint32_t *)(SDL_EXAMPLE_ECC_RAM_ADDR);</div>
<div class="line"> </div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a446cb5fc4a2bec760141931cd5e2585a">flipBitMask</a> = 0x03;</div>
<div class="line">    result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gaf5979274875023a443b27b3b01168f27">SDL_ECC_injectError</a>(SDL_EXAMPLE_ECC_AGGR,</div>
<div class="line">                                 SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">                                 <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86ab0492b03992640143306de6861cc6de2">SDL_INJECT_ECC_ERROR_FORCING_2BIT_ONCE</a>,</div>
<div class="line">                                 &amp;injectErrorConfig);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != SDL_PASS ) {</div>
<div class="line">       retVal = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Access the memory where injection is expected */</span></div>
<div class="line">        testLocationValue = injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>[0];</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nR5FSS0 CORE0 BTCM Double bit error inject: pErrMem fixed location = 0x%p once test complete: the value of pErrMem is 0x%p\r\n&quot;</span>,</div>
<div class="line">                   injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>, testLocationValue);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1665"></a>
Example Usage of MSS L2</h1>
<p>The following shows an example of SDL MSS L2 API usage by the application for Error Injection Tests and Exception handling.</p>
<p>Include the below file to access the APIs</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="sdl__ecc_8h.html">sdl/sdl_ecc.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;ecc_main.h&quot;</span></div>
</div><!-- fragment --><p>Below are the macros specifies the RAM address, ECC aggregator and ECC aggregator RAMID for inject the ECC error</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ADDR                    (0x70100008u) </span><span class="comment">/* MSS_L2_SLV2 address */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_AGGR                        SDL_SOC_ECC_AGGR</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ID                      SDL_SOC_ECC_AGGR_MSS_L2_SLV2_ECC_RAM_ID</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define SDL_MSS_L2_MEM_INIT_ADDR                    (0x50D00240u)</span></div>
<div class="line"><span class="preprocessor">#define SDL_MSS_L2_MEM_INIT_DONE_ADDR               (0x50D00244u)</span></div>
<div class="line"><span class="preprocessor">#define SDL_ECC_AGGR_ERROR_STATUS1_ADDR             (0x53000020u)</span></div>
<div class="line"><span class="preprocessor">#define SDL_ECC_MSS_L2_BANK_MEM_INIT                (0xcu) </span><span class="comment">/* Bank 3 */</span><span class="preprocessor"></span></div>
</div><!-- fragment --><p>ESM callback function</p>
<div class="fragment"><div class="line">int32_t SDL_ESM_applicationCallbackFunction(<a class="code" href="group__SDL__ESM__MODULE.html#gae5a25ad63d3b6fb92538167520983d51">SDL_ESM_Inst</a> esmInst,</div>
<div class="line">                                            SDL_ESM_IntType esmIntrType,</div>
<div class="line">                                            uint32_t grpChannel,</div>
<div class="line">                                            uint32_t index,</div>
<div class="line">                                            uint32_t intSrc,</div>
<div class="line">                                            uintptr_t *arg)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gac233021d13f25dc397424af5b5bdc28b">SDL_ECC_MemType</a> eccmemtype;</div>
<div class="line">    <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gac54924de1f429528a55d0e1c46056a59">SDL_Ecc_AggrIntrSrc</a> eccIntrSrc;</div>
<div class="line">    <a class="code" href="structSDL__ECC__ErrorInfo__t.html">SDL_ECC_ErrorInfo_t</a> eccErrorInfo;</div>
<div class="line">    int32_t retVal;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nESM Call back function called : instType 0x%x, intType 0x%x, &quot;</span> \</div>
<div class="line">                <span class="stringliteral">&quot;grpChannel 0x%x, index 0x%x, intSrc 0x%x\r\n&quot;</span>,</div>
<div class="line">                esmInst, esmIntrType, grpChannel, index, intSrc);</div>
<div class="line">    printf(<span class="stringliteral">&quot; \r\nTake action \r\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span>(esmIntrType == 1u){</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nHigh Priority Interrupt Executed\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span>{</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nLow Priority Interrupt Executed\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    retVal = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga36463b8cc63856b9f93444a4437bfe28">SDL_ECC_getESMErrorInfo</a>(esmInst, intSrc, &amp;eccmemtype, &amp;eccIntrSrc);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Any additional customer specific actions can be added here */</span></div>
<div class="line">    retVal = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gac2e6218ddda539194cf00afe01b89ae7">SDL_ECC_getErrorInfo</a>(eccmemtype, eccIntrSrc, &amp;eccErrorInfo);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nECC Error Call back function called : eccMemType %d, errorSrc 0x%x, &quot;</span> \</div>
<div class="line">               <span class="stringliteral">&quot;ramId %d, bitErrorOffset 0x%04x%04x, bitErrorGroup %d\r\n&quot;</span>,</div>
<div class="line">               eccmemtype, eccIntrSrc, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aa8a64d97ec15c7ddbb1b74d3c324d7c0">memSubType</a>, (uint32_t)(eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#af08e6f67a020732f8768dc11c7de1278">bitErrorOffset</a> &gt;&gt; 32),</div>
<div class="line">               (uint32_t)(eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#af08e6f67a020732f8768dc11c7de1278">bitErrorOffset</a> &amp; 0x00000000FFFFFFFF), eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#ab4e3b9802e01c7e43f4ee13fdcc5c19d">bitErrorGroup</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aca7d2c8594d485ce17d80d720e616a48">injectBitErrCnt</a> != 0)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga7fbb744d3c79356a24aeb3e896a057ae">SDL_ECC_clearNIntrPending</a>(eccmemtype, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aa8a64d97ec15c7ddbb1b74d3c324d7c0">memSubType</a>, eccIntrSrc, <a class="code" href="group__SDL__ECC__AGGR__MACROS.html#ga6d7b2c529580598bcc18bbd94208b347">SDL_ECC_AGGR_ERROR_SUBTYPE_INJECT</a>, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aca7d2c8594d485ce17d80d720e616a48">injectBitErrCnt</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga7fbb744d3c79356a24aeb3e896a057ae">SDL_ECC_clearNIntrPending</a>(eccmemtype, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aa8a64d97ec15c7ddbb1b74d3c324d7c0">memSubType</a>, eccIntrSrc, <a class="code" href="group__SDL__ECC__AGGR__MACROS.html#ga1e0979510ddf3b1437cb95cfdcd22e3c">SDL_ECC_AGGR_ERROR_SUBTYPE_NORMAL</a>, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#a4526456fbf67a84f6b34c5fb66f50689">bitErrCnt</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    retVal = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga63ba6397a440a3a47dfb975bba0d9acb">SDL_ECC_ackIntr</a>(eccmemtype, eccIntrSrc);</div>
<div class="line"> </div>
<div class="line">    esmError = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>This structure defines the elements of ECC Init configuration </p><div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#ga0d731a39964dd93567cb3532002243b9">SDL_ECC_MemSubType</a> ECC_Test_MSS_L2_subMemTypeList[SDL_MSS_L2_MAX_MEM_SECTIONS] =</div>
<div class="line">{</div>
<div class="line">     SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="structSDL__ECC__InitConfig__t.html">SDL_ECC_InitConfig_t</a> ECC_Test_MSS_L2_ECCInitConfig =</div>
<div class="line">{</div>
<div class="line">    .<a class="code" href="structSDL__ECC__InitConfig__t.html#a84b31ba9b78ce98075cb9bbff6515e42">numRams</a> = SDL_MSS_L2_MAX_MEM_SECTIONS,</div>
<div class="line">    .pMemSubTypeList = &amp;(ECC_Test_MSS_L2_subMemTypeList[0]),</div>
<div class="line">};</div>
</div><!-- fragment --><p>Event BitMap for ECC ESM callback for MSS</p>
<div class="fragment"><div class="line">SDL_ESM_config ECC_Test_esmInitConfig_MAIN =</div>
<div class="line">{</div>
<div class="line">     .esmErrorConfig = {1u, 8u}, <span class="comment">/* Self test error config */</span></div>
<div class="line">     .enableBitmap = {0x00180000u, 0x00000000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                      0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">       <span class="comment">/* CCM_1_SELFTEST_ERR and _R5FSS0COMPARE_ERR_PULSE_0 */</span></div>
<div class="line">     .priorityBitmap = {0x00180000u, 0x000000000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u },</div>
<div class="line">     .errorpinBitmap = {0x00180000u, 0x00000000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">};</div>
</div><!-- fragment --><p>Initialization of MSS L2 memory</p>
<div class="fragment"><div class="line"><span class="comment">/* Clear Done memory*/</span></div>
<div class="line"><a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(SDL_MSS_L2_MEM_INIT_DONE_ADDR, 0xfu);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Initialization of MSS L2 memory*/</span></div>
<div class="line"><a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(SDL_MSS_L2_MEM_INIT_ADDR, SDL_ECC_MSS_L2_BANK_MEM_INIT);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">while</span>(<a class="code" href="sdlr_8h.html#a153e7ea87f9009ed9ca9cb719e0fba9f">SDL_REG32_RD</a>(SDL_MSS_L2_MEM_INIT_DONE_ADDR)!=SDL_ECC_MSS_L2_BANK_MEM_INIT);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Clear Done memory after MEM init*/</span></div>
<div class="line"><a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(SDL_MSS_L2_MEM_INIT_DONE_ADDR, SDL_ECC_MSS_L2_BANK_MEM_INIT);</div>
</div><!-- fragment --><p>Clearing any old interrupt presented </p><div class="fragment"><div class="line"><a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(SDL_ECC_AGGR_ERROR_STATUS1_ADDR, 0xF0Fu);</div>
</div><!-- fragment --><p>Initialize ECC memory for the ECC aggregator </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gab6846e8345f036e70e2e3643697a951f">SDL_ECC_initMemory</a>(SDL_EXAMPLE_ECC_AGGR, SDL_EXAMPLE_ECC_RAM_ID);</div>
</div><!-- fragment --><p>Initialize ESM module </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ESM__MODULE.html#ga9ce49362624d8bbb550a5a78198dff67">SDL_ESM_init</a>(<a class="code" href="group__SDL__ESM__MODULE.html#ggae5a25ad63d3b6fb92538167520983d51a825e49e84662d961a375f14f9c9afc9d">SDL_ESM_INST_MAIN_ESM0</a>, &amp;ECC_Test_esmInitConfig_MAIN, SDL_ESM_applicationCallbackFunction, ptr);</div>
</div><!-- fragment --><p>Initialize ECC parameters for single and double bit error injection </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga5a3e77d0089427bae4e0ce94cdf0b143">SDL_ECC_init</a>(SDL_EXAMPLE_ECC_AGGR, &amp;ECC_Test_MSS_ECCInitConfig);</div>
</div><!-- fragment --><p>Execute ECC MSS L2 single bit inject test </p><div class="fragment"><div class="line">int32_t ECC_Test_run_MSS_L2RAMB_1BitInjectTest(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    SDL_ErrType_t result;</div>
<div class="line">    int32_t retVal=0;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__ECC__InjectErrorConfig__t.html">SDL_ECC_InjectErrorConfig_t</a> injectErrorConfig;</div>
<div class="line">    <span class="keyword">volatile</span> uint32_t testLocationValue;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nMSS L2 RAMB Single bit error inject: starting \r\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Note the address is relative to start of ram */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a> = (uint32_t *)(SDL_EXAMPLE_ECC_RAM_ADDR);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Run one shot test for MSS L2 RAMB 1 bit error */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a446cb5fc4a2bec760141931cd5e2585a">flipBitMask</a> = 0x002;</div>
<div class="line">    result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gaf5979274875023a443b27b3b01168f27">SDL_ECC_injectError</a>(SDL_EXAMPLE_ECC_AGGR,</div>
<div class="line">                                 SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">                                 <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86a9367463f3e0a98d584989946cccf4dcf">SDL_INJECT_ECC_ERROR_FORCING_1BIT_ONCE</a>,</div>
<div class="line">                                 &amp;injectErrorConfig);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != SDL_PASS ) {</div>
<div class="line">        retVal = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Access the memory where injection is expected */</span></div>
<div class="line">        testLocationValue = injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>[0];</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nMSS L2 RAMB Single bit error inject at pErrMem = 0x%p and the value of pErrMem is 0x%p :test complete\r\n&quot;</span>,</div>
<div class="line">                   injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>, testLocationValue);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Initialization of MSS L2 memory </p><div class="fragment"><div class="line"><a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(SDL_MSS_L2_MEM_INIT_ADDR, SDL_ECC_MSS_L2_BANK_MEM_INIT);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">while</span>(<a class="code" href="sdlr_8h.html#a153e7ea87f9009ed9ca9cb719e0fba9f">SDL_REG32_RD</a>(SDL_MSS_L2_MEM_INIT_DONE_ADDR)!=SDL_ECC_MSS_L2_BANK_MEM_INIT);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Clear Done memory after MEM init*/</span></div>
<div class="line"><a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(SDL_MSS_L2_MEM_INIT_DONE_ADDR, SDL_ECC_MSS_L2_BANK_MEM_INIT);</div>
</div><!-- fragment --><p>Clearing any old interrupt presented </p><div class="fragment"><div class="line"><a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(SDL_ECC_AGGR_ERROR_STATUS1_ADDR, 0xF0Fu);</div>
</div><!-- fragment --><p>Initialize ECC Memory </p><div class="fragment"><div class="line"><a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gab6846e8345f036e70e2e3643697a951f">SDL_ECC_initMemory</a>(SDL_EXAMPLE_ECC_AGGR, SDL_EXAMPLE_ECC_RAM_ID);</div>
</div><!-- fragment --><p>Execute ECC MSS L2 double bit inject test </p><div class="fragment"><div class="line">int32_t ECC_Test_run_MSS_L2RAMB_2BitInjectTest(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    SDL_ErrType_t result;</div>
<div class="line">    int32_t retVal=0;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__ECC__InjectErrorConfig__t.html">SDL_ECC_InjectErrorConfig_t</a> injectErrorConfig;</div>
<div class="line">    <span class="keyword">volatile</span> uint32_t testLocationValue;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nMSS L2 RAMB Double bit error inject: starting \r\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Run one shot test for MSS L2 RAMB 2 bit error */</span></div>
<div class="line">    <span class="comment">/* Note the address is relative to start of ram */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a> = (uint32_t *)(SDL_EXAMPLE_ECC_RAM_ADDR);</div>
<div class="line"> </div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a446cb5fc4a2bec760141931cd5e2585a">flipBitMask</a> = 0x30002;</div>
<div class="line">    result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gaf5979274875023a443b27b3b01168f27">SDL_ECC_injectError</a>(SDL_EXAMPLE_ECC_AGGR,</div>
<div class="line">                                 SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">                                 <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86ab0492b03992640143306de6861cc6de2">SDL_INJECT_ECC_ERROR_FORCING_2BIT_ONCE</a>,</div>
<div class="line">                                 &amp;injectErrorConfig);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Access the memory where injection is expected */</span></div>
<div class="line">    testLocationValue = injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>[0];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != SDL_PASS ) {</div>
<div class="line">       retVal = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nMSS L2 RAMB Double bit error inject: pErrMem fixed location = 0x%p once test complete: the value of pErrMem is 0x%p\r\n&quot;</span>,</div>
<div class="line">                   injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>, testLocationValue);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1666"></a>
Example Usage of MSS TPTC</h1>
<p>The following shows an example of SDL MSS TPTC API usage by the application for Error Injection Tests and Exception handling.</p>
<p>Include the below file to access the APIs</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;<a class="code" href="edma_8h.html">drivers/edma.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;ti_drivers_config.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;ti_drivers_open_close.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;ti_board_open_close.h&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;<a class="code" href="sdl__ecc_8h.html">sdl/sdl_ecc.h</a>&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;ecc_main.h&quot;</span></div>
</div><!-- fragment --><p>Below are the macros specifies the ECC aggregator and ECC aggregator RAMID for inject the ECC error</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define SDL_MSS_MAX_MEM_SECTIONS        (1u)</span></div>
<div class="line"><span class="preprocessor">#define SDL_ECC_SEC                     (1U)</span></div>
<div class="line"><span class="preprocessor">#define SDL_ECC_DED                     (2U)</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_AGGR            SDL_SOC_ECC_AGGR</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ID          SDL_SOC_ECC_AGGR_TPTC_A0_ECC_RAM_ID</span></div>
</div><!-- fragment --><p>ESM callback function</p>
<div class="fragment"><div class="line">int32_t SDL_ESM_applicationCallbackFunction(<a class="code" href="group__SDL__ESM__MODULE.html#gae5a25ad63d3b6fb92538167520983d51">SDL_ESM_Inst</a> esmInst,</div>
<div class="line">                                            SDL_ESM_IntType esmIntrType,</div>
<div class="line">                                            uint32_t grpChannel,</div>
<div class="line">                                            uint32_t index,</div>
<div class="line">                                            uint32_t intSrc,</div>
<div class="line">                                            uintptr_t *arg)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gac233021d13f25dc397424af5b5bdc28b">SDL_ECC_MemType</a> eccmemtype;</div>
<div class="line">    <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gac54924de1f429528a55d0e1c46056a59">SDL_Ecc_AggrIntrSrc</a> eccIntrSrc;</div>
<div class="line">    <a class="code" href="structSDL__ECC__ErrorInfo__t.html">SDL_ECC_ErrorInfo_t</a> eccErrorInfo;</div>
<div class="line">    int32_t retVal;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nESM Call back function called : instType 0x%x, intType 0x%x, &quot;</span> \</div>
<div class="line">                <span class="stringliteral">&quot;grpChannel 0x%x, index 0x%x, intSrc 0x%x\r\n&quot;</span>,</div>
<div class="line">                esmInst, esmIntrType, grpChannel, index, intSrc);</div>
<div class="line">    printf(<span class="stringliteral">&quot; \r\nTake action \r\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span>(esmIntrType == 1u){</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nHigh Priority Interrupt Executed\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span>{</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nLow Priority Interrupt Executed\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    retVal = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga36463b8cc63856b9f93444a4437bfe28">SDL_ECC_getESMErrorInfo</a>(esmInst, intSrc, &amp;eccmemtype, &amp;eccIntrSrc);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Any additional customer specific actions can be added here */</span></div>
<div class="line">    retVal = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gac2e6218ddda539194cf00afe01b89ae7">SDL_ECC_getErrorInfo</a>(eccmemtype, eccIntrSrc, &amp;eccErrorInfo);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nECC Error Call back function called : eccMemType %d, errorSrc 0x%x, &quot;</span> \</div>
<div class="line">               <span class="stringliteral">&quot;ramId %d, bitErrorOffset 0x%04x%04x, bitErrorGroup %d\r\n&quot;</span>,</div>
<div class="line">               eccmemtype, eccIntrSrc, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aa8a64d97ec15c7ddbb1b74d3c324d7c0">memSubType</a>, (uint32_t)(eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#af08e6f67a020732f8768dc11c7de1278">bitErrorOffset</a> &gt;&gt; 32),</div>
<div class="line">               (uint32_t)(eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#af08e6f67a020732f8768dc11c7de1278">bitErrorOffset</a> &amp; 0x00000000FFFFFFFF), eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#ab4e3b9802e01c7e43f4ee13fdcc5c19d">bitErrorGroup</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aca7d2c8594d485ce17d80d720e616a48">injectBitErrCnt</a> != 0)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga7fbb744d3c79356a24aeb3e896a057ae">SDL_ECC_clearNIntrPending</a>(eccmemtype, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aa8a64d97ec15c7ddbb1b74d3c324d7c0">memSubType</a>, eccIntrSrc, <a class="code" href="group__SDL__ECC__AGGR__MACROS.html#ga6d7b2c529580598bcc18bbd94208b347">SDL_ECC_AGGR_ERROR_SUBTYPE_INJECT</a>, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aca7d2c8594d485ce17d80d720e616a48">injectBitErrCnt</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga7fbb744d3c79356a24aeb3e896a057ae">SDL_ECC_clearNIntrPending</a>(eccmemtype, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aa8a64d97ec15c7ddbb1b74d3c324d7c0">memSubType</a>, eccIntrSrc, <a class="code" href="group__SDL__ECC__AGGR__MACROS.html#ga1e0979510ddf3b1437cb95cfdcd22e3c">SDL_ECC_AGGR_ERROR_SUBTYPE_NORMAL</a>, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#a4526456fbf67a84f6b34c5fb66f50689">bitErrCnt</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    retVal = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga63ba6397a440a3a47dfb975bba0d9acb">SDL_ECC_ackIntr</a>(eccmemtype, eccIntrSrc);</div>
<div class="line"> </div>
<div class="line">    esmError = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>This structure defines the elements of ECC Init configuration </p><div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#ga0d731a39964dd93567cb3532002243b9">SDL_ECC_MemSubType</a> ECC_Test_MSS_subMemTypeList[SDL_MSS_MAX_MEM_SECTIONS] =</div>
<div class="line">{</div>
<div class="line">     SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="structSDL__ECC__InitConfig__t.html">SDL_ECC_InitConfig_t</a> ECC_Test_MSS_ECCInitConfig =</div>
<div class="line">{</div>
<div class="line">    .<a class="code" href="structSDL__ECC__InitConfig__t.html#a84b31ba9b78ce98075cb9bbff6515e42">numRams</a> = SDL_MSS_MAX_MEM_SECTIONS,</div>
<div class="line">    .pMemSubTypeList = &amp;(ECC_Test_MSS_subMemTypeList[0]),</div>
<div class="line">};</div>
</div><!-- fragment --><p>Event BitMap for ECC ESM callback for MSS</p>
<div class="fragment"><div class="line">SDL_ESM_config ECC_Test_esmInitConfig_MAIN =</div>
<div class="line">{</div>
<div class="line">     .esmErrorConfig = {1u, 8u}, <span class="comment">/* Self test error config */</span></div>
<div class="line">     .enableBitmap = {0x00180000u, 0x00000000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                      0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">       <span class="comment">/* CCM_1_SELFTEST_ERR and _R5FSS0COMPARE_ERR_PULSE_0 */</span></div>
<div class="line">     .priorityBitmap = {0x00180000u, 0x000000000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u },</div>
<div class="line">     .errorpinBitmap = {0x00180000u, 0x00000000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">};</div>
</div><!-- fragment --><p>Initialization of EDMA and ECC injection </p><div class="fragment"><div class="line"><span class="comment">/* EDMA transfer with ECC single bit injection*/</span></div>
<div class="line"> testResult = edma_interrupt_transfer(CONFIG_EDMA0, SDL_ECC_SEC, 0u, EDMA_MSS_TPCC_A_EVT_FREE_0);</div>
</div><!-- fragment --><p>Initialize EDMA </p><div class="fragment"><div class="line">EDMA_Init();</div>
<div class="line"><a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\n[EDMA] Interrupt Transfer Test Started...\r\n&quot;</span>);</div>
<div class="line">baseAddr = <a class="code" href="group__DRV__EDMA__MODULE.html#ga6aa14ac72951cd0a116f750073b294d2">EDMA_getBaseAddr</a>(gEdmaHandle[edmaConfigNum]);</div>
<div class="line"> </div>
<div class="line">regionId = <a class="code" href="group__DRV__EDMA__MODULE.html#ga8b31465deaa12aedb9709229f64328b1">EDMA_getRegionId</a>(gEdmaHandle[edmaConfigNum]);</div>
<div class="line"> </div>
<div class="line">dmaCh = channelEvent;</div>
<div class="line">status = <a class="code" href="group__DRV__EDMA__MODULE.html#gad325d436c6b1b649127f715c59114bc8">EDMA_allocDmaChannel</a>(gEdmaHandle[edmaConfigNum], &amp;dmaCh);</div>
<div class="line"> </div>
<div class="line">tcc = channelEvent;</div>
<div class="line">status = <a class="code" href="group__DRV__EDMA__MODULE.html#ga506c49f59f0a3b8d908ba6726d0c75d0">EDMA_allocTcc</a>(gEdmaHandle[edmaConfigNum], &amp;tcc);</div>
<div class="line"> </div>
<div class="line">param = channelEvent;</div>
<div class="line">status = <a class="code" href="group__DRV__EDMA__MODULE.html#ga8e3dc80b5b9842c70e59076c642f4d76">EDMA_allocParam</a>(gEdmaHandle[edmaConfigNum], &amp;param);</div>
</div><!-- fragment --><p> Initialize ECC memory for the ECC aggregator </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gab6846e8345f036e70e2e3643697a951f">SDL_ECC_initMemory</a>(SDL_EXAMPLE_ECC_AGGR, SDL_EXAMPLE_ECC_RAM_ID);</div>
</div><!-- fragment --><p>Initialize ESM module </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ESM__MODULE.html#ga9ce49362624d8bbb550a5a78198dff67">SDL_ESM_init</a>(<a class="code" href="group__SDL__ESM__MODULE.html#ggae5a25ad63d3b6fb92538167520983d51a825e49e84662d961a375f14f9c9afc9d">SDL_ESM_INST_MAIN_ESM0</a>, &amp;ECC_Test_esmInitConfig_MAIN, SDL_ESM_applicationCallbackFunction, ptr);</div>
</div><!-- fragment --><p>Initialize ECC parameters for single and double bit error injection </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga5a3e77d0089427bae4e0ce94cdf0b143">SDL_ECC_init</a>(SDL_EXAMPLE_ECC_AGGR, &amp;ECC_Test_MSS_ECCInitConfig);</div>
</div><!-- fragment --><p>Execute ECC MSS TPTC single bit inject test </p><div class="fragment"><div class="line">int32_t ECC_Test_run_MSS_TPTC_A0_1Bit_InjectTest(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    SDL_ErrType_t result;</div>
<div class="line">    int32_t retVal=0;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__ECC__InjectErrorConfig__t.html">SDL_ECC_InjectErrorConfig_t</a> injectErrorConfig;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\n MSS TPTC_A0 Single bit error inject: test starting&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a> = (uint32_t *)(0x0u);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Run one shot test for MSS TPTC_A0 1 bit error */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a446cb5fc4a2bec760141931cd5e2585a">flipBitMask</a> = 0x02;</div>
<div class="line">    result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gaf5979274875023a443b27b3b01168f27">SDL_ECC_injectError</a>(SDL_EXAMPLE_ECC_AGGR,</div>
<div class="line">                                 SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">                                 <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86a9367463f3e0a98d584989946cccf4dcf">SDL_INJECT_ECC_ERROR_FORCING_1BIT_ONCE</a>,</div>
<div class="line">                                 &amp;injectErrorConfig);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != SDL_PASS ) {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\n MSS TPTC_A0 Single bit error inject at pErrMem 0x%p test failed&quot;</span>,</div>
<div class="line">                    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>);</div>
<div class="line">        retVal = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\n MSS TPTC_A0 Single bit error inject at pErrMem 0x%p&quot;</span>,</div>
<div class="line">                   injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Execute ECC MSS TPTC double bit inject test </p><div class="fragment"><div class="line">int32_t ECC_Test_run_MSS_TPTC_A0_2Bit_InjectTest(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    SDL_ErrType_t result;</div>
<div class="line">    int32_t retVal=0;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__ECC__InjectErrorConfig__t.html">SDL_ECC_InjectErrorConfig_t</a> injectErrorConfig;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\n MSS TPTC_A0 Double bit error inject: starting&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Run one shot test for MSS TPTC_A0 2 bit error */</span></div>
<div class="line">    <span class="comment">/* Note the address is relative to start of ram */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a> = (uint32_t *)(0x0u);</div>
<div class="line"> </div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a446cb5fc4a2bec760141931cd5e2585a">flipBitMask</a> = 0x03;</div>
<div class="line">    result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gaf5979274875023a443b27b3b01168f27">SDL_ECC_injectError</a>(SDL_EXAMPLE_ECC_AGGR,</div>
<div class="line">                                 SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">                                 <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86ab0492b03992640143306de6861cc6de2">SDL_INJECT_ECC_ERROR_FORCING_2BIT_ONCE</a>,</div>
<div class="line">                                 &amp;injectErrorConfig);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != SDL_PASS ) {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\n MSS TPTC_A0 Double bit error inject: at pErrMem 0x%p: fixed location once test failed&quot;</span>,</div>
<div class="line">                    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>);</div>
<div class="line">       retVal = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\n MSS TPTC_A0 Double bit error inject at pErrMem 0x%p &quot;</span>,</div>
<div class="line">                   injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Initialize the source address with a pattern and initialize dst address with zero/another pattern (optional) </p><div class="fragment"><div class="line">srcBuffPtr = (uint8_t *) gEdmaTestSrcBuff;</div>
<div class="line">dstBuffPtr = (uint8_t *) gEdmaTestDstBuff;</div>
<div class="line"><span class="keywordflow">for</span>(loopCnt = 0U; loopCnt &lt; EDMA_TEST_BUFFER_SIZE; loopCnt++)</div>
<div class="line">{</div>
<div class="line">    srcBuffPtr[loopCnt] = (uint8_t)loopCnt;</div>
<div class="line">    dstBuffPtr[loopCnt] = 0;</div>
<div class="line">}</div>
<div class="line"><a class="code" href="group__KERNEL__DPL__CACHE.html#ga53f4efb4e3538bc517f14d5a8e60bcec">CacheP_wb</a>((<span class="keywordtype">void</span> *)srcBuffPtr, EDMA_TEST_BUFFER_SIZE, <a class="code" href="group__KERNEL__DPL__CACHE.html#gad32c7fc7ab9abcd63a3d5feb77b9b825">CacheP_TYPE_ALL</a>);</div>
<div class="line"><a class="code" href="group__KERNEL__DPL__CACHE.html#ga53f4efb4e3538bc517f14d5a8e60bcec">CacheP_wb</a>((<span class="keywordtype">void</span> *)dstBuffPtr, EDMA_TEST_BUFFER_SIZE, <a class="code" href="group__KERNEL__DPL__CACHE.html#gad32c7fc7ab9abcd63a3d5feb77b9b825">CacheP_TYPE_ALL</a>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Request channel */</span></div>
<div class="line"><a class="code" href="group__DRV__EDMA__MODULE.html#ga679d843ea9c5af0bb900ec951b5e50ef">EDMA_configureChannelRegion</a>(baseAddr, regionId, <a class="code" href="group__DRV__EDMA__MODULE.html#ga9451e7d97e5ac3b86750423eff924a89">EDMA_CHANNEL_TYPE_DMA</a>,</div>
<div class="line">     dmaCh, tcc, param, queueType);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Program Param Set */</span></div>
<div class="line"><a class="code" href="group__DRV__EDMA__MODULE.html#gabe40d9f4509dce2b7d653800e5b5d044">EDMA_ccPaRAMEntry_init</a>(&amp;edmaParam);</div>
<div class="line">edmaParam.srcAddr       = (uint32_t) <a class="code" href="group__DRV__SOC__MODULE.html#ga9a3dd12ed6ec3bce4b786744c5cb134d">SOC_virtToPhy</a>(srcBuffPtr);</div>
<div class="line">edmaParam.destAddr      = (uint32_t) <a class="code" href="group__DRV__SOC__MODULE.html#ga9a3dd12ed6ec3bce4b786744c5cb134d">SOC_virtToPhy</a>(dstBuffPtr);</div>
<div class="line">edmaParam.aCnt          = (uint16_t) EDMA_TEST_A_COUNT;</div>
<div class="line">edmaParam.bCnt          = (uint16_t) EDMA_TEST_B_COUNT;</div>
<div class="line">edmaParam.cCnt          = (uint16_t) EDMA_TEST_C_COUNT;</div>
<div class="line">edmaParam.bCntReload    = (uint16_t) EDMA_TEST_B_COUNT;</div>
<div class="line">edmaParam.srcBIdx       = (int16_t) <a class="code" href="group__DRV__EDMA__MODULE.html#gad62f95a05a95794b2da2b69a7c3822a7">EDMA_PARAM_BIDX</a>(EDMA_TEST_A_COUNT);</div>
<div class="line">edmaParam.destBIdx      = (int16_t) <a class="code" href="group__DRV__EDMA__MODULE.html#gad62f95a05a95794b2da2b69a7c3822a7">EDMA_PARAM_BIDX</a>(EDMA_TEST_A_COUNT);</div>
<div class="line">edmaParam.srcCIdx       = (int16_t) EDMA_TEST_A_COUNT;</div>
<div class="line">edmaParam.destCIdx      = (int16_t) EDMA_TEST_A_COUNT;</div>
<div class="line">edmaParam.linkAddr      = 0xFFFFU;</div>
<div class="line">edmaParam.srcBIdxExt    = (int8_t) <a class="code" href="group__DRV__EDMA__MODULE.html#ga8d8920baa2258ebb5ed584bc8a35c378">EDMA_PARAM_BIDX_EXT</a>(EDMA_TEST_A_COUNT);</div>
<div class="line">edmaParam.destBIdxExt   = (int8_t) <a class="code" href="group__DRV__EDMA__MODULE.html#ga8d8920baa2258ebb5ed584bc8a35c378">EDMA_PARAM_BIDX_EXT</a>(EDMA_TEST_A_COUNT);</div>
<div class="line">edmaParam.opt          |=</div>
<div class="line">    (<a class="code" href="group__DRV__EDMA__MODULE.html#gaec579b9c0f4e15413e7335e241f1ce25">EDMA_OPT_TCINTEN_MASK</a> | <a class="code" href="group__DRV__EDMA__MODULE.html#gab5c22d84c377d1b6851b32ea7e68a83c">EDMA_OPT_ITCINTEN_MASK</a> |</div>
<div class="line">     ((((uint32_t)tcc) &lt;&lt; <a class="code" href="group__DRV__EDMA__MODULE.html#ga2d6b4f13bb144772ec7bdbedc8a4216a">EDMA_OPT_TCC_SHIFT</a>) &amp; <a class="code" href="group__DRV__EDMA__MODULE.html#ga2db76ebb47e033367d29bb7c8097cca9">EDMA_OPT_TCC_MASK</a>));</div>
<div class="line"><a class="code" href="group__DRV__EDMA__MODULE.html#gacca60b17fbcdf381855245c83aeb8129">EDMA_setPaRAM</a>(baseAddr, param, &amp;edmaParam);</div>
<div class="line"> </div>
<div class="line">status = <a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga2de8d925b9ae035fd8a749927463aef5">SemaphoreP_constructBinary</a>(&amp;gEdmaTestDoneSem, 0);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Register interrupt */</span></div>
<div class="line">intrObj.tccNum = tcc;</div>
<div class="line">intrObj.cbFxn  = &amp;EDMA_regionIsrFxn;</div>
<div class="line">intrObj.appData = (<span class="keywordtype">void</span> *) &amp;gEdmaTestDoneSem;</div>
<div class="line">status = <a class="code" href="group__DRV__EDMA__MODULE.html#ga4df83d231b8c7cb958d0ad5f21767dc7">EDMA_registerIntr</a>(gEdmaHandle[edmaConfigNum], &amp;intrObj);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/*</span></div>
<div class="line"><span class="comment"> * Transfer is done in A sync mode</span></div>
<div class="line"><span class="comment"> * Number of triggers required are B_COUNT * C_COUNT</span></div>
<div class="line"><span class="comment"> */</span></div>
<div class="line"><span class="keywordflow">for</span>(loopCnt = 0; loopCnt &lt; (EDMA_TEST_B_COUNT * EDMA_TEST_C_COUNT); loopCnt++)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__DRV__EDMA__MODULE.html#ga50ac4ed1bc5df32e3476e7fdd67280a4">EDMA_enableTransferRegion</a>(</div>
<div class="line">        baseAddr, regionId, dmaCh, <a class="code" href="group__DRV__EDMA__MODULE.html#gabf1983b82e8a9f4310ca0e72e05b7c02">EDMA_TRIG_MODE_MANUAL</a>);</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga8733f9edac3a2d559b97dc0d115c3ba8">SemaphoreP_pend</a>(&amp;gEdmaTestDoneSem, <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga376db5d2fbbc54611736778be8e15431">SystemP_WAIT_FOREVER</a>);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Invalidate destination buffer and compare with src buffer */</span></div>
<div class="line"><a class="code" href="group__KERNEL__DPL__CACHE.html#ga894fcf969b6afb5f30e25861d39c9219">CacheP_inv</a>((<span class="keywordtype">void</span> *)dstBuffPtr, EDMA_TEST_BUFFER_SIZE, <a class="code" href="group__KERNEL__DPL__CACHE.html#gad32c7fc7ab9abcd63a3d5feb77b9b825">CacheP_TYPE_ALL</a>);</div>
<div class="line"><span class="keywordflow">for</span>(loopCnt = 0; loopCnt &lt; EDMA_TEST_BUFFER_SIZE; loopCnt++)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span>(srcBuffPtr[loopCnt] != dstBuffPtr[loopCnt])</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;Error matching value at src and dst address %d\r\n&quot;</span>, loopCnt);</div>
<div class="line">        status = <a class="code" href="group__KERNEL__DPL__SYSTEM.html#gac64497676d49ad4e51a1d9513e3570d9">SystemP_FAILURE</a>;</div>
<div class="line">        result = SDL_EFAIL;</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">status = <a class="code" href="group__DRV__EDMA__MODULE.html#gac2be00566799e0f36b7b8faf4539dfa0">EDMA_unregisterIntr</a>(gEdmaHandle[edmaConfigNum], &amp;intrObj);</div>
<div class="line"><a class="code" href="group__KERNEL__DPL__SEMAPHORE.html#ga983b3b10c5d00c08d5caa9bcd3c0e9b2">SemaphoreP_destruct</a>(&amp;gEdmaTestDoneSem);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Free channel */</span></div>
<div class="line"><a class="code" href="group__DRV__EDMA__MODULE.html#gaa238dee55704f29acc91c37e78f86dc4">EDMA_freeChannelRegion</a>(baseAddr, regionId, <a class="code" href="group__DRV__EDMA__MODULE.html#ga9451e7d97e5ac3b86750423eff924a89">EDMA_CHANNEL_TYPE_DMA</a>,</div>
<div class="line">    dmaCh, <a class="code" href="group__DRV__EDMA__MODULE.html#gabf1983b82e8a9f4310ca0e72e05b7c02">EDMA_TRIG_MODE_MANUAL</a>, tcc, EDMA_TEST_EVT_QUEUE_NO);</div>
<div class="line"> </div>
<div class="line"><span class="comment">/* Free the EDMA resources managed by driver. */</span></div>
<div class="line">status = <a class="code" href="group__DRV__EDMA__MODULE.html#gab67fb4b3c1e59b1099c80314827ff098">EDMA_freeDmaChannel</a>(gEdmaHandle[edmaConfigNum], &amp;dmaCh);</div>
<div class="line">status = <a class="code" href="group__DRV__EDMA__MODULE.html#ga25fcaf8157c3416c86619ea902afc61e">EDMA_freeTcc</a>(gEdmaHandle[edmaConfigNum], &amp;tcc);</div>
<div class="line">status = <a class="code" href="group__DRV__EDMA__MODULE.html#ga77b4c91a94789c39a0c5723b6666dee4">EDMA_freeParam</a>(gEdmaHandle[edmaConfigNum], &amp;param);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span>(status == <a class="code" href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a>)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\n[EDMA] Interrupt Transfer Test Completed!!\r\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span>(esmError == TRUE)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nAll tests have passed!!\r\n&quot;</span>);</div>
<div class="line">        esmError = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        result = SDL_EFAIL;</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nESM interrupt is not occurred.... Test is failed!!\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    result = SDL_EFAIL;</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nSome tests have failed!!\r\n&quot;</span>);</div>
<div class="line">}</div>
<div class="line">EDMA_Deinit();</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1667"></a>
Example Usage of MCAN</h1>
<p>Include the below file to access the APIs</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;ecc_main.h&quot;</span></div>
</div><!-- fragment --><p>Below are the macros specifies the RAM address, ECC aggregator and ECC aggregator RAMID for inject the ECC error</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ADDR                    (0x52600000u) </span><span class="comment">/*MCAN0 address*/</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_AGGR                        SDL_MCAN0_MCANSS_MSGMEM_WRAP_ECC_AGGR</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ID                      SDL_MCAN0_MCANSS_MSGMEM_WRAP_ECC_AGGR_MCANSS_MSGMEM_WRAP_MSGMEM_ECC_RAM_ID</span></div>
</div><!-- fragment --><p>This structure defines the elements of ECC Init configuration </p><div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#ga0d731a39964dd93567cb3532002243b9">SDL_ECC_MemSubType</a> ECC_Test_MCANA_subMemTypeList[SDL_MCANA_MAX_MEM_SECTIONS] =</div>
<div class="line">{</div>
<div class="line">     SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="structSDL__ECC__InitConfig__t.html">SDL_ECC_InitConfig_t</a> ECC_Test_MCANA_ECCInitConfig =</div>
<div class="line">{</div>
<div class="line">    .<a class="code" href="structSDL__ECC__InitConfig__t.html#a84b31ba9b78ce98075cb9bbff6515e42">numRams</a> = SDL_MCANA_MAX_MEM_SECTIONS,</div>
<div class="line">    .pMemSubTypeList = &amp;(ECC_Test_MCANA_subMemTypeList[0]),</div>
<div class="line">};</div>
</div><!-- fragment --><p>ESM callback function</p>
<div class="fragment"><div class="line">int32_t SDL_ESM_applicationCallbackFunction(<a class="code" href="group__SDL__ESM__MODULE.html#gae5a25ad63d3b6fb92538167520983d51">SDL_ESM_Inst</a> esmInst,</div>
<div class="line">                                            SDL_ESM_IntType esmIntrType,</div>
<div class="line">                                            uint32_t grpChannel,</div>
<div class="line">                                            uint32_t index,</div>
<div class="line">                                            uint32_t intSrc,</div>
<div class="line">                                            uintptr_t *arg)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gac233021d13f25dc397424af5b5bdc28b">SDL_ECC_MemType</a> eccmemtype;</div>
<div class="line">    <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gac54924de1f429528a55d0e1c46056a59">SDL_Ecc_AggrIntrSrc</a> eccIntrSrc;</div>
<div class="line">    <a class="code" href="structSDL__ECC__ErrorInfo__t.html">SDL_ECC_ErrorInfo_t</a> eccErrorInfo;</div>
<div class="line">    int32_t retVal;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nESM Call back function called : instType 0x%x, intType 0x%x, &quot;</span> \</div>
<div class="line">                <span class="stringliteral">&quot;grpChannel 0x%x, index 0x%x, intSrc 0x%x\r\n&quot;</span>,</div>
<div class="line">                esmInst, esmIntrType, grpChannel, index, intSrc);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nTake action\r\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span>(esmIntrType == 1u){</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nHigh Priority Interrupt Executed\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span>{</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nLow Priority Interrupt Executed\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    retVal = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga36463b8cc63856b9f93444a4437bfe28">SDL_ECC_getESMErrorInfo</a>(esmInst, intSrc, &amp;eccmemtype, &amp;eccIntrSrc);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Any additional customer specific actions can be added here */</span></div>
<div class="line">    retVal = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gac2e6218ddda539194cf00afe01b89ae7">SDL_ECC_getErrorInfo</a>(eccmemtype, eccIntrSrc, &amp;eccErrorInfo);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nECC Error Call back function called : eccMemType %d, errorSrc 0x%x, &quot;</span> \</div>
<div class="line">               <span class="stringliteral">&quot;ramId %d, bitErrorOffset 0x%04x%04x, bitErrorGroup %d\r\n&quot;</span>,</div>
<div class="line">               eccmemtype, eccIntrSrc, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aa8a64d97ec15c7ddbb1b74d3c324d7c0">memSubType</a>, (uint32_t)(eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#af08e6f67a020732f8768dc11c7de1278">bitErrorOffset</a> &gt;&gt; 32),</div>
<div class="line">               (uint32_t)(eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#af08e6f67a020732f8768dc11c7de1278">bitErrorOffset</a> &amp; 0x00000000FFFFFFFF), eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#ab4e3b9802e01c7e43f4ee13fdcc5c19d">bitErrorGroup</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aca7d2c8594d485ce17d80d720e616a48">injectBitErrCnt</a> != 0)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga7fbb744d3c79356a24aeb3e896a057ae">SDL_ECC_clearNIntrPending</a>(eccmemtype, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aa8a64d97ec15c7ddbb1b74d3c324d7c0">memSubType</a>, eccIntrSrc, <a class="code" href="group__SDL__ECC__AGGR__MACROS.html#ga6d7b2c529580598bcc18bbd94208b347">SDL_ECC_AGGR_ERROR_SUBTYPE_INJECT</a>, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aca7d2c8594d485ce17d80d720e616a48">injectBitErrCnt</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga7fbb744d3c79356a24aeb3e896a057ae">SDL_ECC_clearNIntrPending</a>(eccmemtype, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aa8a64d97ec15c7ddbb1b74d3c324d7c0">memSubType</a>, eccIntrSrc, <a class="code" href="group__SDL__ECC__AGGR__MACROS.html#ga1e0979510ddf3b1437cb95cfdcd22e3c">SDL_ECC_AGGR_ERROR_SUBTYPE_NORMAL</a>, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#a4526456fbf67a84f6b34c5fb66f50689">bitErrCnt</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    retVal = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga63ba6397a440a3a47dfb975bba0d9acb">SDL_ECC_ackIntr</a>(eccmemtype, eccIntrSrc);</div>
<div class="line"> </div>
<div class="line">    esmError = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Event BitMap for ECC ESM callback for MCAN</p>
<div class="fragment"><div class="line">SDL_ESM_config ECC_Test_esmInitConfig_MAIN =</div>
<div class="line">{</div>
<div class="line">     .esmErrorConfig = {1u, 8u}, <span class="comment">/* Self test error config */</span></div>
<div class="line">     .enableBitmap = {0x0000000cu, 0x00000000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                      0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">       <span class="comment">/* CCM_1_SELFTEST_ERR and _R5FSS0COMPARE_ERR_PULSE_0 */</span></div>
<div class="line">     .priorityBitmap = {0x00000008u, 0x000000000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u },</div>
<div class="line">     .errorpinBitmap = {0x0000000cu, 0x00000000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">};</div>
</div><!-- fragment --><p>Initialize ECC memory for the ECC aggregator </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gab6846e8345f036e70e2e3643697a951f">SDL_ECC_initMemory</a>(SDL_EXAMPLE_ECC_AGGR, SDL_EXAMPLE_ECC_RAM_ID);</div>
</div><!-- fragment --><p>Initialize ESM module </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ESM__MODULE.html#ga9ce49362624d8bbb550a5a78198dff67">SDL_ESM_init</a>(<a class="code" href="group__SDL__ESM__MODULE.html#ggae5a25ad63d3b6fb92538167520983d51a825e49e84662d961a375f14f9c9afc9d">SDL_ESM_INST_MAIN_ESM0</a>, &amp;ECC_Test_esmInitConfig_MAIN, SDL_ESM_applicationCallbackFunction, ptr);</div>
</div><!-- fragment --><p>Initialize ECC parameters for single and double bit error injection </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga5a3e77d0089427bae4e0ce94cdf0b143">SDL_ECC_init</a>(SDL_EXAMPLE_ECC_AGGR, &amp;ECC_Test_MCANA_ECCInitConfig);</div>
</div><!-- fragment --><p>Write some data to the RAM memory before injecting </p><div class="fragment"><div class="line"><span class="keywordflow">for</span>(i=1;i&lt;=num_of_iterations;i++){</div>
<div class="line">  wr_data = (i)&lt;&lt;24 | (i)&lt;&lt;16 | (i)&lt;&lt;8 | i;</div>
<div class="line">  <a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(addr+i*16, wr_data);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Execute ECC MCAN single bit inject test </p><div class="fragment"><div class="line">int32_t ECC_Test_run_MCANA_1BitInjectTest(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    SDL_ErrType_t result;</div>
<div class="line">    int32_t retVal=0;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__ECC__InjectErrorConfig__t.html">SDL_ECC_InjectErrorConfig_t</a> injectErrorConfig;</div>
<div class="line">    <span class="keyword">volatile</span> uint32_t testLocationValue;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nMCANA Single bit error inject: starting \r\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Note the address is relative to start of ram */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a> = (uint32_t *)(SDL_EXAMPLE_ECC_RAM_ADDR);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Run one shot test for MCANA  1 bit error */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a446cb5fc4a2bec760141931cd5e2585a">flipBitMask</a> = 0x002;</div>
<div class="line">    result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gaf5979274875023a443b27b3b01168f27">SDL_ECC_injectError</a>(SDL_EXAMPLE_ECC_AGGR,</div>
<div class="line">                                 SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">                                 <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86a9367463f3e0a98d584989946cccf4dcf">SDL_INJECT_ECC_ERROR_FORCING_1BIT_ONCE</a>,</div>
<div class="line">                                 &amp;injectErrorConfig);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != SDL_PASS ) {</div>
<div class="line">        retVal = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Access the memory where injection is expected */</span></div>
<div class="line">        testLocationValue = injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>[0];</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nMCANA Single bit error inject at pErrMem = 0x%p and the value of pErrMem is 0x%p :test complete\r\n&quot;</span>,</div>
<div class="line">                   injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>, testLocationValue);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Read data from the RAM memory after injecting </p><div class="fragment"><div class="line"><span class="keywordflow">for</span>(i=1;i&lt;=num_of_iterations;i++){</div>
<div class="line">  rd_data = <a class="code" href="sdlr_8h.html#a153e7ea87f9009ed9ca9cb719e0fba9f">SDL_REG32_RD</a>(addr+i*16);</div>
<div class="line">  <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nRead data =  0x%p\r\n&quot;</span>,rd_data);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Write some data to the RAM memory before injecting </p><div class="fragment"><div class="line"><span class="keywordflow">for</span>(i=1;i&lt;=num_of_iterations;i++){</div>
<div class="line">  wr_data = (i)&lt;&lt;24 | (i)&lt;&lt;16 | (i)&lt;&lt;8 | i;</div>
<div class="line">  <a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(addr+i*16, wr_data);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Execute ECC MCAN double bit inject test </p><div class="fragment"><div class="line">int32_t ECC_Test_run_MCANA_2BitInjectTest(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    SDL_ErrType_t result;</div>
<div class="line">    int32_t retVal=0;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__ECC__InjectErrorConfig__t.html">SDL_ECC_InjectErrorConfig_t</a> injectErrorConfig;</div>
<div class="line">    <span class="keyword">volatile</span> uint32_t testLocationValue;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nMCANA double bit error inject: starting \r\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Run one shot test for MCANA  2 bit error */</span></div>
<div class="line">    <span class="comment">/* Note the address is relative to start of ram */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a> = (uint32_t *)(SDL_EXAMPLE_ECC_RAM_ADDR);</div>
<div class="line"> </div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a446cb5fc4a2bec760141931cd5e2585a">flipBitMask</a> = 0x03;</div>
<div class="line">    result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gaf5979274875023a443b27b3b01168f27">SDL_ECC_injectError</a>(SDL_EXAMPLE_ECC_AGGR,</div>
<div class="line">                                 SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">                                 <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86ab0492b03992640143306de6861cc6de2">SDL_INJECT_ECC_ERROR_FORCING_2BIT_ONCE</a>,</div>
<div class="line">                                 &amp;injectErrorConfig);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Access the memory where injection is expected */</span></div>
<div class="line">    testLocationValue = injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>[0];</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != SDL_PASS ) {</div>
<div class="line">       retVal = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nMCANA Double bit error inject: pErrMem fixed location = 0x%p once test complete: the value of pErrMem is 0x%p\r\n&quot;</span>,</div>
<div class="line">                   injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>, testLocationValue);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Read data from the RAM memory after injecting </p><div class="fragment"><div class="line"><span class="keywordflow">for</span>(i=1;i&lt;=num_of_iterations;i++){</div>
<div class="line">  rd_data = <a class="code" href="sdlr_8h.html#a153e7ea87f9009ed9ca9cb719e0fba9f">SDL_REG32_RD</a>(addr+i*16);</div>
<div class="line">  <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nRead data =  0x%p\r\n&quot;</span>,rd_data);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1668"></a>
Example Usage of ICSSM</h1>
<p>Include the below file to access the APIs</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;ecc_main.h&quot;</span></div>
</div><!-- fragment --><p>Below are the macros specifies the RAM address, ECC aggregator and ECC aggregator RAMID for inject the ECC error</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define SDL_ICSSM_DRAM0                             (1U)</span></div>
<div class="line"><span class="preprocessor">#define SDL_ICSSM_DRAM1                             (0U)</span></div>
<div class="line"><span class="preprocessor">#define SDL_ICSSM_PR1_PDSP0_IRAM                    (0U)</span></div>
<div class="line"><span class="preprocessor">#define SDL_ICSSM_PR1_PDSP1_IRAM                    (0U)</span></div>
<div class="line"><span class="preprocessor">#define SDL_ICSSM_RAM                               (0U)</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define SDL_ICSSM_MAX_MEM_SECTIONS                  (1u)</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if SDL_ICSSM_DRAM0</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ADDR                    (0x48000000u) </span><span class="comment">/* ICSSM DRAM0 RAM address */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_AGGR                        SDL_ICSSM_ICSS_G_CORE_BORG_ECC_AGGR</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ID                      SDL_PRU_ICSSM_ICSS_G_CORE_BORG_ECC_AGGR_ICSS_G_CORE_DRAM0_ECC_RAM_ID</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if SDL_ICSSM_DRAM1</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ADDR                    (0x48002000u) </span><span class="comment">/* ICSSM DRAM1 RAM address */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_AGGR                        SDL_ICSSM_ICSS_G_CORE_BORG_ECC_AGGR</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ID                      SDL_PRU_ICSSM_ICSS_G_CORE_BORG_ECC_AGGR_ICSS_G_CORE_DRAM1_ECC_RAM_ID</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if SDL_ICSSM_PR1_PDSP0_IRAM</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ADDR                    (0x48034000u) </span><span class="comment">/* ICSSM PR1 PDSP0 IRAM RAM address */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_AGGR                        SDL_ICSSM_ICSS_G_CORE_BORG_ECC_AGGR</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ID                      SDL_PRU_ICSSM_ICSS_G_CORE_BORG_ECC_AGGR_ICSS_G_CORE_PR1_PDSP0_IRAM_ECC_RAM_ID</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if SDL_ICSSM_PR1_PDSP1_IRAM</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ADDR                    (0x48038000u) </span><span class="comment">/* ICSSM PR1 PDSP1 IRAM RAM address */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_AGGR                        SDL_ICSSM_ICSS_G_CORE_BORG_ECC_AGGR</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ID                      SDL_PRU_ICSSM_ICSS_G_CORE_BORG_ECC_AGGR_ICSS_G_CORE_PR1_PDSP1_IRAM_ECC_RAM_ID</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#if SDL_ICSSM_RAM</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ADDR                    (0x48010000u) </span><span class="comment">/* ICSSM RAM RAM address */</span><span class="preprocessor"></span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_AGGR                        SDL_ICSSM_ICSS_G_CORE_BORG_ECC_AGGR</span></div>
<div class="line"><span class="preprocessor">#define SDL_EXAMPLE_ECC_RAM_ID                      SDL_PRU_ICSSM_ICSS_G_CORE_BORG_ECC_AGGR_ICSS_G_CORE_RAM_ECC_RAM_ID</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
</div><!-- fragment --><p>This structure defines the elements of ECC Init configuration </p><div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#ga0d731a39964dd93567cb3532002243b9">SDL_ECC_MemSubType</a> ECC_Test_ICSSM_subMemTypeList[SDL_ICSSM_MAX_MEM_SECTIONS] =</div>
<div class="line">{</div>
<div class="line">    SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <a class="code" href="structSDL__ECC__InitConfig__t.html">SDL_ECC_InitConfig_t</a> ECC_Test_ICSSM_ECCInitConfig =</div>
<div class="line">{</div>
<div class="line">    .<a class="code" href="structSDL__ECC__InitConfig__t.html#a84b31ba9b78ce98075cb9bbff6515e42">numRams</a> = SDL_ICSSM_MAX_MEM_SECTIONS,</div>
<div class="line">    .pMemSubTypeList = &amp;(ECC_Test_ICSSM_subMemTypeList[0]),</div>
<div class="line">};</div>
</div><!-- fragment --><p>ESM callback function</p>
<div class="fragment"><div class="line">int32_t SDL_ESM_applicationCallbackFunction(<a class="code" href="group__SDL__ESM__MODULE.html#gae5a25ad63d3b6fb92538167520983d51">SDL_ESM_Inst</a> esmInst,</div>
<div class="line">                                            SDL_ESM_IntType esmIntrType,</div>
<div class="line">                                            uint32_t grpChannel,</div>
<div class="line">                                            uint32_t index,</div>
<div class="line">                                            uint32_t intSrc,</div>
<div class="line">                                            uintptr_t *arg)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gac233021d13f25dc397424af5b5bdc28b">SDL_ECC_MemType</a> eccmemtype;</div>
<div class="line">    <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gac54924de1f429528a55d0e1c46056a59">SDL_Ecc_AggrIntrSrc</a> eccIntrSrc;</div>
<div class="line">    <a class="code" href="structSDL__ECC__ErrorInfo__t.html">SDL_ECC_ErrorInfo_t</a> eccErrorInfo;</div>
<div class="line">    int32_t retVal;</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nESM Call back function called : instType 0x%x, intType 0x%x, &quot;</span> \</div>
<div class="line">                <span class="stringliteral">&quot;grpChannel 0x%x, index 0x%x, intSrc 0x%x\r\n&quot;</span>,</div>
<div class="line">                esmInst, esmIntrType, grpChannel, index, intSrc);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nTake action\r\n&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span>(esmIntrType == 1u){</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nHigh Priority Interrupt Executed\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span>{</div>
<div class="line">        printf(<span class="stringliteral">&quot;\r\nLow Priority Interrupt Executed\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    retVal = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga36463b8cc63856b9f93444a4437bfe28">SDL_ECC_getESMErrorInfo</a>(esmInst, intSrc, &amp;eccmemtype, &amp;eccIntrSrc);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Any additional customer specific actions can be added here */</span></div>
<div class="line">    retVal = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gac2e6218ddda539194cf00afe01b89ae7">SDL_ECC_getErrorInfo</a>(eccmemtype, eccIntrSrc, &amp;eccErrorInfo);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nECC Error Call back function called : eccMemType %d, errorSrc 0x%x, &quot;</span> \</div>
<div class="line">               <span class="stringliteral">&quot;ramId %d, bitErrorOffset 0x%04x%04x, bitErrorGroup %d\r\n&quot;</span>,</div>
<div class="line">               eccmemtype, eccIntrSrc, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aa8a64d97ec15c7ddbb1b74d3c324d7c0">memSubType</a>, (uint32_t)(eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#af08e6f67a020732f8768dc11c7de1278">bitErrorOffset</a> &gt;&gt; 32),</div>
<div class="line">               (uint32_t)(eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#af08e6f67a020732f8768dc11c7de1278">bitErrorOffset</a> &amp; 0x00000000FFFFFFFF), eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#ab4e3b9802e01c7e43f4ee13fdcc5c19d">bitErrorGroup</a>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aca7d2c8594d485ce17d80d720e616a48">injectBitErrCnt</a> != 0)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga7fbb744d3c79356a24aeb3e896a057ae">SDL_ECC_clearNIntrPending</a>(eccmemtype, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aa8a64d97ec15c7ddbb1b74d3c324d7c0">memSubType</a>, eccIntrSrc, <a class="code" href="group__SDL__ECC__AGGR__MACROS.html#ga6d7b2c529580598bcc18bbd94208b347">SDL_ECC_AGGR_ERROR_SUBTYPE_INJECT</a>, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aca7d2c8594d485ce17d80d720e616a48">injectBitErrCnt</a>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span></div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga7fbb744d3c79356a24aeb3e896a057ae">SDL_ECC_clearNIntrPending</a>(eccmemtype, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#aa8a64d97ec15c7ddbb1b74d3c324d7c0">memSubType</a>, eccIntrSrc, <a class="code" href="group__SDL__ECC__AGGR__MACROS.html#ga1e0979510ddf3b1437cb95cfdcd22e3c">SDL_ECC_AGGR_ERROR_SUBTYPE_NORMAL</a>, eccErrorInfo.<a class="code" href="structSDL__ECC__ErrorInfo__t.html#a4526456fbf67a84f6b34c5fb66f50689">bitErrCnt</a>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    retVal = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga63ba6397a440a3a47dfb975bba0d9acb">SDL_ECC_ackIntr</a>(eccmemtype, eccIntrSrc);</div>
<div class="line"> </div>
<div class="line">    esmError = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Event BitMap for ECC ESM callback for ICSSM</p>
<div class="fragment"><div class="line">SDL_ESM_config ECC_Test_esmInitConfig_MAIN =</div>
<div class="line">{</div>
<div class="line">     .esmErrorConfig = {1u, 8u}, <span class="comment">/* Self test error config */</span></div>
<div class="line">     .enableBitmap = {0x00000000u, 0x00000000u, 0x00006000u, 0x00000000u,</div>
<div class="line">                      0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">       <span class="comment">/* CCM_1_SELFTEST_ERR and _R5FSS0COMPARE_ERR_PULSE_0 */</span></div>
<div class="line">     .priorityBitmap = {0x00000000u, 0x00000000u, 0x00002000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u },</div>
<div class="line">     .errorpinBitmap = {0x00000000u, 0x00000000u, 0x00006000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">};</div>
</div><!-- fragment --><p>Initialize ECC memory for the ECC aggregator </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gab6846e8345f036e70e2e3643697a951f">SDL_ECC_initMemory</a>(SDL_EXAMPLE_ECC_AGGR, SDL_EXAMPLE_ECC_RAM_ID);</div>
</div><!-- fragment --><p>Initialize ESM module </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ESM__MODULE.html#ga9ce49362624d8bbb550a5a78198dff67">SDL_ESM_init</a>(<a class="code" href="group__SDL__ESM__MODULE.html#ggae5a25ad63d3b6fb92538167520983d51a825e49e84662d961a375f14f9c9afc9d">SDL_ESM_INST_MAIN_ESM0</a>, &amp;ECC_Test_esmInitConfig_MAIN, SDL_ESM_applicationCallbackFunction, ptr);</div>
</div><!-- fragment --><p>Initialize ECC parameters for single and double bit error injection </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#ga5a3e77d0089427bae4e0ce94cdf0b143">SDL_ECC_init</a>(SDL_EXAMPLE_ECC_AGGR, &amp;ECC_Test_ICSSM_ECCInitConfig);</div>
</div><!-- fragment --><p>Execute ECC ICSSM single bit inject test </p><div class="fragment"><div class="line">int32_t ECC_Test_run_ICSSM_1BitInjectTest(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    SDL_ErrType_t result;</div>
<div class="line">    int32_t retVal=0;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__ECC__InjectErrorConfig__t.html">SDL_ECC_InjectErrorConfig_t</a> injectErrorConfig;</div>
<div class="line">    <span class="keyword">volatile</span> uint32_t testLocationValue;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nICSSM Single bit error inject: starting \r\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Note the address is relative to start of ram */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a> = (uint32_t *)(SDL_EXAMPLE_ECC_RAM_ADDR);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Run one shot test for ICSSM 1 bit error */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a446cb5fc4a2bec760141931cd5e2585a">flipBitMask</a> = 0x02;</div>
<div class="line">    result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gaf5979274875023a443b27b3b01168f27">SDL_ECC_injectError</a>(SDL_EXAMPLE_ECC_AGGR,</div>
<div class="line">                                 SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">                                 <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86a9367463f3e0a98d584989946cccf4dcf">SDL_INJECT_ECC_ERROR_FORCING_1BIT_ONCE</a>,</div>
<div class="line">                                 &amp;injectErrorConfig);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != SDL_PASS ) {</div>
<div class="line">        retVal = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Access the memory where injection is expected */</span></div>
<div class="line">        testLocationValue = injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>[0];</div>
<div class="line"> </div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nICSSM Single bit error inject at pErrMem = 0x%p and the value of pErrMem is 0x%p :test complete\r\n&quot;</span>,</div>
<div class="line">                   injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>, testLocationValue);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Execute ECC ICSSM double bit inject test </p><div class="fragment"><div class="line">int32_t ECC_Test_run_ICSSM_2BitInjectTest(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">    SDL_ErrType_t result;</div>
<div class="line">    int32_t retVal=0;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="structSDL__ECC__InjectErrorConfig__t.html">SDL_ECC_InjectErrorConfig_t</a> injectErrorConfig;</div>
<div class="line">    <span class="keyword">volatile</span> uint32_t testLocationValue;</div>
<div class="line"> </div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nICSSM Double bit error inject: starting \r\n&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Run one shot test for ICSSM 2 bit error */</span></div>
<div class="line">    <span class="comment">/* Note the address is relative to start of ram */</span></div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a> = (uint32_t *)(SDL_EXAMPLE_ECC_RAM_ADDR);</div>
<div class="line"> </div>
<div class="line">    injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a446cb5fc4a2bec760141931cd5e2585a">flipBitMask</a> = 0x03;</div>
<div class="line">    result = <a class="code" href="group__SDL__ECC__AGGR__FUNCTION.html#gaf5979274875023a443b27b3b01168f27">SDL_ECC_injectError</a>(SDL_EXAMPLE_ECC_AGGR,</div>
<div class="line">                                 SDL_EXAMPLE_ECC_RAM_ID,</div>
<div class="line">                                 <a class="code" href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86ab0492b03992640143306de6861cc6de2">SDL_INJECT_ECC_ERROR_FORCING_2BIT_ONCE</a>,</div>
<div class="line">                                 &amp;injectErrorConfig);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (result != SDL_PASS ) {</div>
<div class="line">       retVal = -1;</div>
<div class="line">    } <span class="keywordflow">else</span> {</div>
<div class="line">        <span class="comment">/* Access the memory where injection is expected */</span></div>
<div class="line">        testLocationValue = injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>[0];</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nICSSM Double bit error inject: pErrMem fixed location = 0x%p once test complete: the value of pErrMem is 0x%p\r\n&quot;</span>,</div>
<div class="line">                   injectErrorConfig.<a class="code" href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">pErrMem</a>, testLocationValue);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1669"></a>
Example Usage of TCM Parity</h1>
<p>Include the below file to access the APIs</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;parity_main.h&quot;</span></div>
</div><!-- fragment --><p>Below are the macros specifies the values need to set for TCM parity Error forcing</p>
<div class="fragment"><div class="line"><span class="preprocessor">#define SDL_R5F0ATCM0                           (0x7U)</span></div>
<div class="line"><span class="preprocessor">#define SDL_R5F0B0TCM0                          (0x700U)</span></div>
<div class="line"><span class="preprocessor">#define SDL_R5F0B1TCM0                          (0x70000U)</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define SDL_R5F0ATCM1                           (0x70U)</span></div>
<div class="line"><span class="preprocessor">#define SDL_R5F0B0TCM1                          (0x7000U)</span></div>
<div class="line"><span class="preprocessor">#define SDL_R5F0B1TCM1                          (0x700000U)</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define SDL_R5F1ATCM0                           (0x7U)</span></div>
<div class="line"><span class="preprocessor">#define SDL_R5F1B0TCM0                          (0x700U)</span></div>
<div class="line"><span class="preprocessor">#define SDL_R5F1B1TCM0                          (0x70000U)</span></div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#define SDL_R5F1ATCM1                           (0x70U)</span></div>
<div class="line"><span class="preprocessor">#define SDL_R5F1B0TCM1                          (0x7000U)</span></div>
<div class="line"><span class="preprocessor">#define SDL_R5F1B1TCM1                          (0x700000U)</span></div>
</div><!-- fragment --><p>ESM callback function</p>
<div class="fragment"><div class="line">int32_t SDL_ESM_applicationCallbackFunction(<a class="code" href="group__SDL__ESM__MODULE.html#gae5a25ad63d3b6fb92538167520983d51">SDL_ESM_Inst</a> esmInst,</div>
<div class="line">                                            SDL_ESM_IntType esmIntrType,</div>
<div class="line">                                            uint32_t grpChannel,</div>
<div class="line">                                            uint32_t index,</div>
<div class="line">                                            uint32_t intSrc,</div>
<div class="line">                                            uintptr_t *arg)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    int32_t retVal = 0;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nESM Call back function called : instType 0x%x, intType 0x%x, &quot;</span> \</div>
<div class="line">                <span class="stringliteral">&quot;grpChannel 0x%x, index 0x%x, intSrc 0x%x \r\n&quot;</span>,</div>
<div class="line">                esmInst, esmIntrType, grpChannel, index, intSrc);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nTake action \r\n&quot;</span>);</div>
<div class="line">    <span class="comment">/* Clears all the status registers */</span></div>
<div class="line">    SDL_clearStatusRegs(SetValue);</div>
<div class="line"> </div>
<div class="line">    esmError = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Event BitMap for ESM callback for TCM Parity</p>
<div class="fragment"><div class="line">SDL_ESM_config Test_esmInitConfig_MAIN =</div>
<div class="line">{</div>
<div class="line">     .esmErrorConfig = {1u, 8u}, <span class="comment">/* Self test error config */</span></div>
<div class="line">     .enableBitmap = {0x0003C000u, 0x00000000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                      0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">     .priorityBitmap = {0x0000C000u, 0x000000000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u },</div>
<div class="line">     .errorpinBitmap = {0x0003C000u, 0x00000000u, 0x00000000u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">};</div>
</div><!-- fragment --><p>Initialize ESM module </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ESM__MODULE.html#ga9ce49362624d8bbb550a5a78198dff67">SDL_ESM_init</a>(<a class="code" href="group__SDL__ESM__MODULE.html#ggae5a25ad63d3b6fb92538167520983d51a825e49e84662d961a375f14f9c9afc9d">SDL_ESM_INST_MAIN_ESM0</a>, &amp;ECC_Test_esmInitConfig_MAIN, SDL_ESM_applicationCallbackFunction, ptr);</div>
</div><!-- fragment --><p>Execute TCM Parity Error injection for B0TCM0 for R5FSS0 core 0</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (retVal == 0)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nTCM PARITY:B0TCM0 Started\r\n&quot;</span>);</div>
<div class="line">    retValue = SDL_ECC_TCMParity(SDL_R5SS0_CPU0_TCM,\</div>
<div class="line">                             SDL_R5FSS0_CORE0__B0TCM0,\</div>
<div class="line">                             SDL_R5F0B0TCM0);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nTCM Parity Status for B0TCM0 = 0x%x\r\n&quot;</span>, retValue);</div>
<div class="line">    <span class="keywordflow">if</span> (retValue != 0)</div>
<div class="line">    {</div>
<div class="line">        retVal = 0;</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nB0TCM0 Parity : Completed\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span>{</div>
<div class="line">        retVal = -1;</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nB0TCM0 Parity : Failed\r\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1670"></a>
Example Usage of DMA Parity</h1>
<p>Include the below file to access the APIs</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;parity_main.h&quot;</span></div>
</div><!-- fragment --><p>ESM callback function</p>
<div class="fragment"><div class="line">int32_t SDL_ESM_applicationCallbackFunction(<a class="code" href="group__SDL__ESM__MODULE.html#gae5a25ad63d3b6fb92538167520983d51">SDL_ESM_Inst</a> esmInst,</div>
<div class="line">                                            SDL_ESM_IntType esmIntrType,</div>
<div class="line">                                            uint32_t grpChannel,</div>
<div class="line">                                            uint32_t index,</div>
<div class="line">                                            uint32_t intSrc,</div>
<div class="line">                                            uintptr_t *arg)</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line">    int32_t retVal = 0;</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nESM Call back function called : instType 0x%x, &quot;</span> \</div>
<div class="line">                <span class="stringliteral">&quot;grpChannel 0x%x, intSrc 0x%x \r\n&quot;</span>,</div>
<div class="line">                esmInst, grpChannel, intSrc);</div>
<div class="line">    printf(<span class="stringliteral">&quot;\r\nTake action \r\n&quot;</span>);</div>
<div class="line">    <span class="comment">/* Disable parity for TPCC0 */</span></div>
<div class="line">    <a class="code" href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a>(0x50D18180, 0x1000);</div>
<div class="line"> </div>
<div class="line">    esmError = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> retVal;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Event BitMap for ESM callback for TCM Parity</p>
<div class="fragment"><div class="line">SDL_ESM_config Test_esmInitConfig_MAIN =</div>
<div class="line">{</div>
<div class="line">     .esmErrorConfig = {1u, 8u}, <span class="comment">/* Self test error config */</span></div>
<div class="line">     .enableBitmap = {0x00000000u, 0x80000000u, 0x00000010u, 0x00000000u,</div>
<div class="line">                      0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">     .priorityBitmap = {0x00000000u, 0x80000000u, 0x00000010u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u },</div>
<div class="line">     .errorpinBitmap = {0x00000000u, 0x80000000u, 0x00000010u, 0x00000000u,</div>
<div class="line">                        0x00000000u, 0x00000000u, 0x00000000u, 0x00000000u},</div>
<div class="line">};</div>
</div><!-- fragment --><p>Initialize ESM module </p><div class="fragment"><div class="line">result = <a class="code" href="group__SDL__ESM__MODULE.html#ga9ce49362624d8bbb550a5a78198dff67">SDL_ESM_init</a>(<a class="code" href="group__SDL__ESM__MODULE.html#ggae5a25ad63d3b6fb92538167520983d51a825e49e84662d961a375f14f9c9afc9d">SDL_ESM_INST_MAIN_ESM0</a>, &amp;Test_esmInitConfig_MAIN, SDL_ESM_applicationCallbackFunction, ptr);</div>
</div><!-- fragment --><p>Execute TPCC Parity Error injection</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span> (retVal == 0)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nTPCC PARITY : TPCC0 Started\r\n&quot;</span>);</div>
<div class="line">    retVal = SDL_ECC_TPCCParity(SDL_TPCC0, \</div>
<div class="line">                             0x11);</div>
<div class="line">    <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nParam Register = %x\r\n&quot;</span>, retVal);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* wait for delay */</span></div>
<div class="line">    <span class="keywordflow">for</span> (i =0 ; i &lt; 200 ; i = i + 1 );</div>
<div class="line"> </div>
<div class="line">    <span class="comment">/* Wait until ESM interrupt happens */</span></div>
<div class="line">    <span class="keywordflow">while</span>(esmError !=<span class="keyword">true</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span>(esmError == <span class="keyword">true</span>)</div>
<div class="line">    {</div>
<div class="line">        <a class="code" href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a>(<span class="stringliteral">&quot;\r\nTPCC PARITY : TPCC0 Completed\r\n&quot;</span>);</div>
<div class="line">        esmError = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span>{</div>
<div class="line">        result = SDL_EFAIL;</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md1671"></a>
API</h1>
<p><a class="el" href="group__SDL__ECC__AGGR__API.html">APIs for SDL ECC (ECC_AGGR)</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_ga4df83d231b8c7cb958d0ad5f21767dc7"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#ga4df83d231b8c7cb958d0ad5f21767dc7">EDMA_registerIntr</a></div><div class="ttdeci">int32_t EDMA_registerIntr(EDMA_Handle handle, Edma_IntrObject *intrObj)</div><div class="ttdoc">Function to register callback function for a TCC.</div></div>
<div class="ttc" id="astructSDL__ECC__InitConfig__t_html"><div class="ttname"><a href="structSDL__ECC__InitConfig__t.html">SDL_ECC_InitConfig_t</a></div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:368</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__MACROS_html_ga1e0979510ddf3b1437cb95cfdcd22e3c"><div class="ttname"><a href="group__SDL__ECC__AGGR__MACROS.html#ga1e0979510ddf3b1437cb95cfdcd22e3c">SDL_ECC_AGGR_ERROR_SUBTYPE_NORMAL</a></div><div class="ttdeci">#define SDL_ECC_AGGR_ERROR_SUBTYPE_NORMAL</div><div class="ttdef"><b>Definition:</b> V1/sdl_ip_ecc.h:160</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__FUNCTION_html_gab6846e8345f036e70e2e3643697a951f"><div class="ttname"><a href="group__SDL__ECC__AGGR__FUNCTION.html#gab6846e8345f036e70e2e3643697a951f">SDL_ECC_initMemory</a></div><div class="ttdeci">int32_t SDL_ECC_initMemory(SDL_ECC_MemType eccMemType, SDL_ECC_MemSubType memSubType)</div><div class="ttdoc">Initializes Memory to be ready for ECC error detection. Assumes ECC is already enabled.</div></div>
<div class="ttc" id="astructSDL__ECC__ErrorInfo__t_html_aa8a64d97ec15c7ddbb1b74d3c324d7c0"><div class="ttname"><a href="structSDL__ECC__ErrorInfo__t.html#aa8a64d97ec15c7ddbb1b74d3c324d7c0">SDL_ECC_ErrorInfo_t::memSubType</a></div><div class="ttdeci">SDL_ECC_MemSubType memSubType</div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:398</div></div>
<div class="ttc" id="astructSDL__ECC__InitConfig__t_html_a84b31ba9b78ce98075cb9bbff6515e42"><div class="ttname"><a href="structSDL__ECC__InitConfig__t.html#a84b31ba9b78ce98075cb9bbff6515e42">SDL_ECC_InitConfig_t::numRams</a></div><div class="ttdeci">uint32_t numRams</div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:369</div></div>
<div class="ttc" id="astructSDL__R5ExptnHandlers_html"><div class="ttname"><a href="structSDL__R5ExptnHandlers.html">SDL_R5ExptnHandlers</a></div><div class="ttdoc">Structure containing the Exception Handlers. If application does not want register an exception handl...</div><div class="ttdef"><b>Definition:</b> sdl_interrupt.h:111</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__ENUM_html_gga2fb3569c964c0a156c36f52bd4f0ac86ab0492b03992640143306de6861cc6de2"><div class="ttname"><a href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86ab0492b03992640143306de6861cc6de2">SDL_INJECT_ECC_ERROR_FORCING_2BIT_ONCE</a></div><div class="ttdeci">@ SDL_INJECT_ECC_ERROR_FORCING_2BIT_ONCE</div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:309</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__FUNCTION_html_gaf5979274875023a443b27b3b01168f27"><div class="ttname"><a href="group__SDL__ECC__AGGR__FUNCTION.html#gaf5979274875023a443b27b3b01168f27">SDL_ECC_injectError</a></div><div class="ttdeci">int32_t SDL_ECC_injectError(SDL_ECC_MemType eccMemType, SDL_ECC_MemSubType memSubType, SDL_ECC_InjectErrorType errorType, const SDL_ECC_InjectErrorConfig_t *pECCErrorConfig)</div><div class="ttdoc">Injects ECC error at specified location Assumes ECC is already enabled.</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_ga25fcaf8157c3416c86619ea902afc61e"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#ga25fcaf8157c3416c86619ea902afc61e">EDMA_freeTcc</a></div><div class="ttdeci">int32_t EDMA_freeTcc(EDMA_Handle handle, uint32_t *tcc)</div><div class="ttdoc">Function to free the tcc Channel.</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__FUNCTION_html_ga63ba6397a440a3a47dfb975bba0d9acb"><div class="ttname"><a href="group__SDL__ECC__AGGR__FUNCTION.html#ga63ba6397a440a3a47dfb975bba0d9acb">SDL_ECC_ackIntr</a></div><div class="ttdeci">int32_t SDL_ECC_ackIntr(SDL_ECC_MemType eccMemType, SDL_Ecc_AggrIntrSrc intrSrc)</div><div class="ttdoc">Acknowledge the ECC interrupt.</div></div>
<div class="ttc" id="agroup__DRV__SOC__MODULE_html_ga9a3dd12ed6ec3bce4b786744c5cb134d"><div class="ttname"><a href="group__DRV__SOC__MODULE.html#ga9a3dd12ed6ec3bce4b786744c5cb134d">SOC_virtToPhy</a></div><div class="ttdeci">uint64_t SOC_virtToPhy(void *virtAddr)</div><div class="ttdoc">SOC Virtual (CPU) to Physical address translation function.</div></div>
<div class="ttc" id="asdl__exception_8h_html_ac0feb38174fbbc769552e21136034a22"><div class="ttname"><a href="sdl__exception_8h.html#ac0feb38174fbbc769552e21136034a22">SDL_EXCEPTION_swIntrExptnHandler</a></div><div class="ttdeci">void SDL_EXCEPTION_swIntrExptnHandler(void *param)</div><div class="ttdoc">SW Interrupt Exception Handler.</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_ga50ac4ed1bc5df32e3476e7fdd67280a4"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#ga50ac4ed1bc5df32e3476e7fdd67280a4">EDMA_enableTransferRegion</a></div><div class="ttdeci">uint32_t EDMA_enableTransferRegion(uint32_t baseAddr, uint32_t regionId, uint32_t chNum, uint32_t trigMode)</div><div class="ttdoc">Start EDMA transfer on the specified channel.</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_gac2be00566799e0f36b7b8faf4539dfa0"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#gac2be00566799e0f36b7b8faf4539dfa0">EDMA_unregisterIntr</a></div><div class="ttdeci">int32_t EDMA_unregisterIntr(EDMA_Handle handle, Edma_IntrObject *intrObj)</div><div class="ttdoc">Function to unregister callback function for a TCC.</div></div>
<div class="ttc" id="asdl__exception_8h_html_ac1f486826003a29a54446325237cc2f9"><div class="ttname"><a href="sdl__exception_8h.html#ac1f486826003a29a54446325237cc2f9">SDL_EXCEPTION_undefInstructionExptnHandler</a></div><div class="ttdeci">void SDL_EXCEPTION_undefInstructionExptnHandler(void *param)</div><div class="ttdoc">Undefined Instruction Exception Handler.</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_ga8b31465deaa12aedb9709229f64328b1"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#ga8b31465deaa12aedb9709229f64328b1">EDMA_getRegionId</a></div><div class="ttdeci">uint32_t EDMA_getRegionId(EDMA_Handle handle)</div><div class="ttdoc">Function to get the edma region.</div></div>
<div class="ttc" id="agroup__SDL__ESM__MODULE_html_ggae5a25ad63d3b6fb92538167520983d51a825e49e84662d961a375f14f9c9afc9d"><div class="ttname"><a href="group__SDL__ESM__MODULE.html#ggae5a25ad63d3b6fb92538167520983d51a825e49e84662d961a375f14f9c9afc9d">SDL_ESM_INST_MAIN_ESM0</a></div><div class="ttdeci">@ SDL_ESM_INST_MAIN_ESM0</div><div class="ttdef"><b>Definition:</b> sdl_esm_soc.h:66</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__MACROS_html_ga6d7b2c529580598bcc18bbd94208b347"><div class="ttname"><a href="group__SDL__ECC__AGGR__MACROS.html#ga6d7b2c529580598bcc18bbd94208b347">SDL_ECC_AGGR_ERROR_SUBTYPE_INJECT</a></div><div class="ttdeci">#define SDL_ECC_AGGR_ERROR_SUBTYPE_INJECT</div><div class="ttdef"><b>Definition:</b> V1/sdl_ip_ecc.h:162</div></div>
<div class="ttc" id="asdl__exception_8h_html_a96a53f9f1e26ff6eb5c797417141712e"><div class="ttname"><a href="sdl__exception_8h.html#a96a53f9f1e26ff6eb5c797417141712e">SDL_EXCEPTION_prefetchAbortExptnHandler</a></div><div class="ttdeci">void SDL_EXCEPTION_prefetchAbortExptnHandler(void *param)</div><div class="ttdoc">Prefetch Abort Exception Handler.</div></div>
<div class="ttc" id="asdl__interrupt_8h_html_a831b815cd204c577353d67ac508e7c4b"><div class="ttname"><a href="sdl__interrupt_8h.html#a831b815cd204c577353d67ac508e7c4b">Intc_RegisterExptnHandlers</a></div><div class="ttdeci">void Intc_RegisterExptnHandlers(const SDL_R5ExptnHandlers *handlers)</div><div class="ttdoc">This function registers handlers for various exceptions.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_ga376db5d2fbbc54611736778be8e15431"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#ga376db5d2fbbc54611736778be8e15431">SystemP_WAIT_FOREVER</a></div><div class="ttdeci">#define SystemP_WAIT_FOREVER</div><div class="ttdoc">Value to use when needing a timeout of infinity or wait forver until resource is available.</div><div class="ttdef"><b>Definition:</b> SystemP.h:83</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_ga8d8920baa2258ebb5ed584bc8a35c378"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#ga8d8920baa2258ebb5ed584bc8a35c378">EDMA_PARAM_BIDX_EXT</a></div><div class="ttdeci">#define EDMA_PARAM_BIDX_EXT(val)</div><div class="ttdef"><b>Definition:</b> edma/v0/edma.h:138</div></div>
<div class="ttc" id="asdl__ecc__utils_8h_html_acd0118796f2f19640f6e1273a19970f7"><div class="ttname"><a href="sdl__ecc__utils_8h.html#acd0118796f2f19640f6e1273a19970f7">SDL_ECC_UTILS_enableECCB0TCM</a></div><div class="ttdeci">void SDL_ECC_UTILS_enableECCB0TCM(void)</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_ga9451e7d97e5ac3b86750423eff924a89"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#ga9451e7d97e5ac3b86750423eff924a89">EDMA_CHANNEL_TYPE_DMA</a></div><div class="ttdeci">#define EDMA_CHANNEL_TYPE_DMA</div><div class="ttdoc">Values that can be used for parameter chType in API's.</div><div class="ttdef"><b>Definition:</b> edma/v0/edma.h:161</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__ENUM_html_gga2fb3569c964c0a156c36f52bd4f0ac86a9367463f3e0a98d584989946cccf4dcf"><div class="ttname"><a href="group__SDL__ECC__AGGR__ENUM.html#gga2fb3569c964c0a156c36f52bd4f0ac86a9367463f3e0a98d584989946cccf4dcf">SDL_INJECT_ECC_ERROR_FORCING_1BIT_ONCE</a></div><div class="ttdeci">@ SDL_INJECT_ECC_ERROR_FORCING_1BIT_ONCE</div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:307</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_gab67fb4b3c1e59b1099c80314827ff098"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#gab67fb4b3c1e59b1099c80314827ff098">EDMA_freeDmaChannel</a></div><div class="ttdeci">int32_t EDMA_freeDmaChannel(EDMA_Handle handle, uint32_t *dmaCh)</div><div class="ttdoc">Function to free the Dma Channel.</div></div>
<div class="ttc" id="asdlr_8h_html_a41dd5e1aaf5f7d2083066fc7ce1fe461"><div class="ttname"><a href="sdlr_8h.html#a41dd5e1aaf5f7d2083066fc7ce1fe461">SDL_REG32_WR</a></div><div class="ttdeci">#define SDL_REG32_WR(p, v)</div><div class="ttdoc">This macro writes a 32-bit value to a hardware register.</div><div class="ttdef"><b>Definition:</b> sdlr.h:127</div></div>
<div class="ttc" id="astructSDL__ECC__ErrorInfo__t_html_ab4e3b9802e01c7e43f4ee13fdcc5c19d"><div class="ttname"><a href="structSDL__ECC__ErrorInfo__t.html#ab4e3b9802e01c7e43f4ee13fdcc5c19d">SDL_ECC_ErrorInfo_t::bitErrorGroup</a></div><div class="ttdeci">uint32_t bitErrorGroup</div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:406</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_ga6aa14ac72951cd0a116f750073b294d2"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#ga6aa14ac72951cd0a116f750073b294d2">EDMA_getBaseAddr</a></div><div class="ttdeci">uint32_t EDMA_getBaseAddr(EDMA_Handle handle)</div><div class="ttdoc">Function to get the edma base address.</div></div>
<div class="ttc" id="aedma_8h_html"><div class="ttname"><a href="edma_8h.html">edma.h</a></div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_ga2db76ebb47e033367d29bb7c8097cca9"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#ga2db76ebb47e033367d29bb7c8097cca9">EDMA_OPT_TCC_MASK</a></div><div class="ttdeci">#define EDMA_OPT_TCC_MASK</div><div class="ttdef"><b>Definition:</b> edma/v0/edma.h:294</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__DEBUG_html_gafe348ab5badd2c15118f95e21bb192c6"><div class="ttname"><a href="group__KERNEL__DPL__DEBUG.html#gafe348ab5badd2c15118f95e21bb192c6">DebugP_log</a></div><div class="ttdeci">#define DebugP_log(format,...)</div><div class="ttdoc">Function to log a string to the enabled console.</div><div class="ttdef"><b>Definition:</b> DebugP.h:225</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_gad325d436c6b1b649127f715c59114bc8"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#gad325d436c6b1b649127f715c59114bc8">EDMA_allocDmaChannel</a></div><div class="ttdeci">int32_t EDMA_allocDmaChannel(EDMA_Handle handle, uint32_t *dmaCh)</div><div class="ttdoc">Function to allocate the Dma Channel.</div></div>
<div class="ttc" id="astructSDL__ECC__InjectErrorConfig__t_html"><div class="ttname"><a href="structSDL__ECC__InjectErrorConfig__t.html">SDL_ECC_InjectErrorConfig_t</a></div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:381</div></div>
<div class="ttc" id="asdl__ecc__utils_8h_html_aaad90528122568c9f2abcec3b0769ea7"><div class="ttname"><a href="sdl__ecc__utils_8h.html#aaad90528122568c9f2abcec3b0769ea7">SDL_ECC_UTILS_enableECCATCM</a></div><div class="ttdeci">void SDL_ECC_UTILS_enableECCATCM(void)</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_gab5c22d84c377d1b6851b32ea7e68a83c"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#gab5c22d84c377d1b6851b32ea7e68a83c">EDMA_OPT_ITCINTEN_MASK</a></div><div class="ttdeci">#define EDMA_OPT_ITCINTEN_MASK</div><div class="ttdef"><b>Definition:</b> edma/v0/edma.h:292</div></div>
<div class="ttc" id="astructSDL__ECC__InjectErrorConfig__t_html_a374f28b06a991c0485c2f936f2dc12c4"><div class="ttname"><a href="structSDL__ECC__InjectErrorConfig__t.html#a374f28b06a991c0485c2f936f2dc12c4">SDL_ECC_InjectErrorConfig_t::pErrMem</a></div><div class="ttdeci">uint32_t * pErrMem</div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:382</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SEMAPHORE_html_ga983b3b10c5d00c08d5caa9bcd3c0e9b2"><div class="ttname"><a href="group__KERNEL__DPL__SEMAPHORE.html#ga983b3b10c5d00c08d5caa9bcd3c0e9b2">SemaphoreP_destruct</a></div><div class="ttdeci">void SemaphoreP_destruct(SemaphoreP_Object *obj)</div><div class="ttdoc">Cleanup, delete, destruct a semaphore object.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__CACHE_html_ga894fcf969b6afb5f30e25861d39c9219"><div class="ttname"><a href="group__KERNEL__DPL__CACHE.html#ga894fcf969b6afb5f30e25861d39c9219">CacheP_inv</a></div><div class="ttdeci">void CacheP_inv(void *addr, uint32_t size, uint32_t type)</div><div class="ttdoc">Cache invalidate for a specified region.</div></div>
<div class="ttc" id="asdl__exception_8h_html_aeac91c2bb90e6a50cb68a4c9c006b417"><div class="ttname"><a href="sdl__exception_8h.html#aeac91c2bb90e6a50cb68a4c9c006b417">SDL_EXCEPTION_irqExptnHandler</a></div><div class="ttdeci">void SDL_EXCEPTION_irqExptnHandler(void *param)</div><div class="ttdoc">IRQ Exception Handler.</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_gaec579b9c0f4e15413e7335e241f1ce25"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#gaec579b9c0f4e15413e7335e241f1ce25">EDMA_OPT_TCINTEN_MASK</a></div><div class="ttdeci">#define EDMA_OPT_TCINTEN_MASK</div><div class="ttdef"><b>Definition:</b> edma/v0/edma.h:290</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_ga47e638d7c694e6d42e57b96b071b8a6f"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#ga47e638d7c694e6d42e57b96b071b8a6f">SystemP_SUCCESS</a></div><div class="ttdeci">#define SystemP_SUCCESS</div><div class="ttdoc">Return status when the API execution was successful.</div><div class="ttdef"><b>Definition:</b> SystemP.h:56</div></div>
<div class="ttc" id="astructSDL__ECC__ErrorInfo__t_html_af08e6f67a020732f8768dc11c7de1278"><div class="ttname"><a href="structSDL__ECC__ErrorInfo__t.html#af08e6f67a020732f8768dc11c7de1278">SDL_ECC_ErrorInfo_t::bitErrorOffset</a></div><div class="ttdeci">uint64_t bitErrorOffset</div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:408</div></div>
<div class="ttc" id="astructSDL__ECC__InjectErrorConfig__t_html_a446cb5fc4a2bec760141931cd5e2585a"><div class="ttname"><a href="structSDL__ECC__InjectErrorConfig__t.html#a446cb5fc4a2bec760141931cd5e2585a">SDL_ECC_InjectErrorConfig_t::flipBitMask</a></div><div class="ttdeci">uint32_t flipBitMask</div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:384</div></div>
<div class="ttc" id="asdl__exception_8h_html"><div class="ttname"><a href="sdl__exception_8h.html">sdl_exception.h</a></div><div class="ttdoc">Header file contains enumerations, structure definitions and function declarations for SDL EXCEPTION ...</div></div>
<div class="ttc" id="asdl__exception_8h_html_a75d94acba00aec7dd7bf753ccbae7c3f"><div class="ttname"><a href="sdl__exception_8h.html#a75d94acba00aec7dd7bf753ccbae7c3f">SDL_EXCEPTION_init</a></div><div class="ttdeci">void SDL_EXCEPTION_init(const SDL_EXCEPTION_CallbackFunctions_t *callbackFunctions)</div><div class="ttdoc">Initialise Exception module.</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_gaa238dee55704f29acc91c37e78f86dc4"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#gaa238dee55704f29acc91c37e78f86dc4">EDMA_freeChannelRegion</a></div><div class="ttdeci">uint32_t EDMA_freeChannelRegion(uint32_t baseAddr, uint32_t regionId, uint32_t chType, uint32_t chNum, uint32_t trigMode, uint32_t tccNum, uint32_t evtQNum)</div><div class="ttdoc">Free the specified channel (DMA/QDMA/Link) and its associated resources (PaRAM Set,...</div></div>
<div class="ttc" id="astructSDL__EXCEPTION__CallbackFunctions__t_html"><div class="ttname"><a href="structSDL__EXCEPTION__CallbackFunctions__t.html">SDL_EXCEPTION_CallbackFunctions_t</a></div><div class="ttdoc">Structure of call back functions for various exception events.</div><div class="ttdef"><b>Definition:</b> sdl_exception.h:74</div></div>
<div class="ttc" id="asdl__ecc_8h_html"><div class="ttname"><a href="sdl__ecc_8h.html">sdl_ecc.h</a></div><div class="ttdoc">Header file contains enumerations, structure definitions and function.</div></div>
<div class="ttc" id="agroup__SDL__ESM__MODULE_html_gae5a25ad63d3b6fb92538167520983d51"><div class="ttname"><a href="group__SDL__ESM__MODULE.html#gae5a25ad63d3b6fb92538167520983d51">SDL_ESM_Inst</a></div><div class="ttdeci">SDL_ESM_Inst</div><div class="ttdef"><b>Definition:</b> sdl_esm_soc.h:65</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SYSTEM_html_gac64497676d49ad4e51a1d9513e3570d9"><div class="ttname"><a href="group__KERNEL__DPL__SYSTEM.html#gac64497676d49ad4e51a1d9513e3570d9">SystemP_FAILURE</a></div><div class="ttdeci">#define SystemP_FAILURE</div><div class="ttdoc">Return status when the API execution was not successful due to a failure.</div><div class="ttdef"><b>Definition:</b> SystemP.h:61</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_gad62f95a05a95794b2da2b69a7c3822a7"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#gad62f95a05a95794b2da2b69a7c3822a7">EDMA_PARAM_BIDX</a></div><div class="ttdeci">#define EDMA_PARAM_BIDX(val)</div><div class="ttdef"><b>Definition:</b> edma/v0/edma.h:135</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_ga2d6b4f13bb144772ec7bdbedc8a4216a"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#ga2d6b4f13bb144772ec7bdbedc8a4216a">EDMA_OPT_TCC_SHIFT</a></div><div class="ttdeci">#define EDMA_OPT_TCC_SHIFT</div><div class="ttdef"><b>Definition:</b> edma/v0/edma.h:296</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_gabf1983b82e8a9f4310ca0e72e05b7c02"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#gabf1983b82e8a9f4310ca0e72e05b7c02">EDMA_TRIG_MODE_MANUAL</a></div><div class="ttdeci">#define EDMA_TRIG_MODE_MANUAL</div><div class="ttdef"><b>Definition:</b> edma/v0/edma.h:147</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__CACHE_html_gad32c7fc7ab9abcd63a3d5feb77b9b825"><div class="ttname"><a href="group__KERNEL__DPL__CACHE.html#gad32c7fc7ab9abcd63a3d5feb77b9b825">CacheP_TYPE_ALL</a></div><div class="ttdeci">#define CacheP_TYPE_ALL</div><div class="ttdef"><b>Definition:</b> CacheP.h:78</div></div>
<div class="ttc" id="asdlr_8h_html_a153e7ea87f9009ed9ca9cb719e0fba9f"><div class="ttname"><a href="sdlr_8h.html#a153e7ea87f9009ed9ca9cb719e0fba9f">SDL_REG32_RD</a></div><div class="ttdeci">#define SDL_REG32_RD(p)</div><div class="ttdoc">This macro reads a 32-bit value from a hardware register and returns the value.</div><div class="ttdef"><b>Definition:</b> sdlr.h:118</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__ENUM_html_gac54924de1f429528a55d0e1c46056a59"><div class="ttname"><a href="group__SDL__ECC__AGGR__ENUM.html#gac54924de1f429528a55d0e1c46056a59">SDL_Ecc_AggrIntrSrc</a></div><div class="ttdeci">uint32_t SDL_Ecc_AggrIntrSrc</div><div class="ttdoc">This enumerator defines the types of possible ECC errors.</div><div class="ttdef"><b>Definition:</b> V1/sdl_ip_ecc.h:181</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__FUNCTION_html_ga36463b8cc63856b9f93444a4437bfe28"><div class="ttname"><a href="group__SDL__ECC__AGGR__FUNCTION.html#ga36463b8cc63856b9f93444a4437bfe28">SDL_ECC_getESMErrorInfo</a></div><div class="ttdeci">int32_t SDL_ECC_getESMErrorInfo(SDL_ESM_Inst instance, uint32_t intSrc, SDL_ECC_MemType *eccMemType, SDL_Ecc_AggrIntrSrc *intrSrcType)</div><div class="ttdoc">Retrieves the ECC error information for the specified ESM error. If it isn't an ECC error or the ECC ...</div></div>
<div class="ttc" id="agroup__SDL__ESM__MODULE_html_ga9ce49362624d8bbb550a5a78198dff67"><div class="ttname"><a href="group__SDL__ESM__MODULE.html#ga9ce49362624d8bbb550a5a78198dff67">SDL_ESM_init</a></div><div class="ttdeci">int32_t SDL_ESM_init(SDL_ESM_Inst instance, const SDL_ESM_config *pConfig, SDL_ESM_applicationCallback applicationCallback, void *appArg)</div><div class="ttdoc">SDL ESM API to initialize an ESM instance. The API initializes the specified ESM instance with the pr...</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_ga77b4c91a94789c39a0c5723b6666dee4"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#ga77b4c91a94789c39a0c5723b6666dee4">EDMA_freeParam</a></div><div class="ttdeci">int32_t EDMA_freeParam(EDMA_Handle handle, uint32_t *param)</div><div class="ttdoc">Function to free the Param.</div></div>
<div class="ttc" id="asdl__r5__utils_8h_html_a03a70cb73200fc6dc08e3b2539cdb700"><div class="ttname"><a href="sdl__r5__utils_8h.html#a03a70cb73200fc6dc08e3b2539cdb700">SDL_UTILS_enable_event_bus</a></div><div class="ttdeci">void SDL_UTILS_enable_event_bus(void)</div></div>
<div class="ttc" id="astructSDL__R5ExptnHandlers_html_a35a6fa0fecea70dc59bdffd0de79627e"><div class="ttname"><a href="structSDL__R5ExptnHandlers.html#a35a6fa0fecea70dc59bdffd0de79627e">SDL_R5ExptnHandlers::udefExptnHandler</a></div><div class="ttdeci">exptnHandlerPtr udefExptnHandler</div><div class="ttdef"><b>Definition:</b> sdl_interrupt.h:112</div></div>
<div class="ttc" id="astructSDL__ECC__ErrorInfo__t_html"><div class="ttname"><a href="structSDL__ECC__ErrorInfo__t.html">SDL_ECC_ErrorInfo_t</a></div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:395</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_ga679d843ea9c5af0bb900ec951b5e50ef"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#ga679d843ea9c5af0bb900ec951b5e50ef">EDMA_configureChannelRegion</a></div><div class="ttdeci">uint32_t EDMA_configureChannelRegion(uint32_t baseAddr, uint32_t regionId, uint32_t chType, uint32_t chNum, uint32_t tccNum, uint32_t paramId, uint32_t evtQNum)</div><div class="ttdoc">Request a DMA/QDMA/Link channel.</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_ga8e3dc80b5b9842c70e59076c642f4d76"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#ga8e3dc80b5b9842c70e59076c642f4d76">EDMA_allocParam</a></div><div class="ttdeci">int32_t EDMA_allocParam(EDMA_Handle handle, uint32_t *param)</div><div class="ttdoc">Function to allocate Param Set.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SEMAPHORE_html_ga2de8d925b9ae035fd8a749927463aef5"><div class="ttname"><a href="group__KERNEL__DPL__SEMAPHORE.html#ga2de8d925b9ae035fd8a749927463aef5">SemaphoreP_constructBinary</a></div><div class="ttdeci">int32_t SemaphoreP_constructBinary(SemaphoreP_Object *obj, uint32_t initValue)</div><div class="ttdoc">Create a binary semaphore object.</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__ENUM_html_ga0d731a39964dd93567cb3532002243b9"><div class="ttname"><a href="group__SDL__ECC__AGGR__ENUM.html#ga0d731a39964dd93567cb3532002243b9">SDL_ECC_MemSubType</a></div><div class="ttdeci">uint32_t SDL_ECC_MemSubType</div><div class="ttdoc">This enumerator indicate ECC memory Sub Type.</div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:341</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__CACHE_html_ga53f4efb4e3538bc517f14d5a8e60bcec"><div class="ttname"><a href="group__KERNEL__DPL__CACHE.html#ga53f4efb4e3538bc517f14d5a8e60bcec">CacheP_wb</a></div><div class="ttdeci">void CacheP_wb(void *addr, uint32_t size, uint32_t type)</div><div class="ttdoc">Cache writeback for a specified region.</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_gacca60b17fbcdf381855245c83aeb8129"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#gacca60b17fbcdf381855245c83aeb8129">EDMA_setPaRAM</a></div><div class="ttdeci">void EDMA_setPaRAM(uint32_t baseAddr, uint32_t paRAMId, const EDMACCPaRAMEntry *newPaRAM)</div><div class="ttdoc">Copy the user specified PaRAM Set onto the PaRAM Set associated with the logical channel (DMA/Link).</div></div>
<div class="ttc" id="asdl__ecc__utils_8h_html_ad32aed5310bf2ff3dcf21b0965855c64"><div class="ttname"><a href="sdl__ecc__utils_8h.html#ad32aed5310bf2ff3dcf21b0965855c64">SDL_ECC_UTILS_enableECCB1TCM</a></div><div class="ttdeci">void SDL_ECC_UTILS_enableECCB1TCM(void)</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__FUNCTION_html_ga7fbb744d3c79356a24aeb3e896a057ae"><div class="ttname"><a href="group__SDL__ECC__AGGR__FUNCTION.html#ga7fbb744d3c79356a24aeb3e896a057ae">SDL_ECC_clearNIntrPending</a></div><div class="ttdeci">int32_t SDL_ECC_clearNIntrPending(SDL_ECC_MemType eccMemType, SDL_ECC_MemSubType memSubType, SDL_Ecc_AggrIntrSrc intrSrc, SDL_Ecc_AggrEDCErrorSubType subType, uint32_t numEvents)</div><div class="ttdoc">Clears N pending interrupts for the specified memtype, subtype and interrupt source.</div></div>
<div class="ttc" id="astructSDL__ECC__ErrorInfo__t_html_aca7d2c8594d485ce17d80d720e616a48"><div class="ttname"><a href="structSDL__ECC__ErrorInfo__t.html#aca7d2c8594d485ce17d80d720e616a48">SDL_ECC_ErrorInfo_t::injectBitErrCnt</a></div><div class="ttdeci">uint32_t injectBitErrCnt</div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:404</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__FUNCTION_html_gac2e6218ddda539194cf00afe01b89ae7"><div class="ttname"><a href="group__SDL__ECC__AGGR__FUNCTION.html#gac2e6218ddda539194cf00afe01b89ae7">SDL_ECC_getErrorInfo</a></div><div class="ttdeci">int32_t SDL_ECC_getErrorInfo(SDL_ECC_MemType eccMemType, SDL_Ecc_AggrIntrSrc intrSrc, SDL_ECC_ErrorInfo_t *pErrorInfo)</div><div class="ttdoc">Retrieves the ECC error information for the specified memtype and interrupt source.</div></div>
<div class="ttc" id="astructSDL__ECC__ErrorInfo__t_html_a4526456fbf67a84f6b34c5fb66f50689"><div class="ttname"><a href="structSDL__ECC__ErrorInfo__t.html#a4526456fbf67a84f6b34c5fb66f50689">SDL_ECC_ErrorInfo_t::bitErrCnt</a></div><div class="ttdeci">uint32_t bitErrCnt</div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:402</div></div>
<div class="ttc" id="asdl__exception_8h_html_a2eda4942955aaadbe541c4e4bfcda4b1"><div class="ttname"><a href="sdl__exception_8h.html#a2eda4942955aaadbe541c4e4bfcda4b1">SDL_EXCEPTION_fiqExptnHandler</a></div><div class="ttdeci">void SDL_EXCEPTION_fiqExptnHandler(void *param)</div><div class="ttdoc">FIQ Exception Handler.</div></div>
<div class="ttc" id="asdl__exception_8h_html_a5e863d7e0c5ab4dd34759d146000916b"><div class="ttname"><a href="sdl__exception_8h.html#a5e863d7e0c5ab4dd34759d146000916b">SDL_EXCEPTION_dataAbortExptnHandler</a></div><div class="ttdeci">void SDL_EXCEPTION_dataAbortExptnHandler(void *param)</div><div class="ttdoc">Data Abort Exception Handler.</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_gabe40d9f4509dce2b7d653800e5b5d044"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#gabe40d9f4509dce2b7d653800e5b5d044">EDMA_ccPaRAMEntry_init</a></div><div class="ttdeci">void EDMA_ccPaRAMEntry_init(EDMACCPaRAMEntry *paramEntry)</div><div class="ttdoc">Clear a PaRAM Set .</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__ENUM_html_gac233021d13f25dc397424af5b5bdc28b"><div class="ttname"><a href="group__SDL__ECC__AGGR__ENUM.html#gac233021d13f25dc397424af5b5bdc28b">SDL_ECC_MemType</a></div><div class="ttdeci">uint32_t SDL_ECC_MemType</div><div class="ttdoc">This enumerator indicate ECC memory type.</div><div class="ttdef"><b>Definition:</b> sdl_ecc.h:348</div></div>
<div class="ttc" id="agroup__SDL__ECC__AGGR__FUNCTION_html_ga5a3e77d0089427bae4e0ce94cdf0b143"><div class="ttname"><a href="group__SDL__ECC__AGGR__FUNCTION.html#ga5a3e77d0089427bae4e0ce94cdf0b143">SDL_ECC_init</a></div><div class="ttdeci">int32_t SDL_ECC_init(SDL_ECC_MemType eccMemType, const SDL_ECC_InitConfig_t *pECCInitConfig)</div><div class="ttdoc">Initializes ECC module for ECC detection.</div></div>
<div class="ttc" id="agroup__KERNEL__DPL__SEMAPHORE_html_ga8733f9edac3a2d559b97dc0d115c3ba8"><div class="ttname"><a href="group__KERNEL__DPL__SEMAPHORE.html#ga8733f9edac3a2d559b97dc0d115c3ba8">SemaphoreP_pend</a></div><div class="ttdeci">int32_t SemaphoreP_pend(SemaphoreP_Object *obj, uint32_t timeToWaitInTicks)</div><div class="ttdoc">Pend on a semaphore object or lock a mutex.</div></div>
<div class="ttc" id="agroup__DRV__EDMA__MODULE_html_ga506c49f59f0a3b8d908ba6726d0c75d0"><div class="ttname"><a href="group__DRV__EDMA__MODULE.html#ga506c49f59f0a3b8d908ba6726d0c75d0">EDMA_allocTcc</a></div><div class="ttdeci">int32_t EDMA_allocTcc(EDMA_Handle handle, uint32_t *tcc)</div><div class="ttdoc">Function to allocate Tcc.</div></div>
<div class="ttc" id="astructSDL__EXCEPTION__CallbackFunctions__t_html_a0400580bb0c1af9adbe053e334358c90"><div class="ttname"><a href="structSDL__EXCEPTION__CallbackFunctions__t.html#a0400580bb0c1af9adbe053e334358c90">SDL_EXCEPTION_CallbackFunctions_t::udefExptnCallback</a></div><div class="ttdeci">SDL_EXCEPTION_Callback_t udefExptnCallback</div><div class="ttdef"><b>Definition:</b> sdl_exception.h:75</div></div>
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
