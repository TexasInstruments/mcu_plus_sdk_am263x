<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263x MCU+ SDK: Clocktree</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263x MCU+ SDK
   &#160;<span id="projectnumber">11.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('CLOCKTREE.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Clocktree </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md852">Introduction</a></li>
<li class="level1"><a href="#autotoc_md853">Overview</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_tools_clocktree"></a></p>
<h1><a class="anchor" id="autotoc_md852"></a>
Introduction</h1>
<p>Previously, the MCU+SDK offered limited flexibility in selecting clock sources or frequencies through the sysconfig tool, with most values hardcoded for various modules. These hardcoded values were reflected in the ti_power_clock_config.c file, which is one of the generated sysconfig files. Additionally, the clock values for the PLLs were also hardcoded within the soc_bootloader.c files.</p>
<p>With the introduction of the clock tree, users now have an enhanced view of the entire clock architecture, illustrating how clock sources, multiplexers, dividers, and peripherals are interconnected. This centralizes the configurability of the clocktree, allowing users to adjust these values directly from the ClockTree view, with the changes appearing as read-only values in the Software view. This update significantly reduces the hardcoding of clock values that was prevalent in earlier versions. However, some combinations of muxes and dividers may still produce incompatible input clock frequencies for certain peripherals, and the system includes errors and warnings to address these scenarios.</p>
<p>This new approach also minimizes human errors. For instance, when two modules share the same muxes (such as UART and LIN), any modifications made will automatically reflect on both modules, ensuring consistency that could otherwise be compromised with manual configurations.</p>
<h1><a class="anchor" id="autotoc_md853"></a>
Overview</h1>
<p>In the ClockTree panel view, components are organized into four categories:</p>
<ul>
<li>CLOCKS</li>
<li>PLLs</li>
<li>XBARs</li>
<li>PERIPHERALS</li>
</ul>
<p>Most configurations will focus on either the PLLs or the PERIPHERALS. The PLL view may appear complex, as it encompasses the entire clocktree architecture. Therefore, it is advisable for users to configure settings from the PERIPHERAL view if they know which peripheral is connected to the PLL they wish to modify.</p>
<p> <style>div.image img[src="clocksource_to_peripheral.png"]{width:50%}</style> </p><div class="image">
<img src="clocksource_to_peripheral.png" alt=""/>
<div class="caption">
How a peripheral derives its input clock from Clock source</div></div>
<p>Since all the components from the clock sources, PLLs, DPLLs etc. are interconnected, any changes made to shared components will be automatically synchronized across all dependent modules.</p>
<p>Modules such as UART, I2C, LIN and a few others previously allowed configuration of clock sources and frequencies from the Software View. Now, all configurations must be made through the ClockTree, with any changes reflected as read-only values in the Software View:</p>
<p> <style>div.image img[src="uart_clock_arch.png"]{width:50%}</style> </p><div class="image">
<img src="uart_clock_arch.png" alt=""/>
<div class="caption">
UART Clocktree</div></div>
<p> <style>div.image img[src="uart_sw_view.png"]{width:50%}</style> </p><div class="image">
<img src="uart_sw_view.png" alt=""/>
<div class="caption">
UART Clock source and input clock information coming from Clocktree</div></div>
<p> <style>div.image img[src="uart_generated_code.png"]{width:50%}</style> </p><div class="image">
<img src="uart_generated_code.png" alt=""/>
<div class="caption">
UART Clock configuration values getting generated</div></div>
<p>Subsequently, the ti_power_clock_config.c file will be generated with these updated values.</p>
<p>PLL configuration is also possible; however, for changes to take effect, the example must include the Bootloader module added from sysconfig. This will generate two files: ti_clocktree_pll_config.h and ti_clocktree_pll_config.c, with the latter containing the updated PLL configuration.</p>
<p> <style>div.image img[src="pll_files_generated.png"]{width:50%}</style> </p><div class="image">
<img src="pll_files_generated.png" alt=""/>
<div class="caption">
PLL Files getting generated from Sysconfig</div></div>
<p> <style>div.image img[src="pll_files_generated.png"]{width:50%}</style> </p><div class="image">
<img src="pll_files_generated.png" alt=""/>
<div class="caption">
PLL clock frequencies change from Clocktree</div></div>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
