<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263x MCU+ SDK: DAC Synced by EPWM</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263x MCU+ SDK
   &#160;<span id="projectnumber">11.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('EXAMPLES_DRIVERS_DAC_EPWM_SYNC.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">DAC Synced by EPWM </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md2217">Introduction</a><ul><li class="level2"><a href="#autotoc_md2218">Configurations</a></li>
<li class="level2"><a href="#autotoc_md2219">External connections</a><ul><li class="level3"><a href="#autotoc_md2220">On AM263x-CC or AM263Px-CC with HSEC dock</a></li>
<li class="level3"><a href="#autotoc_md2221">On AM263x-LP or AM263Px-LP,</a></li>
<li class="level3"><a href="#autotoc_md2222">On AM261x-LP,</a></li>
</ul>
</li>
</ul>
</li>
<li class="level1"><a href="#EXAMPLES_DRIVERS_DAC_EPWM_SYNC_COMBOS">Supported Combinations</a></li>
<li class="level1"><a href="#autotoc_md2223">Steps to Run the Example</a></li>
<li class="level1"><a href="#autotoc_md2224">See Also</a></li>
<li class="level1"><a href="#autotoc_md2225">Sample Output</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_examples_drivers_dac_epwm_sync"></a></p>
<h1><a class="anchor" id="autotoc_md2217"></a>
Introduction</h1>
<p>The DAC Shadow value syncs to DAC Active Value from EPWM Event. The EPWM Peripheral can send out a EPWMSYNCPER signal, on certain events,(check syscfg, under timebase submodule for more details on events) which may be used by the DAC peripheral to sync its shadow to active register transfers. The example showcases this in the EPWM ISR, where the event for sync signal and the event for the interrupt are same. now, if there is a new shadow value set, it wouldn't reflect in the active until the next ISR iteration. and similarly, the last set shadow value would appear in the active register of the DAC.</p>
<p>Note that, the events for EPWMSYNCPER signal and the Interrupt signal from EPWM are not dependant, in other words, the EPWMSYNCPER may be configured without the need to configure the INT signal from the EPWM.</p>
<h2><a class="anchor" id="autotoc_md2218"></a>
Configurations</h2>
<ul>
<li>DAC loadmode is set to the EPWM SYNC PER signal.</li>
<li>EPWM SYNCPER signal is generated at its counter equals to period event</li>
<li>EPWM INT is generated at its counter equals to period event. routed via INT Xbar 0</li>
</ul>
<h2><a class="anchor" id="autotoc_md2219"></a>
External connections</h2>
<p>The status Pin, EPWM output A, DAC output may be probed to view the waveforms </p>
<h3><a class="anchor" id="autotoc_md2220"></a>
On AM263x-CC or AM263Px-CC with HSEC dock</h3>
<ul>
<li>Probe the HSEC Pin 9 for DAC output.</li>
<li>Probe the HSEC Pin 49 for EPWM A output.</li>
<li>Probe the HSEC Pin 51 for STATUS (GPIO 44) output. </li>
</ul>
<h3><a class="anchor" id="autotoc_md2221"></a>
On AM263x-LP or AM263Px-LP,</h3>
<ul>
<li>Probe the J3 Pin 30</li>
<li>Probe the J4 Pin 11 for EPWM A output.</li>
<li>Probe the J8 Pin 59 for STATUS (GPIO 44) output.</li>
</ul>
<h3><a class="anchor" id="autotoc_md2222"></a>
On AM261x-LP,</h3>
<ul>
<li>Probe the J3 Pin 30</li>
<li>Probe the J4 Pin 40 for EPWM A output.</li>
<li>Probe the J4 Pin 39 for STATUS (GPIO 48) output.</li>
</ul>
<h1><a class="anchor" id="EXAMPLES_DRIVERS_DAC_EPWM_SYNC_COMBOS"></a>
Supported Combinations</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter  </th><th class="markdownTableHeadNone">Value   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CPU + OS  </td><td class="markdownTableBodyNone">r5fss0-0 nortos   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Toolchain  </td><td class="markdownTableBodyNone">ti-arm-clang   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Board  </td><td class="markdownTableBodyNone">am263x-cc, am263x-lp   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Example folder  </td><td class="markdownTableBodyNone">examples/drivers/dac/dac_epwm_sync/   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md2223"></a>
Steps to Run the Example</h1>
<ul>
<li><b>When using CCS projects to build</b>, import the CCS project for the required combination and build it using the CCS project menu (see <a class="el" href="CCS_PROJECTS_PAGE.html">Using SDK with CCS Projects</a>).</li>
<li><b>When using makefiles to build</b>, note the required combination and build using make command (see <a class="el" href="MAKEFILE_BUILD_PAGE.html">Using SDK with Makefiles</a>)</li>
<li>Establish connections as mentioned in External Connections section</li>
<li>Launch a CCS debug session and run the executable, see <a class="el" href="CCS_LAUNCH_PAGE.html">CCS Launch, Load and Run</a></li>
<li>Use an Oscilloscope to view the ramp wave on DAC output pin.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2224"></a>
See Also</h1>
<p><a class="el" href="DRIVERS_DAC_PAGE.html">DAC</a></p>
<h1><a class="anchor" id="autotoc_md2225"></a>
Sample Output</h1>
<p>Shown below is a sample output when the application is run,</p>
<div class="fragment"><div class="line">EPWM synced DAC Test Started ...</div>
<div class="line">EPWM synced DAC Test Passed!!</div>
<div class="line">All tests have passed!!</div>
</div><!-- fragment --><p> <style>div.image img[src="dac_epwm_sync.png"]{width:50%}</style> </p><div class="image">
<img src="dac_epwm_sync.png" alt=""/>
<div class="caption">
Sample Output</div></div>
 </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
