<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263x MCU+ SDK: SBL QSPI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263x MCU+ SDK
   &#160;<span id="projectnumber">11.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('EXAMPLES_DRIVERS_SBL_QSPI.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">SBL QSPI </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md2700">Introduction</a></li>
<li class="level1"><a href="#EXAMPLES_DRIVERS_SBL_QSPI_MCELF">SBL QSPI Multicore ELF</a></li>
<li class="level1"><a href="#EXAMPLES_DRIVERS_SBL_QSPI_FASTBOOT_MCELF">SBL QSPI FASTBOOT</a></li>
<li class="level1"><a href="#EXAMPLES_DRIVERS_SBL_QSPI_COMBOS">Supported Combinations</a></li>
<li class="level1"><a href="#autotoc_md2701">Steps to Run the Example</a></li>
<li class="level1"><a href="#autotoc_md2702">See Also</a></li>
<li class="level1"><a href="#autotoc_md2703">Sample Output</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_examples_drivers_sbl_qspi"></a></p>
<h1><a class="anchor" id="autotoc_md2700"></a>
Introduction</h1>
<p>This bootloader does SOC initializations and attempts to boot a multicore mcelf image present at 0x80000 location in the QSPI Flash. To flash a multicore mcelf at this location, follow the steps mentioned in <a class="el" href="TOOLS_FLASH.html#BASIC_STEPS_TO_FLASH_FILES">Basic steps to flash files</a>.</p>
<p>If a multicore application image is found at the location, the SBL parses it. Each core is then initialized, application image is loaded, entry points are set and the core is released from reset. For more on bootflow/bootloaders, please refer <a class="el" href="BOOTFLOW_GUIDE.html">Understanding the bootflow and bootloaders</a></p>
<h1><a class="anchor" id="EXAMPLES_DRIVERS_SBL_QSPI_MCELF"></a>
SBL QSPI Multicore ELF</h1>
<p>For AM263x device, use the Multicore ELF project for SBL QSPI</p>
<p>To flash an <b>mcelf</b> file, use the project <b>examples/drivers/boot/sbl_qspi_multicore_elf</b></p>
<p>When an mcelf image is found, the SBL parses it, loads each segment to its specified address location. Then the core is released from reset.</p>
<h1><a class="anchor" id="EXAMPLES_DRIVERS_SBL_QSPI_FASTBOOT_MCELF"></a>
SBL QSPI FASTBOOT</h1>
<p>This SBL is optimized for performance. It utilizes caching and disables logs which are present in other SBLs. Only MCELF application image format is supported with this SBL.</p>
<p>To flash an mcelf file, use the project examples/drivers/boot/sbl_qspi_fastboot.</p>
<p>In addition to the SBL and application, the HSM runtime firmware should also be flashed at an address known to the this SBL. This flash address can be configured via sysconfig and must match the one present in flash writer tool.</p>
<p>When an mcelf image is found, the SBL parses it, loads each segment to its specified address location. Then the core is released from reset.</p>
<p>The steps to run the example is same irrespective of the image format. Please follow the steps mentioned in <a class="el" href="FAST_SECURE_BOOT.html">Achieving Fast Secure Boot and Boot time calculator</a>.</p>
<h1><a class="anchor" id="EXAMPLES_DRIVERS_SBL_QSPI_COMBOS"></a>
Supported Combinations</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Parameter  </th><th class="markdownTableHeadNone">Value   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">CPU + OS  </td><td class="markdownTableBodyNone">r5fss0-0 nortos   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Toolchain  </td><td class="markdownTableBodyNone">ti-arm-clang   </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Boards  </td><td class="markdownTableBodyNone">am263x-cc, am263x-lp   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Example folder  </td><td class="markdownTableBodyNone">examples/drivers/boot/sbl_qspi_multicore_elf   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md2701"></a>
Steps to Run the Example</h1>
<p>Since this is a bootloader, the example will be run every time you boot an application using this example. It is run from a QSPI boot media unlike other examples which are usually loaded with CCS. Nevertheless, you can build this example like you do for the others using makefile or build it via CCS by importing as a project.</p>
<ul>
<li><b>When using CCS projects to build</b>, import the CCS project for the required combination and build it using the CCS project menu (see <a class="el" href="CCS_PROJECTS_PAGE.html">Using SDK with CCS Projects</a>).</li>
<li><b>When using makefiles to build</b>, note the required combination and build using make command (see <a class="el" href="MAKEFILE_BUILD_PAGE.html">Using SDK with Makefiles</a>)</li>
<li>Refer to the page <a class="el" href="TOOLS_FLASH.html#BASIC_STEPS_TO_FLASH_FILES">Basic steps to flash files</a> to flash this bootloader along with the application to boot.</li>
</ul>
<h1><a class="anchor" id="autotoc_md2702"></a>
See Also</h1>
<p><a class="el" href="DRIVERS_BOOTLOADER_PAGE.html">BOOTLOADER</a></p>
<h1><a class="anchor" id="autotoc_md2703"></a>
Sample Output</h1>
<div class="fragment"><div class="line">Starting QSPI Bootloader ...</div>
<div class="line">[BOOTLOADER PROFILE] System_init : 196us</div>
<div class="line">[BOOTLOADER PROFILE] Drivers_open : 28us</div>
<div class="line">[BOOTLOADER PROFILE] Board_driversOpen : 235us</div>
<div class="line">[BOOTLOADER PROFILE] CPU load : 126043us</div>
<div class="line">[BOOTLOADER_PROFILE] SBL Total Time Taken : 126509us</div>
<div class="line"> </div>
<div class="line">Image loading done, switching to application ...</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
