<!-- HTML header for doxygen 1.8.11-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<link rel="shortcut icon" href="favicon.png" type="image/png">    
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<title>AM263x MCU+ SDK: TI Uniflash Tool</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<style>
.tinav {
    background: #c00;
    /* height: 41.375px; */
    height: 30px;
    }
</style>    
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="AM263x MCU+ SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 40px;">
  <td id="projectlogo"><a href="https://www.ti.com"><img alt="Logo" src="ti_logo.svg"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AM263x MCU+ SDK
   &#160;<span id="projectnumber">11.00.00</span>
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
              <img id="MSearchSelect" src="search/mag.svg" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
<div class=tinav></div>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('TI_UNIFLASH_TOOL.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">TI Uniflash Tool </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md789">Introduction</a></li>
<li class="level1"><a href="#INSTALL_UNIFLASH">Download and Install Uniflash</a></li>
<li class="level1"><a href="#LAUNCHING_SESSION">Launching a Session</a></li>
<li class="level1"><a href="#PROGRAM_THE_DEVICE">Programming the Device</a><ul><li class="level2"><a href="#autotoc_md790">JTAG Session</a></li>
<li class="level2"><a href="#autotoc_md791">Serial (UART) Session</a></li>
</ul>
</li>
<li class="level1"><a href="#CUSTOM_FLASH">Custom Flash Support</a></li>
<li class="level1"><a href="#LIMITATIONS">Existing Limitations</a><ul><li class="level2"><a href="#UNIFLASH_1MB_ISSUE">Issues with flashing applications &gt; 1MB in serial session</a></li>
</ul>
</li>
<li class="level1"><a href="#TI_UNIFLASH_TROUBLESHOOTING">Troubleshooting</a></li>
<li class="level1"><a href="#SUPPORTED_FORMATS">Supported File Formats</a></li>
<li class="level1"><a href="#MEMORY_BROWSER">Memory Browser and Memory Export</a></li>
<li class="level1"><a href="#autotoc_md794">Additional Information</a></li>
</ul>
</div>
<div class="textblock"><p><a class="anchor" id="md_components_tools_ti_uniflash"></a></p>
<h1><a class="anchor" id="autotoc_md789"></a>
Introduction</h1>
<p>TI UniFlash Tool is a software utility designed for programming "On-chip" and "External flash" memory on TI microcontrollers and wireless connectivity devices. Sitara MCU devices now support TI Uniflash tool for loading or flashing images into the Target. Uniflash offers both graphical and command-line interfaces. This document provides a comprehensive guide on how to use UniFlash for flashing Sitara MCU devices.</p>
<h1><a class="anchor" id="INSTALL_UNIFLASH"></a>
Download and Install Uniflash</h1>
<dl class="section note"><dt>Note</dt><dd>The steps on this page need to be done once on a given host machine</dd></dl>
<ul>
<li>The TI Uniflash download home page is, <a href="https://www.ti.com/tool/UNIFLASH">https://www.ti.com/tool/UNIFLASH</a></li>
<li>Download the latest version 8.6.0</li>
<li>Install at below path,<ul>
<li>Windows, C:/ti</li>
<li>Linux, ${HOME}/ti</li>
</ul>
</li>
<li>Launch the Uniflash Application</li>
</ul>
<h1><a class="anchor" id="LAUNCHING_SESSION"></a>
Launching a Session</h1>
<p>To perform flash operations on your device, you must initiate a flash session tailored to the specific device. Here are multiple ways to start a new session:</p>
<ul>
<li>Auto Detect<ul>
<li>When connecting a board, UniFlash automatically chooses the appropriate connection for you. Auto-detect uses JTAG serial to recognize the device. If you start the session using auto detect, JTAG connection is automatically selected for the session. <div class="image">
<img src="detected_device_am263x.png" alt=""/>
<div class="caption">
Detected Devices</div></div>
</li>
</ul>
</li>
<li>Board or Device/Connection Combination<ul>
<li>You can manually select your device by choosing <b>Sitara MCU</b> filter and selecting your device and connection type.</li>
<li>JTAG connection type is selected by default if you choose your device with on-chip type.  <style>div.image img[src="new_config_am263x.png"]{width:70%}</style> <div class="image">
<img src="new_config_am263x.png" alt=""/>
<div class="caption">
New JTAG Configuration</div></div>
</li>
<li>Use the device name ending with (Serial) to initiate a serial (UART) flashing session. In this case, the serial connection is automatically selected.  <style>div.image img[src="serial_config_am263x.png"]{width:70%}</style> <div class="image">
<img src="serial_config_am263x.png" alt=""/>
<div class="caption">
New Serial Configuration</div></div>
</li>
<li>Select the correct part number to use a different connection. If you select the device by board name, the default connection type will be automatically selected for you.  <style>div.image img[src="connection_xds110.png"]{width:40%}</style> <div class="image">
<img src="connection_xds110.png" alt=""/>
<div class="caption">
Connection Type</div></div>
</li>
</ul>
</li>
<li>Loading a Previously Saved Session<ul>
<li>Loading a saved session restores your prior selections, including device, connection, and settings. If you haven't saved a session in Uniflash before, this tab will not be visible.  <style>div.image img[src="recent_session.png"]{width:80%}</style> <div class="image">
<img src="recent_session.png" alt=""/>
<div class="caption">
Recent Session Selection</div></div>
</li>
</ul>
</li>
<li>Selecting a CCXML File Created by CCS/Uniflash<ul>
<li>This option is useful when you already have the configuration settings in the CCXML file. <div class="image">
<img src="existing_config.png" alt=""/>
<div class="caption">
New CCXML Configuration</div></div>
</li>
</ul>
</li>
</ul>
<p>After setting up one of the above session launch type, Click the Start button to launch the new session.</p>
<h1><a class="anchor" id="PROGRAM_THE_DEVICE"></a>
Programming the Device</h1>
<h2><a class="anchor" id="autotoc_md790"></a>
JTAG Session</h2>
<ol type="1">
<li>Set the board in <a class="el" href="EVM_SETUP_PAGE.html#BOOTMODE_NOBOOT">DEVBOOT MODE</a> mode and do a power cycle prior to loading.</li>
<li>Choose a Program to Flash:<ul>
<li>Click the "Browse" button to select the program you want to flash.</li>
<li>The default start address is automatically filled. UniFlash requires the full address since flash offsets are not supported.  <style>div.image img[src="load_jtag_1.png"]{width:70%}</style> <div class="image">
<img src="load_jtag_1.png" alt=""/>
<div class="caption">
Load Binary Image</div></div>
</li>
</ul>
</li>
<li>Flash Address Table:<ul>
<li>The table below shows the flash addresses accepted by the ROM/SBL to load programs onto the target: <table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Program  </th><th class="markdownTableHeadNone">Start Address   </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">SBL  </td><td class="markdownTableBodyNone">0x60000000   </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Application  </td><td class="markdownTableBodyNone">0x60080000   </td></tr>
</table>
</li>
<li>Edit the application offset field only, if your sbl is configured with custom application offset</li>
</ul>
</li>
<li>Initiating Programming:<ul>
<li>After clicking "Load Image," UniFlash starts the programming process, and the console displays a log of each operation. <b>[SUCCESS] Program Load completed successfully</b> will get printed in the console, if the program loads into the target successfully.</li>
</ul>
</li>
</ol>
<h2><a class="anchor" id="autotoc_md791"></a>
Serial (UART) Session</h2>
<ol type="1">
<li>Set the board in <a class="el" href="EVM_SETUP_PAGE.html#BOOTMODE_UART">UART BOOT MODE</a> mode and do a power cycle.</li>
<li>Enter the appropriate COM Port and select the board type. Make sure the UART port used for terminal is identified as mentioned in <a class="el" href="EVM_SETUP_PAGE.html#CCS_UART_TERMINAL">Setup UART Terminal</a> <div class="image">
<img src="uart_com.png" alt=""/>
<div class="caption">
COM Port Selection</div></div>
</li>
<li>Choose a Program to Flash:<ul>
<li>Click the "Browse" button to select the program you want to flash. Serial Uniflash session supports three binary image formats - SBL, application image, XIP application image. It is not necessary to have three images in order to carry out the operation.</li>
<li>The SBL and application image flash offsets are handled internally based on the device's SBL configuration.  <style>div.image img[src="uart_load_1.png"]{width:80%}</style> <div class="image">
<img src="uart_load_1.png" alt=""/>
<div class="caption">
Load Binary Image</div></div>
</li>
<li>Change the application offset from the settings. This step is only needed if you are using sbl with custom application offset.  <style>div.image img[src="image_offset.png"]{width:80%}</style> <div class="image">
<img src="image_offset.png" alt=""/>
<div class="caption">
Custom Application Offset</div></div>
</li>
</ul>
</li>
<li>Initiating Programming:<ul>
<li>After clicking "Load Image," UniFlash starts the programming process, and the console displays a log of each operation. <b>[SUCCESS] Program Load completed successfully</b> will get printed in the console, if the program loads into the target successfully.</li>
</ul>
</li>
</ol>
<h1><a class="anchor" id="CUSTOM_FLASH"></a>
Custom Flash Support</h1>
<ul>
<li>JTAG<ul>
<li>Please use <a class="el" href="TOOLS_UNIFLASH_CUSTOM_FLASHER.html">Uniflash Custom Flash Writer</a> guide to build the flasher app and input the path of the .out file in the tool. The custom flasher input field is found at Settings &amp; Utilities page.  <style>div.image img[src="jtag_flasher_path.png"]{width:70%}</style> <div class="image">
<img src="jtag_flasher_path.png" alt=""/>
<div class="caption">
JTAG Custom Flash writer</div></div>
</li>
</ul>
</li>
<li>Serial<ul>
<li>Please build the existing <a class="el" href="EXAMPLES_DRIVERS_SBL_UART_UNIFLASH.html">SBL UART Flash Writer</a> application using your custom flash configuration. Then, input the file path for the .tiimage in the tool. The custom flasher input field is found at Settings &amp; Utilities page.  <style>div.image img[src="uart_flasher_path.png"]{width:70%}</style> <div class="image">
<img src="uart_flasher_path.png" alt=""/>
<div class="caption">
UART Custom Flash writer</div></div>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="LIMITATIONS"></a>
Existing Limitations</h1>
<ul>
<li>If the flashing operation hangs in the serial session, the Cancel button will be unresponsive. To resolve the issue, close uniflash, relaunch it, and ensure that your board selection and flash configurations are correct.</li>
</ul>
<h2><a class="anchor" id="UNIFLASH_1MB_ISSUE"></a>
Issues with flashing applications &gt; 1MB in serial session</h2>
<ul>
<li>To resolve this, go to the serial flasher script located at <div class="fragment"><div class="line">C:/ti/uniflash_9.1.0/deskdb/content/TICloudAgent/win/ccs_base/sitara_mcu/serial/FlashPython.py</div>
</div><!-- fragment --></li>
<li>Modify line 288 to include an argument "optype" while calling create_temp_file <div class="fragment"><div class="line">tempfilename = create_temp_file(filename, offset, optype)</div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="TI_UNIFLASH_TROUBLESHOOTING"></a>
Troubleshooting</h1>
<ul>
<li>If the default flashing algorithm that comes with Uniflash is not working for you, you can try using the one that comes with the SDK.</li>
<li>You can find the prebuilt flashers at the following location: <div class="fragment"><div class="line">&lt;MCU_SDK_ROOT&gt;\tools\flasher\prebuilt</div>
</div><!-- fragment --></li>
<li>To use the flasher packaged with the SDK, you can either enter the path in the custom flasher field or replace the Uniflash flasher directly from the below path: <div class="fragment"><div class="line">&lt;uniflash_root&gt;deskdb\content\TICloudAgent\win\ccs_base\sitara_mcu\flasher</div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="SUPPORTED_FORMATS"></a>
Supported File Formats</h1>
<p>When loading a file to flash or RAM, UniFlash supports the following formats:</p>
<ul>
<li>TI COFF</li>
<li>TI ELF</li>
<li>Intel Hex</li>
<li>Motorola S-Record</li>
<li>Tektronix Hex</li>
<li>TI-TXT</li>
<li>Binary (.mcelf, .mcelf.hs, .mcelf.hs_fs, .tiimage)</li>
</ul>
<p>When saving memory to a file, UniFlash supports the following formats:</p>
<ul>
<li>TI COFF</li>
<li>Binary</li>
</ul>
<h1><a class="anchor" id="MEMORY_BROWSER"></a>
Memory Browser and Memory Export</h1>
<ul>
<li>The Memory View in UniFlash allows you to browse the target memory quickly. Please note that this view is read-only.</li>
<li>To read the RAM memory without clearing the data on refresh, keep the "Remain Connected after operations" option ticked as shown.</li>
</ul>
<p> <style>div.image img[src="core_connection.png"]{width:50%}</style> </p><div class="image">
<img src="core_connection.png" alt=""/>
<div class="caption">
Keep core connected</div></div>
<ul>
<li>To export a range of memory, follow these steps:<ul>
<li>Use the Memory View to select the desired memory range.</li>
<li>Click the "Export" button.</li>
<li>Choose either a binary (.BIN) file or a COFF (.out) file for export. The COFF format enables the export of multiple memory sections.</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md794"></a>
Additional Information</h1>
<p>This documentation provides an overview of the TI UniFlash Tool's key features and usage for Sitara MCU devices. Refer to the tool's official documentation for more detailed instructions and troubleshooting information. <a href="https://software-dl.ti.com/ccs/esd/uniflash/docs/v8_4/uniflash_quick_start_guide.html">TI Uniflash Quick Start Guide</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.11-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
